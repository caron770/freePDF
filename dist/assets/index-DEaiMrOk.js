const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pdf-CkpsfR6Y.js","assets/pdfjs-j0C5F3HO.js"])))=>i.map(i=>d[i]);
import{g as getDefaultExportFromCjs,c as commonjsRequire,r as require$$5,a as commonjsGlobal}from"./pdfjs-j0C5F3HO.js";import{P as PDFDocument}from"./pdf-lib-CN6jjvHI.js";function _mergeNamespaces(o,s){for(var n=0;n<s.length;n++){const a=s[n];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in o)){const f=Object.getOwnPropertyDescriptor(a,l);f&&Object.defineProperty(o,l,f.get?f:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const v of f.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&a(v)}).observe(document,{childList:!0,subtree:!0});function n(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(l){if(l.ep)return;l.ep=!0;const f=n(l);fetch(l.href,f)}})();var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var o=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),p=Symbol.iterator;function g(D){return D===null||typeof D!="object"?null:(D=p&&D[p]||D["@@iterator"],typeof D=="function"?D:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d=Object.assign,m={};function S(D,B,W){this.props=D,this.context=B,this.refs=m,this.updater=W||y}S.prototype.isReactComponent={},S.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},S.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function x(){}x.prototype=S.prototype;function T(D,B,W){this.props=D,this.context=B,this.refs=m,this.updater=W||y}var j=T.prototype=new x;j.constructor=T,d(j,S.prototype),j.isPureReactComponent=!0;var L=Array.isArray,w=Object.prototype.hasOwnProperty,M={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function $(D,B,W){var G,H={},A=null,O=null;if(B!=null)for(G in B.ref!==void 0&&(O=B.ref),B.key!==void 0&&(A=""+B.key),B)w.call(B,G)&&!z.hasOwnProperty(G)&&(H[G]=B[G]);var F=arguments.length-2;if(F===1)H.children=W;else if(1<F){for(var _=Array(F),N=0;N<F;N++)_[N]=arguments[N+2];H.children=_}if(D&&D.defaultProps)for(G in F=D.defaultProps,F)H[G]===void 0&&(H[G]=F[G]);return{$$typeof:o,type:D,key:A,ref:O,props:H,_owner:M.current}}function V(D,B){return{$$typeof:o,type:D.type,key:B,ref:D.ref,props:D.props,_owner:D._owner}}function K(D){return typeof D=="object"&&D!==null&&D.$$typeof===o}function J(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(W){return B[W]})}var te=/\/+/g;function se(D,B){return typeof D=="object"&&D!==null&&D.key!=null?J(""+D.key):B.toString(36)}function de(D,B,W,G,H){var A=typeof D;(A==="undefined"||A==="boolean")&&(D=null);var O=!1;if(D===null)O=!0;else switch(A){case"string":case"number":O=!0;break;case"object":switch(D.$$typeof){case o:case s:O=!0}}if(O)return O=D,H=H(O),D=G===""?"."+se(O,0):G,L(H)?(W="",D!=null&&(W=D.replace(te,"$&/")+"/"),de(H,B,W,"",function(N){return N})):H!=null&&(K(H)&&(H=V(H,W+(!H.key||O&&O.key===H.key?"":(""+H.key).replace(te,"$&/")+"/")+D)),B.push(H)),1;if(O=0,G=G===""?".":G+":",L(D))for(var F=0;F<D.length;F++){A=D[F];var _=G+se(A,F);O+=de(A,B,W,_,H)}else if(_=g(D),typeof _=="function")for(D=_.call(D),F=0;!(A=D.next()).done;)A=A.value,_=G+se(A,F++),O+=de(A,B,W,_,H);else if(A==="object")throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return O}function pe(D,B,W){if(D==null)return D;var G=[],H=0;return de(D,G,"","",function(A){return B.call(W,A,H++)}),G}function ie(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(W){(D._status===0||D._status===-1)&&(D._status=1,D._result=W)},function(W){(D._status===0||D._status===-1)&&(D._status=2,D._result=W)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var Y={current:null},I={transition:null},R={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:I,ReactCurrentOwner:M};function P(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:pe,forEach:function(D,B,W){pe(D,function(){B.apply(this,arguments)},W)},count:function(D){var B=0;return pe(D,function(){B++}),B},toArray:function(D){return pe(D,function(B){return B})||[]},only:function(D){if(!K(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},react_production_min.Component=S,react_production_min.Fragment=n,react_production_min.Profiler=l,react_production_min.PureComponent=T,react_production_min.StrictMode=a,react_production_min.Suspense=k,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,react_production_min.act=P,react_production_min.cloneElement=function(D,B,W){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var G=d({},D.props),H=D.key,A=D.ref,O=D._owner;if(B!=null){if(B.ref!==void 0&&(A=B.ref,O=M.current),B.key!==void 0&&(H=""+B.key),D.type&&D.type.defaultProps)var F=D.type.defaultProps;for(_ in B)w.call(B,_)&&!z.hasOwnProperty(_)&&(G[_]=B[_]===void 0&&F!==void 0?F[_]:B[_])}var _=arguments.length-2;if(_===1)G.children=W;else if(1<_){F=Array(_);for(var N=0;N<_;N++)F[N]=arguments[N+2];G.children=F}return{$$typeof:o,type:D.type,key:H,ref:A,props:G,_owner:O}},react_production_min.createContext=function(D){return D={$$typeof:v,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:f,_context:D},D.Consumer=D},react_production_min.createElement=$,react_production_min.createFactory=function(D){var B=$.bind(null,D);return B.type=D,B},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(D){return{$$typeof:b,render:D}},react_production_min.isValidElement=K,react_production_min.lazy=function(D){return{$$typeof:c,_payload:{_status:-1,_result:D},_init:ie}},react_production_min.memo=function(D,B){return{$$typeof:h,type:D,compare:B===void 0?null:B}},react_production_min.startTransition=function(D){var B=I.transition;I.transition={};try{D()}finally{I.transition=B}},react_production_min.unstable_act=P,react_production_min.useCallback=function(D,B){return Y.current.useCallback(D,B)},react_production_min.useContext=function(D){return Y.current.useContext(D)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(D){return Y.current.useDeferredValue(D)},react_production_min.useEffect=function(D,B){return Y.current.useEffect(D,B)},react_production_min.useId=function(){return Y.current.useId()},react_production_min.useImperativeHandle=function(D,B,W){return Y.current.useImperativeHandle(D,B,W)},react_production_min.useInsertionEffect=function(D,B){return Y.current.useInsertionEffect(D,B)},react_production_min.useLayoutEffect=function(D,B){return Y.current.useLayoutEffect(D,B)},react_production_min.useMemo=function(D,B){return Y.current.useMemo(D,B)},react_production_min.useReducer=function(D,B,W){return Y.current.useReducer(D,B,W)},react_production_min.useRef=function(D){return Y.current.useRef(D)},react_production_min.useState=function(D){return Y.current.useState(D)},react_production_min.useSyncExternalStore=function(D,B,W){return Y.current.useSyncExternalStore(D,B,W)},react_production_min.useTransition=function(){return Y.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var o=requireReact(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function v(b,k,h){var c,p={},g=null,y=null;h!==void 0&&(g=""+h),k.key!==void 0&&(g=""+k.key),k.ref!==void 0&&(y=k.ref);for(c in k)a.call(k,c)&&!f.hasOwnProperty(c)&&(p[c]=k[c]);if(b&&b.defaultProps)for(c in k=b.defaultProps,k)p[c]===void 0&&(p[c]=k[c]);return{$$typeof:s,type:b,key:g,ref:y,props:p,_owner:l.current}}return reactJsxRuntime_production_min.Fragment=n,reactJsxRuntime_production_min.jsx=v,reactJsxRuntime_production_min.jsxs=v,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,(function(o){function s(I,R){var P=I.length;I.push(R);e:for(;0<P;){var D=P-1>>>1,B=I[D];if(0<l(B,R))I[D]=R,I[P]=B,P=D;else break e}}function n(I){return I.length===0?null:I[0]}function a(I){if(I.length===0)return null;var R=I[0],P=I.pop();if(P!==R){I[0]=P;e:for(var D=0,B=I.length,W=B>>>1;D<W;){var G=2*(D+1)-1,H=I[G],A=G+1,O=I[A];if(0>l(H,P))A<B&&0>l(O,H)?(I[D]=O,I[A]=P,D=A):(I[D]=H,I[G]=P,D=G);else if(A<B&&0>l(O,P))I[D]=O,I[A]=P,D=A;else break e}}return R}function l(I,R){var P=I.sortIndex-R.sortIndex;return P!==0?P:I.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;o.unstable_now=function(){return f.now()}}else{var v=Date,b=v.now();o.unstable_now=function(){return v.now()-b}}var k=[],h=[],c=1,p=null,g=3,y=!1,d=!1,m=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(I){for(var R=n(h);R!==null;){if(R.callback===null)a(h);else if(R.startTime<=I)a(h),R.sortIndex=R.expirationTime,s(k,R);else break;R=n(h)}}function L(I){if(m=!1,j(I),!d)if(n(k)!==null)d=!0,ie(w);else{var R=n(h);R!==null&&Y(L,R.startTime-I)}}function w(I,R){d=!1,m&&(m=!1,x($),$=-1),y=!0;var P=g;try{for(j(R),p=n(k);p!==null&&(!(p.expirationTime>R)||I&&!J());){var D=p.callback;if(typeof D=="function"){p.callback=null,g=p.priorityLevel;var B=D(p.expirationTime<=R);R=o.unstable_now(),typeof B=="function"?p.callback=B:p===n(k)&&a(k),j(R)}else a(k);p=n(k)}if(p!==null)var W=!0;else{var G=n(h);G!==null&&Y(L,G.startTime-R),W=!1}return W}finally{p=null,g=P,y=!1}}var M=!1,z=null,$=-1,V=5,K=-1;function J(){return!(o.unstable_now()-K<V)}function te(){if(z!==null){var I=o.unstable_now();K=I;var R=!0;try{R=z(!0,I)}finally{R?se():(M=!1,z=null)}}else M=!1}var se;if(typeof T=="function")se=function(){T(te)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,pe=de.port2;de.port1.onmessage=te,se=function(){pe.postMessage(null)}}else se=function(){S(te,0)};function ie(I){z=I,M||(M=!0,se())}function Y(I,R){$=S(function(){I(o.unstable_now())},R)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(I){I.callback=null},o.unstable_continueExecution=function(){d||y||(d=!0,ie(w))},o.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<I?Math.floor(1e3/I):5},o.unstable_getCurrentPriorityLevel=function(){return g},o.unstable_getFirstCallbackNode=function(){return n(k)},o.unstable_next=function(I){switch(g){case 1:case 2:case 3:var R=3;break;default:R=g}var P=g;g=R;try{return I()}finally{g=P}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(I,R){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var P=g;g=I;try{return R()}finally{g=P}},o.unstable_scheduleCallback=function(I,R,P){var D=o.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?D+P:D):P=D,I){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=P+B,I={id:c++,callback:R,priorityLevel:I,startTime:P,expirationTime:B,sortIndex:-1},P>D?(I.sortIndex=P,s(h,I),n(k)===null&&I===n(h)&&(m?(x($),$=-1):m=!0,Y(L,P-D))):(I.sortIndex=B,s(k,I),d||y||(d=!0,ie(w))),I},o.unstable_shouldYield=J,o.unstable_wrapCallback=function(I){var R=g;return function(){var P=g;g=R;try{return I.apply(this,arguments)}finally{g=P}}}})(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var o=requireReact(),s=requireScheduler();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function f(e,t){v(e,t),v(e+"Capture",t)}function v(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var b=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},p={};function g(e){return k.call(p,e)?!0:k.call(c,e)?!1:h.test(e)?p[e]=!0:(c[e]=!0,!1)}function y(e,t,i,u){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function d(e,t,i,u){if(t===null||typeof t>"u"||y(e,t,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function m(e,t,i,u,E,C,U){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=u,this.attributeNamespace=E,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=C,this.removeEmptyString=U}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];S[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,T);S[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,T);S[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,T);S[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});function j(e,t,i,u){var E=S.hasOwnProperty(t)?S[t]:null;(E!==null?E.type!==0:u||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(d(t,i,E,u)&&(i=null),u||E===null?g(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):E.mustUseProperty?e[E.propertyName]=i===null?E.type===3?!1:"":i:(t=E.attributeName,u=E.attributeNamespace,i===null?e.removeAttribute(t):(E=E.type,i=E===3||E===4&&i===!0?"":""+i,u?e.setAttributeNS(u,t,i):e.setAttribute(t,i))))}var L=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),M=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),J=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),I=Symbol.iterator;function R(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var P=Object.assign,D;function B(e){if(D===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return`
`+D+e}var W=!1;function G(e,t){if(!e||W)return"";W=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(fe){var u=fe}Reflect.construct(e,[],t)}else{try{t.call()}catch(fe){u=fe}e.call(t.prototype)}else{try{throw Error()}catch(fe){u=fe}e()}}catch(fe){if(fe&&u&&typeof fe.stack=="string"){for(var E=fe.stack.split(`
`),C=u.stack.split(`
`),U=E.length-1,Q=C.length-1;1<=U&&0<=Q&&E[U]!==C[Q];)Q--;for(;1<=U&&0<=Q;U--,Q--)if(E[U]!==C[Q]){if(U!==1||Q!==1)do if(U--,Q--,0>Q||E[U]!==C[Q]){var q=`
`+E[U].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=U&&0<=Q);break}}}finally{W=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1),e;case 11:return e=G(e.type.render,!1),e;case 1:return e=G(e.type,!0),e;default:return""}}function A(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case M:return"Portal";case V:return"Profiler";case $:return"StrictMode";case se:return"Suspense";case de:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J:return(e.displayName||"Context")+".Consumer";case K:return(e._context.displayName||"Context")+".Provider";case te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pe:return t=e.displayName||null,t!==null?t:A(e.type)||"Memo";case ie:t=e._payload,e=e._init;try{return A(e(t))}catch{}}return null}function O(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(t);case 8:return t===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function F(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function N(e){var t=_(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var E=i.get,C=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return E.call(this)},set:function(U){u=""+U,C.call(this,U)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(U){u=""+U},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function X(e){e._valueTracker||(e._valueTracker=N(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),u="";return e&&(u=_(e)?e.checked?"true":"false":e.value),e=u,e!==i?(t.setValue(e),!0):!1}function ne(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ye(e,t){var i=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function oe(e,t){var i=t.defaultValue==null?"":t.defaultValue,u=t.checked!=null?t.checked:t.defaultChecked;i=F(t.value!=null?t.value:i),e._wrapperState={initialChecked:u,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function he(e,t){t=t.checked,t!=null&&j(e,"checked",t,!1)}function ge(e,t){he(e,t);var i=F(t.value),u=t.type;if(i!=null)u==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ve(e,t.type,i):t.hasOwnProperty("defaultValue")&&ve(e,t.type,F(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function me(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var u=t.type;if(!(u!=="submit"&&u!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function ve(e,t,i){(t!=="number"||ne(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Ce=Array.isArray;function Re(e,t,i,u){if(e=e.options,t){t={};for(var E=0;E<i.length;E++)t["$"+i[E]]=!0;for(i=0;i<e.length;i++)E=t.hasOwnProperty("$"+e[i].value),e[i].selected!==E&&(e[i].selected=E),E&&u&&(e[i].defaultSelected=!0)}else{for(i=""+F(i),t=null,E=0;E<e.length;E++){if(e[E].value===i){e[E].selected=!0,u&&(e[E].defaultSelected=!0);return}t!==null||e[E].disabled||(t=e[E])}t!==null&&(t.selected=!0)}}function Fe(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ue(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(Ce(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:F(i)}}function He(e,t){var i=F(t.value),u=F(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),u!=null&&(e.defaultValue=""+u)}function Ye(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nt,qe=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,u,E){MSApp.execUnsafeLocalFunction(function(){return e(t,i,u,E)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nt=Nt||document.createElement("div"),Nt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pt(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nn=["Webkit","ms","Moz","O"];Object.keys(et).forEach(function(e){Nn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),et[t]=et[e]})});function Jn(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||et.hasOwnProperty(e)&&et[e]?(""+t).trim():t+"px"}function mn(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var u=i.indexOf("--")===0,E=Jn(i,t[i],u);i==="float"&&(i="cssFloat"),u?e.setProperty(i,E):e[i]=E}}var Ee=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function le(e,t){if(t){if(Ee[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function re(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function Ge(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var at=null,ae=null,Te=null;function je(e){if(e=_r(e)){if(typeof at!="function")throw Error(n(280));var t=e.stateNode;t&&(t=xs(t),at(e.stateNode,e.type,t))}}function Ie(e){ae?Te?Te.push(e):Te=[e]:ae=e}function Ne(){if(ae){var e=ae,t=Te;if(Te=ae=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function $e(e,t){return e(t)}function we(){}var Ke=!1;function We(e,t,i){if(Ke)return e(t,i);Ke=!0;try{return $e(e,t,i)}finally{Ke=!1,(ae!==null||Te!==null)&&(we(),Ne())}}function Ve(e,t){var i=e.stateNode;if(i===null)return null;var u=xs(i);if(u===null)return null;i=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var st=!1;if(b)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){st=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{st=!1}function ct(e,t,i,u,E,C,U,Q,q){var fe=Array.prototype.slice.call(arguments,3);try{t.apply(i,fe)}catch(Se){this.onError(Se)}}var jt=!1,xt=null,tn=!1,jn=null,mc={onError:function(e){jt=!0,xt=e}};function vc(e,t,i,u,E,C,U,Q,q){jt=!1,xt=null,ct.apply(mc,arguments)}function yc(e,t,i,u,E,C,U,Q,q){if(vc.apply(this,arguments),jt){if(jt){var fe=xt;jt=!1,xt=null}else throw Error(n(198));tn||(tn=!0,jn=fe)}}function _n(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function _a(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ba(e){if(_n(e)!==e)throw Error(n(188))}function xc(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,u=t;;){var E=i.return;if(E===null)break;var C=E.alternate;if(C===null){if(u=E.return,u!==null){i=u;continue}break}if(E.child===C.child){for(C=E.child;C;){if(C===i)return Ba(E),e;if(C===u)return Ba(E),t;C=C.sibling}throw Error(n(188))}if(i.return!==u.return)i=E,u=C;else{for(var U=!1,Q=E.child;Q;){if(Q===i){U=!0,i=E,u=C;break}if(Q===u){U=!0,u=E,i=C;break}Q=Q.sibling}if(!U){for(Q=C.child;Q;){if(Q===i){U=!0,i=C,u=E;break}if(Q===u){U=!0,u=C,i=E;break}Q=Q.sibling}if(!U)throw Error(n(189))}}if(i.alternate!==u)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function Ua(e){return e=xc(e),e!==null?za(e):null}function za(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=za(e);if(t!==null)return t;e=e.sibling}return null}var Ha=s.unstable_scheduleCallback,Wa=s.unstable_cancelCallback,Ec=s.unstable_shouldYield,Sc=s.unstable_requestPaint,ht=s.unstable_now,bc=s.unstable_getCurrentPriorityLevel,si=s.unstable_ImmediatePriority,$a=s.unstable_UserBlockingPriority,qr=s.unstable_NormalPriority,Ac=s.unstable_LowPriority,Va=s.unstable_IdlePriority,es=null,nn=null;function wc(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(es,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:kc,Cc=Math.log,Tc=Math.LN2;function kc(e){return e>>>=0,e===0?32:31-(Cc(e)/Tc|0)|0}var ts=64,ns=4194304;function Er(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rs(e,t){var i=e.pendingLanes;if(i===0)return 0;var u=0,E=e.suspendedLanes,C=e.pingedLanes,U=i&268435455;if(U!==0){var Q=U&~E;Q!==0?u=Er(Q):(C&=U,C!==0&&(u=Er(C)))}else U=i&~E,U!==0?u=Er(U):C!==0&&(u=Er(C));if(u===0)return 0;if(t!==0&&t!==u&&(t&E)===0&&(E=u&-u,C=t&-t,E>=C||E===16&&(C&4194240)!==0))return t;if((u&4)!==0&&(u|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=u;0<t;)i=31-Yt(t),E=1<<i,u|=e[i],t&=~E;return u}function Rc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pc(e,t){for(var i=e.suspendedLanes,u=e.pingedLanes,E=e.expirationTimes,C=e.pendingLanes;0<C;){var U=31-Yt(C),Q=1<<U,q=E[U];q===-1?((Q&i)===0||(Q&u)!==0)&&(E[U]=Rc(Q,t)):q<=t&&(e.expiredLanes|=Q),C&=~Q}}function ii(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ga(){var e=ts;return ts<<=1,(ts&4194240)===0&&(ts=64),e}function ai(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Sr(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yt(t),e[t]=i}function Dc(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<i;){var E=31-Yt(i),C=1<<E;t[E]=0,u[E]=-1,e[E]=-1,i&=~C}}function oi(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var u=31-Yt(i),E=1<<u;E&t|e[u]&t&&(e[u]|=t),i&=~E}}var Je=0;function Xa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ya,li,Ka,Qa,Ja,ci=!1,ss=[],vn=null,yn=null,xn=null,br=new Map,Ar=new Map,En=[],Oc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Za(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(t.pointerId)}}function wr(e,t,i,u,E,C){return e===null||e.nativeEvent!==C?(e={blockedOn:t,domEventName:i,eventSystemFlags:u,nativeEvent:C,targetContainers:[E]},t!==null&&(t=_r(t),t!==null&&li(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,E!==null&&t.indexOf(E)===-1&&t.push(E),e)}function Mc(e,t,i,u,E){switch(t){case"focusin":return vn=wr(vn,e,t,i,u,E),!0;case"dragenter":return yn=wr(yn,e,t,i,u,E),!0;case"mouseover":return xn=wr(xn,e,t,i,u,E),!0;case"pointerover":var C=E.pointerId;return br.set(C,wr(br.get(C)||null,e,t,i,u,E)),!0;case"gotpointercapture":return C=E.pointerId,Ar.set(C,wr(Ar.get(C)||null,e,t,i,u,E)),!0}return!1}function qa(e){var t=Bn(e.target);if(t!==null){var i=_n(t);if(i!==null){if(t=i.tag,t===13){if(t=_a(i),t!==null){e.blockedOn=t,Ja(e.priority,function(){Ka(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=di(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var u=new i.constructor(i.type,i);ke=u,i.target.dispatchEvent(u),ke=null}else return t=_r(i),t!==null&&li(t),e.blockedOn=i,!1;t.shift()}return!0}function eo(e,t,i){is(e)&&i.delete(t)}function Ic(){ci=!1,vn!==null&&is(vn)&&(vn=null),yn!==null&&is(yn)&&(yn=null),xn!==null&&is(xn)&&(xn=null),br.forEach(eo),Ar.forEach(eo)}function Cr(e,t){e.blockedOn===t&&(e.blockedOn=null,ci||(ci=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ic)))}function Tr(e){function t(E){return Cr(E,e)}if(0<ss.length){Cr(ss[0],e);for(var i=1;i<ss.length;i++){var u=ss[i];u.blockedOn===e&&(u.blockedOn=null)}}for(vn!==null&&Cr(vn,e),yn!==null&&Cr(yn,e),xn!==null&&Cr(xn,e),br.forEach(t),Ar.forEach(t),i=0;i<En.length;i++)u=En[i],u.blockedOn===e&&(u.blockedOn=null);for(;0<En.length&&(i=En[0],i.blockedOn===null);)qa(i),i.blockedOn===null&&En.shift()}var Zn=L.ReactCurrentBatchConfig,as=!0;function Fc(e,t,i,u){var E=Je,C=Zn.transition;Zn.transition=null;try{Je=1,ui(e,t,i,u)}finally{Je=E,Zn.transition=C}}function Lc(e,t,i,u){var E=Je,C=Zn.transition;Zn.transition=null;try{Je=4,ui(e,t,i,u)}finally{Je=E,Zn.transition=C}}function ui(e,t,i,u){if(as){var E=di(e,t,i,u);if(E===null)Ri(e,t,u,os,i),Za(e,u);else if(Mc(E,e,t,i,u))u.stopPropagation();else if(Za(e,u),t&4&&-1<Oc.indexOf(e)){for(;E!==null;){var C=_r(E);if(C!==null&&Ya(C),C=di(e,t,i,u),C===null&&Ri(e,t,u,os,i),C===E)break;E=C}E!==null&&u.stopPropagation()}else Ri(e,t,u,null,i)}}var os=null;function di(e,t,i,u){if(os=null,e=Ge(u),e=Bn(e),e!==null)if(t=_n(e),t===null)e=null;else if(i=t.tag,i===13){if(e=_a(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return os=e,null}function to(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bc()){case si:return 1;case $a:return 4;case qr:case Ac:return 16;case Va:return 536870912;default:return 16}default:return 16}}var Sn=null,hi=null,ls=null;function no(){if(ls)return ls;var e,t=hi,i=t.length,u,E="value"in Sn?Sn.value:Sn.textContent,C=E.length;for(e=0;e<i&&t[e]===E[e];e++);var U=i-e;for(u=1;u<=U&&t[i-u]===E[C-u];u++);return ls=E.slice(e,1<u?1-u:void 0)}function cs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function us(){return!0}function ro(){return!1}function _t(e){function t(i,u,E,C,U){this._reactName=i,this._targetInst=E,this.type=u,this.nativeEvent=C,this.target=U,this.currentTarget=null;for(var Q in e)e.hasOwnProperty(Q)&&(i=e[Q],this[Q]=i?i(C):C[Q]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?us:ro,this.isPropagationStopped=ro,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),t}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=_t(qn),kr=P({},qn,{view:0,detail:0}),Nc=_t(kr),pi,gi,Rr,ds=P({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rr&&(Rr&&e.type==="mousemove"?(pi=e.screenX-Rr.screenX,gi=e.screenY-Rr.screenY):gi=pi=0,Rr=e),pi)},movementY:function(e){return"movementY"in e?e.movementY:gi}}),so=_t(ds),jc=P({},ds,{dataTransfer:0}),_c=_t(jc),Bc=P({},kr,{relatedTarget:0}),mi=_t(Bc),Uc=P({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),zc=_t(Uc),Hc=P({},qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wc=_t(Hc),$c=P({},qn,{data:0}),io=_t($c),Vc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xc[e])?!!t[e]:!1}function vi(){return Yc}var Kc=P({},kr,{key:function(e){if(e.key){var t=Vc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vi,charCode:function(e){return e.type==="keypress"?cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qc=_t(Kc),Jc=P({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ao=_t(Jc),Zc=P({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vi}),qc=_t(Zc),eu=P({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),tu=_t(eu),nu=P({},ds,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ru=_t(nu),su=[9,13,27,32],yi=b&&"CompositionEvent"in window,Pr=null;b&&"documentMode"in document&&(Pr=document.documentMode);var iu=b&&"TextEvent"in window&&!Pr,oo=b&&(!yi||Pr&&8<Pr&&11>=Pr),lo=" ",co=!1;function uo(e,t){switch(e){case"keyup":return su.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var er=!1;function au(e,t){switch(e){case"compositionend":return ho(t);case"keypress":return t.which!==32?null:(co=!0,lo);case"textInput":return e=t.data,e===lo&&co?null:e;default:return null}}function ou(e,t){if(er)return e==="compositionend"||!yi&&uo(e,t)?(e=no(),ls=hi=Sn=null,er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oo&&t.locale!=="ko"?null:t.data;default:return null}}var lu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lu[e.type]:t==="textarea"}function po(e,t,i,u){Ie(u),t=ms(t,"onChange"),0<t.length&&(i=new fi("onChange","change",null,i,u),e.push({event:i,listeners:t}))}var Dr=null,Or=null;function cu(e){Mo(e,0)}function hs(e){var t=ir(e);if(Z(t))return e}function uu(e,t){if(e==="change")return t}var go=!1;if(b){var xi;if(b){var Ei="oninput"in document;if(!Ei){var mo=document.createElement("div");mo.setAttribute("oninput","return;"),Ei=typeof mo.oninput=="function"}xi=Ei}else xi=!1;go=xi&&(!document.documentMode||9<document.documentMode)}function vo(){Dr&&(Dr.detachEvent("onpropertychange",yo),Or=Dr=null)}function yo(e){if(e.propertyName==="value"&&hs(Or)){var t=[];po(t,Or,e,Ge(e)),We(cu,t)}}function du(e,t,i){e==="focusin"?(vo(),Dr=t,Or=i,Dr.attachEvent("onpropertychange",yo)):e==="focusout"&&vo()}function hu(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hs(Or)}function fu(e,t){if(e==="click")return hs(t)}function pu(e,t){if(e==="input"||e==="change")return hs(t)}function gu(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:gu;function Mr(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),u=Object.keys(t);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var E=i[u];if(!k.call(t,E)||!Kt(e[E],t[E]))return!1}return!0}function xo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eo(e,t){var i=xo(e);e=0;for(var u;i;){if(i.nodeType===3){if(u=e+i.textContent.length,e<=t&&u>=t)return{node:i,offset:t-e};e=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=xo(i)}}function So(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?So(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bo(){for(var e=window,t=ne();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ne(e.document)}return t}function Si(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mu(e){var t=bo(),i=e.focusedElem,u=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&So(i.ownerDocument.documentElement,i)){if(u!==null&&Si(i)){if(t=u.start,e=u.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var E=i.textContent.length,C=Math.min(u.start,E);u=u.end===void 0?C:Math.min(u.end,E),!e.extend&&C>u&&(E=u,u=C,C=E),E=Eo(i,C);var U=Eo(i,u);E&&U&&(e.rangeCount!==1||e.anchorNode!==E.node||e.anchorOffset!==E.offset||e.focusNode!==U.node||e.focusOffset!==U.offset)&&(t=t.createRange(),t.setStart(E.node,E.offset),e.removeAllRanges(),C>u?(e.addRange(t),e.extend(U.node,U.offset)):(t.setEnd(U.node,U.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vu=b&&"documentMode"in document&&11>=document.documentMode,tr=null,bi=null,Ir=null,Ai=!1;function Ao(e,t,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ai||tr==null||tr!==ne(u)||(u=tr,"selectionStart"in u&&Si(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ir&&Mr(Ir,u)||(Ir=u,u=ms(bi,"onSelect"),0<u.length&&(t=new fi("onSelect","select",null,t,i),e.push({event:t,listeners:u}),t.target=tr)))}function fs(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var nr={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionend:fs("Transition","TransitionEnd")},wi={},wo={};b&&(wo=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function ps(e){if(wi[e])return wi[e];if(!nr[e])return e;var t=nr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in wo)return wi[e]=t[i];return e}var Co=ps("animationend"),To=ps("animationiteration"),ko=ps("animationstart"),Ro=ps("transitionend"),Po=new Map,Do="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,t){Po.set(e,t),f(t,[e])}for(var Ci=0;Ci<Do.length;Ci++){var Ti=Do[Ci],yu=Ti.toLowerCase(),xu=Ti[0].toUpperCase()+Ti.slice(1);bn(yu,"on"+xu)}bn(Co,"onAnimationEnd"),bn(To,"onAnimationIteration"),bn(ko,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(Ro,"onTransitionEnd"),v("onMouseEnter",["mouseout","mouseover"]),v("onMouseLeave",["mouseout","mouseover"]),v("onPointerEnter",["pointerout","pointerover"]),v("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Oo(e,t,i){var u=e.type||"unknown-event";e.currentTarget=i,yc(u,t,void 0,e),e.currentTarget=null}function Mo(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var u=e[i],E=u.event;u=u.listeners;e:{var C=void 0;if(t)for(var U=u.length-1;0<=U;U--){var Q=u[U],q=Q.instance,fe=Q.currentTarget;if(Q=Q.listener,q!==C&&E.isPropagationStopped())break e;Oo(E,Q,fe),C=q}else for(U=0;U<u.length;U++){if(Q=u[U],q=Q.instance,fe=Q.currentTarget,Q=Q.listener,q!==C&&E.isPropagationStopped())break e;Oo(E,Q,fe),C=q}}}if(tn)throw e=jn,tn=!1,jn=null,e}function tt(e,t){var i=t[Fi];i===void 0&&(i=t[Fi]=new Set);var u=e+"__bubble";i.has(u)||(Io(t,e,2,!1),i.add(u))}function ki(e,t,i){var u=0;t&&(u|=4),Io(i,e,u,t)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){if(!e[gs]){e[gs]=!0,a.forEach(function(i){i!=="selectionchange"&&(Eu.has(i)||ki(i,!1,e),ki(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gs]||(t[gs]=!0,ki("selectionchange",!1,t))}}function Io(e,t,i,u){switch(to(t)){case 1:var E=Fc;break;case 4:E=Lc;break;default:E=ui}i=E.bind(null,t,i,e),E=void 0,!st||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(E=!0),u?E!==void 0?e.addEventListener(t,i,{capture:!0,passive:E}):e.addEventListener(t,i,!0):E!==void 0?e.addEventListener(t,i,{passive:E}):e.addEventListener(t,i,!1)}function Ri(e,t,i,u,E){var C=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var U=u.tag;if(U===3||U===4){var Q=u.stateNode.containerInfo;if(Q===E||Q.nodeType===8&&Q.parentNode===E)break;if(U===4)for(U=u.return;U!==null;){var q=U.tag;if((q===3||q===4)&&(q=U.stateNode.containerInfo,q===E||q.nodeType===8&&q.parentNode===E))return;U=U.return}for(;Q!==null;){if(U=Bn(Q),U===null)return;if(q=U.tag,q===5||q===6){u=C=U;continue e}Q=Q.parentNode}}u=u.return}We(function(){var fe=C,Se=Ge(i),be=[];e:{var xe=Po.get(e);if(xe!==void 0){var Pe=fi,Oe=e;switch(e){case"keypress":if(cs(i)===0)break e;case"keydown":case"keyup":Pe=Qc;break;case"focusin":Oe="focus",Pe=mi;break;case"focusout":Oe="blur",Pe=mi;break;case"beforeblur":case"afterblur":Pe=mi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=so;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=_c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=qc;break;case Co:case To:case ko:Pe=zc;break;case Ro:Pe=tu;break;case"scroll":Pe=Nc;break;case"wheel":Pe=ru;break;case"copy":case"cut":case"paste":Pe=Wc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=ao}var Me=(t&4)!==0,ft=!Me&&e==="scroll",ce=Me?xe!==null?xe+"Capture":null:xe;Me=[];for(var ee=fe,ue;ee!==null;){ue=ee;var Ae=ue.stateNode;if(ue.tag===5&&Ae!==null&&(ue=Ae,ce!==null&&(Ae=Ve(ee,ce),Ae!=null&&Me.push(Nr(ee,Ae,ue)))),ft)break;ee=ee.return}0<Me.length&&(xe=new Pe(xe,Oe,null,i,Se),be.push({event:xe,listeners:Me}))}}if((t&7)===0){e:{if(xe=e==="mouseover"||e==="pointerover",Pe=e==="mouseout"||e==="pointerout",xe&&i!==ke&&(Oe=i.relatedTarget||i.fromElement)&&(Bn(Oe)||Oe[ln]))break e;if((Pe||xe)&&(xe=Se.window===Se?Se:(xe=Se.ownerDocument)?xe.defaultView||xe.parentWindow:window,Pe?(Oe=i.relatedTarget||i.toElement,Pe=fe,Oe=Oe?Bn(Oe):null,Oe!==null&&(ft=_n(Oe),Oe!==ft||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Pe=null,Oe=fe),Pe!==Oe)){if(Me=so,Ae="onMouseLeave",ce="onMouseEnter",ee="mouse",(e==="pointerout"||e==="pointerover")&&(Me=ao,Ae="onPointerLeave",ce="onPointerEnter",ee="pointer"),ft=Pe==null?xe:ir(Pe),ue=Oe==null?xe:ir(Oe),xe=new Me(Ae,ee+"leave",Pe,i,Se),xe.target=ft,xe.relatedTarget=ue,Ae=null,Bn(Se)===fe&&(Me=new Me(ce,ee+"enter",Oe,i,Se),Me.target=ue,Me.relatedTarget=ft,Ae=Me),ft=Ae,Pe&&Oe)t:{for(Me=Pe,ce=Oe,ee=0,ue=Me;ue;ue=rr(ue))ee++;for(ue=0,Ae=ce;Ae;Ae=rr(Ae))ue++;for(;0<ee-ue;)Me=rr(Me),ee--;for(;0<ue-ee;)ce=rr(ce),ue--;for(;ee--;){if(Me===ce||ce!==null&&Me===ce.alternate)break t;Me=rr(Me),ce=rr(ce)}Me=null}else Me=null;Pe!==null&&Fo(be,xe,Pe,Me,!1),Oe!==null&&ft!==null&&Fo(be,ft,Oe,Me,!0)}}e:{if(xe=fe?ir(fe):window,Pe=xe.nodeName&&xe.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&xe.type==="file")var Le=uu;else if(fo(xe))if(go)Le=pu;else{Le=hu;var _e=du}else(Pe=xe.nodeName)&&Pe.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(Le=fu);if(Le&&(Le=Le(e,fe))){po(be,Le,i,Se);break e}_e&&_e(e,xe,fe),e==="focusout"&&(_e=xe._wrapperState)&&_e.controlled&&xe.type==="number"&&ve(xe,"number",xe.value)}switch(_e=fe?ir(fe):window,e){case"focusin":(fo(_e)||_e.contentEditable==="true")&&(tr=_e,bi=fe,Ir=null);break;case"focusout":Ir=bi=tr=null;break;case"mousedown":Ai=!0;break;case"contextmenu":case"mouseup":case"dragend":Ai=!1,Ao(be,i,Se);break;case"selectionchange":if(vu)break;case"keydown":case"keyup":Ao(be,i,Se)}var Be;if(yi)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else er?uo(e,i)&&(ze="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ze="onCompositionStart");ze&&(oo&&i.locale!=="ko"&&(er||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&er&&(Be=no()):(Sn=Se,hi="value"in Sn?Sn.value:Sn.textContent,er=!0)),_e=ms(fe,ze),0<_e.length&&(ze=new io(ze,e,null,i,Se),be.push({event:ze,listeners:_e}),Be?ze.data=Be:(Be=ho(i),Be!==null&&(ze.data=Be)))),(Be=iu?au(e,i):ou(e,i))&&(fe=ms(fe,"onBeforeInput"),0<fe.length&&(Se=new io("onBeforeInput","beforeinput",null,i,Se),be.push({event:Se,listeners:fe}),Se.data=Be))}Mo(be,t)})}function Nr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ms(e,t){for(var i=t+"Capture",u=[];e!==null;){var E=e,C=E.stateNode;E.tag===5&&C!==null&&(E=C,C=Ve(e,i),C!=null&&u.unshift(Nr(e,C,E)),C=Ve(e,t),C!=null&&u.push(Nr(e,C,E))),e=e.return}return u}function rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fo(e,t,i,u,E){for(var C=t._reactName,U=[];i!==null&&i!==u;){var Q=i,q=Q.alternate,fe=Q.stateNode;if(q!==null&&q===u)break;Q.tag===5&&fe!==null&&(Q=fe,E?(q=Ve(i,C),q!=null&&U.unshift(Nr(i,q,Q))):E||(q=Ve(i,C),q!=null&&U.push(Nr(i,q,Q)))),i=i.return}U.length!==0&&e.push({event:t,listeners:U})}var Su=/\r\n?/g,bu=/\u0000|\uFFFD/g;function Lo(e){return(typeof e=="string"?e:""+e).replace(Su,`
`).replace(bu,"")}function vs(e,t,i){if(t=Lo(t),Lo(e)!==t&&i)throw Error(n(425))}function ys(){}var Pi=null,Di=null;function Oi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mi=typeof setTimeout=="function"?setTimeout:void 0,Au=typeof clearTimeout=="function"?clearTimeout:void 0,No=typeof Promise=="function"?Promise:void 0,wu=typeof queueMicrotask=="function"?queueMicrotask:typeof No<"u"?function(e){return No.resolve(null).then(e).catch(Cu)}:Mi;function Cu(e){setTimeout(function(){throw e})}function Ii(e,t){var i=t,u=0;do{var E=i.nextSibling;if(e.removeChild(i),E&&E.nodeType===8)if(i=E.data,i==="/$"){if(u===0){e.removeChild(E),Tr(t);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=E}while(i);Tr(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var sr=Math.random().toString(36).slice(2),rn="__reactFiber$"+sr,jr="__reactProps$"+sr,ln="__reactContainer$"+sr,Fi="__reactEvents$"+sr,Tu="__reactListeners$"+sr,ku="__reactHandles$"+sr;function Bn(e){var t=e[rn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ln]||i[rn]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=jo(e);e!==null;){if(i=e[rn])return i;e=jo(e)}return t}e=i,i=e.parentNode}return null}function _r(e){return e=e[rn]||e[ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function xs(e){return e[jr]||null}var Li=[],ar=-1;function wn(e){return{current:e}}function nt(e){0>ar||(e.current=Li[ar],Li[ar]=null,ar--)}function Ze(e,t){ar++,Li[ar]=e.current,e.current=t}var Cn={},Ct=wn(Cn),Ot=wn(!1),Un=Cn;function or(e,t){var i=e.type.contextTypes;if(!i)return Cn;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===t)return u.__reactInternalMemoizedMaskedChildContext;var E={},C;for(C in i)E[C]=t[C];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=E),E}function Mt(e){return e=e.childContextTypes,e!=null}function Es(){nt(Ot),nt(Ct)}function _o(e,t,i){if(Ct.current!==Cn)throw Error(n(168));Ze(Ct,t),Ze(Ot,i)}function Bo(e,t,i){var u=e.stateNode;if(t=t.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var E in u)if(!(E in t))throw Error(n(108,O(e)||"Unknown",E));return P({},i,u)}function Ss(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cn,Un=Ct.current,Ze(Ct,e),Ze(Ot,Ot.current),!0}function Uo(e,t,i){var u=e.stateNode;if(!u)throw Error(n(169));i?(e=Bo(e,t,Un),u.__reactInternalMemoizedMergedChildContext=e,nt(Ot),nt(Ct),Ze(Ct,e)):nt(Ot),Ze(Ot,i)}var cn=null,bs=!1,Ni=!1;function zo(e){cn===null?cn=[e]:cn.push(e)}function Ru(e){bs=!0,zo(e)}function Tn(){if(!Ni&&cn!==null){Ni=!0;var e=0,t=Je;try{var i=cn;for(Je=1;e<i.length;e++){var u=i[e];do u=u(!0);while(u!==null)}cn=null,bs=!1}catch(E){throw cn!==null&&(cn=cn.slice(e+1)),Ha(si,Tn),E}finally{Je=t,Ni=!1}}return null}var lr=[],cr=0,As=null,ws=0,Ht=[],Wt=0,zn=null,un=1,dn="";function Hn(e,t){lr[cr++]=ws,lr[cr++]=As,As=e,ws=t}function Ho(e,t,i){Ht[Wt++]=un,Ht[Wt++]=dn,Ht[Wt++]=zn,zn=e;var u=un;e=dn;var E=32-Yt(u)-1;u&=~(1<<E),i+=1;var C=32-Yt(t)+E;if(30<C){var U=E-E%5;C=(u&(1<<U)-1).toString(32),u>>=U,E-=U,un=1<<32-Yt(t)+E|i<<E|u,dn=C+e}else un=1<<C|i<<E|u,dn=e}function ji(e){e.return!==null&&(Hn(e,1),Ho(e,1,0))}function _i(e){for(;e===As;)As=lr[--cr],lr[cr]=null,ws=lr[--cr],lr[cr]=null;for(;e===zn;)zn=Ht[--Wt],Ht[Wt]=null,dn=Ht[--Wt],Ht[Wt]=null,un=Ht[--Wt],Ht[Wt]=null}var Bt=null,Ut=null,it=!1,Qt=null;function Wo(e,t){var i=Xt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function $o(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=zn!==null?{id:un,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Xt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Bt=e,Ut=null,!0):!1;default:return!1}}function Bi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ui(e){if(it){var t=Ut;if(t){var i=t;if(!$o(e,t)){if(Bi(e))throw Error(n(418));t=An(i.nextSibling);var u=Bt;t&&$o(e,t)?Wo(u,i):(e.flags=e.flags&-4097|2,it=!1,Bt=e)}}else{if(Bi(e))throw Error(n(418));e.flags=e.flags&-4097|2,it=!1,Bt=e}}}function Vo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function Cs(e){if(e!==Bt)return!1;if(!it)return Vo(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oi(e.type,e.memoizedProps)),t&&(t=Ut)){if(Bi(e))throw Go(),Error(n(418));for(;t;)Wo(e,t),t=An(t.nextSibling)}if(Vo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Ut=An(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Bt?An(e.stateNode.nextSibling):null;return!0}function Go(){for(var e=Ut;e;)e=An(e.nextSibling)}function ur(){Ut=Bt=null,it=!1}function zi(e){Qt===null?Qt=[e]:Qt.push(e)}var Pu=L.ReactCurrentBatchConfig;function Br(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var u=i.stateNode}if(!u)throw Error(n(147,e));var E=u,C=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===C?t.ref:(t=function(U){var Q=E.refs;U===null?delete Q[C]:Q[C]=U},t._stringRef=C,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function Ts(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xo(e){var t=e._init;return t(e._payload)}function Yo(e){function t(ce,ee){if(e){var ue=ce.deletions;ue===null?(ce.deletions=[ee],ce.flags|=16):ue.push(ee)}}function i(ce,ee){if(!e)return null;for(;ee!==null;)t(ce,ee),ee=ee.sibling;return null}function u(ce,ee){for(ce=new Map;ee!==null;)ee.key!==null?ce.set(ee.key,ee):ce.set(ee.index,ee),ee=ee.sibling;return ce}function E(ce,ee){return ce=Fn(ce,ee),ce.index=0,ce.sibling=null,ce}function C(ce,ee,ue){return ce.index=ue,e?(ue=ce.alternate,ue!==null?(ue=ue.index,ue<ee?(ce.flags|=2,ee):ue):(ce.flags|=2,ee)):(ce.flags|=1048576,ee)}function U(ce){return e&&ce.alternate===null&&(ce.flags|=2),ce}function Q(ce,ee,ue,Ae){return ee===null||ee.tag!==6?(ee=Ma(ue,ce.mode,Ae),ee.return=ce,ee):(ee=E(ee,ue),ee.return=ce,ee)}function q(ce,ee,ue,Ae){var Le=ue.type;return Le===z?Se(ce,ee,ue.props.children,Ae,ue.key):ee!==null&&(ee.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===ie&&Xo(Le)===ee.type)?(Ae=E(ee,ue.props),Ae.ref=Br(ce,ee,ue),Ae.return=ce,Ae):(Ae=Qs(ue.type,ue.key,ue.props,null,ce.mode,Ae),Ae.ref=Br(ce,ee,ue),Ae.return=ce,Ae)}function fe(ce,ee,ue,Ae){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ue.containerInfo||ee.stateNode.implementation!==ue.implementation?(ee=Ia(ue,ce.mode,Ae),ee.return=ce,ee):(ee=E(ee,ue.children||[]),ee.return=ce,ee)}function Se(ce,ee,ue,Ae,Le){return ee===null||ee.tag!==7?(ee=Qn(ue,ce.mode,Ae,Le),ee.return=ce,ee):(ee=E(ee,ue),ee.return=ce,ee)}function be(ce,ee,ue){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Ma(""+ee,ce.mode,ue),ee.return=ce,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return ue=Qs(ee.type,ee.key,ee.props,null,ce.mode,ue),ue.ref=Br(ce,null,ee),ue.return=ce,ue;case M:return ee=Ia(ee,ce.mode,ue),ee.return=ce,ee;case ie:var Ae=ee._init;return be(ce,Ae(ee._payload),ue)}if(Ce(ee)||R(ee))return ee=Qn(ee,ce.mode,ue,null),ee.return=ce,ee;Ts(ce,ee)}return null}function xe(ce,ee,ue,Ae){var Le=ee!==null?ee.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Le!==null?null:Q(ce,ee,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return ue.key===Le?q(ce,ee,ue,Ae):null;case M:return ue.key===Le?fe(ce,ee,ue,Ae):null;case ie:return Le=ue._init,xe(ce,ee,Le(ue._payload),Ae)}if(Ce(ue)||R(ue))return Le!==null?null:Se(ce,ee,ue,Ae,null);Ts(ce,ue)}return null}function Pe(ce,ee,ue,Ae,Le){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return ce=ce.get(ue)||null,Q(ee,ce,""+Ae,Le);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case w:return ce=ce.get(Ae.key===null?ue:Ae.key)||null,q(ee,ce,Ae,Le);case M:return ce=ce.get(Ae.key===null?ue:Ae.key)||null,fe(ee,ce,Ae,Le);case ie:var _e=Ae._init;return Pe(ce,ee,ue,_e(Ae._payload),Le)}if(Ce(Ae)||R(Ae))return ce=ce.get(ue)||null,Se(ee,ce,Ae,Le,null);Ts(ee,Ae)}return null}function Oe(ce,ee,ue,Ae){for(var Le=null,_e=null,Be=ee,ze=ee=0,bt=null;Be!==null&&ze<ue.length;ze++){Be.index>ze?(bt=Be,Be=null):bt=Be.sibling;var Qe=xe(ce,Be,ue[ze],Ae);if(Qe===null){Be===null&&(Be=bt);break}e&&Be&&Qe.alternate===null&&t(ce,Be),ee=C(Qe,ee,ze),_e===null?Le=Qe:_e.sibling=Qe,_e=Qe,Be=bt}if(ze===ue.length)return i(ce,Be),it&&Hn(ce,ze),Le;if(Be===null){for(;ze<ue.length;ze++)Be=be(ce,ue[ze],Ae),Be!==null&&(ee=C(Be,ee,ze),_e===null?Le=Be:_e.sibling=Be,_e=Be);return it&&Hn(ce,ze),Le}for(Be=u(ce,Be);ze<ue.length;ze++)bt=Pe(Be,ce,ze,ue[ze],Ae),bt!==null&&(e&&bt.alternate!==null&&Be.delete(bt.key===null?ze:bt.key),ee=C(bt,ee,ze),_e===null?Le=bt:_e.sibling=bt,_e=bt);return e&&Be.forEach(function(Ln){return t(ce,Ln)}),it&&Hn(ce,ze),Le}function Me(ce,ee,ue,Ae){var Le=R(ue);if(typeof Le!="function")throw Error(n(150));if(ue=Le.call(ue),ue==null)throw Error(n(151));for(var _e=Le=null,Be=ee,ze=ee=0,bt=null,Qe=ue.next();Be!==null&&!Qe.done;ze++,Qe=ue.next()){Be.index>ze?(bt=Be,Be=null):bt=Be.sibling;var Ln=xe(ce,Be,Qe.value,Ae);if(Ln===null){Be===null&&(Be=bt);break}e&&Be&&Ln.alternate===null&&t(ce,Be),ee=C(Ln,ee,ze),_e===null?Le=Ln:_e.sibling=Ln,_e=Ln,Be=bt}if(Qe.done)return i(ce,Be),it&&Hn(ce,ze),Le;if(Be===null){for(;!Qe.done;ze++,Qe=ue.next())Qe=be(ce,Qe.value,Ae),Qe!==null&&(ee=C(Qe,ee,ze),_e===null?Le=Qe:_e.sibling=Qe,_e=Qe);return it&&Hn(ce,ze),Le}for(Be=u(ce,Be);!Qe.done;ze++,Qe=ue.next())Qe=Pe(Be,ce,ze,Qe.value,Ae),Qe!==null&&(e&&Qe.alternate!==null&&Be.delete(Qe.key===null?ze:Qe.key),ee=C(Qe,ee,ze),_e===null?Le=Qe:_e.sibling=Qe,_e=Qe);return e&&Be.forEach(function(ld){return t(ce,ld)}),it&&Hn(ce,ze),Le}function ft(ce,ee,ue,Ae){if(typeof ue=="object"&&ue!==null&&ue.type===z&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:e:{for(var Le=ue.key,_e=ee;_e!==null;){if(_e.key===Le){if(Le=ue.type,Le===z){if(_e.tag===7){i(ce,_e.sibling),ee=E(_e,ue.props.children),ee.return=ce,ce=ee;break e}}else if(_e.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===ie&&Xo(Le)===_e.type){i(ce,_e.sibling),ee=E(_e,ue.props),ee.ref=Br(ce,_e,ue),ee.return=ce,ce=ee;break e}i(ce,_e);break}else t(ce,_e);_e=_e.sibling}ue.type===z?(ee=Qn(ue.props.children,ce.mode,Ae,ue.key),ee.return=ce,ce=ee):(Ae=Qs(ue.type,ue.key,ue.props,null,ce.mode,Ae),Ae.ref=Br(ce,ee,ue),Ae.return=ce,ce=Ae)}return U(ce);case M:e:{for(_e=ue.key;ee!==null;){if(ee.key===_e)if(ee.tag===4&&ee.stateNode.containerInfo===ue.containerInfo&&ee.stateNode.implementation===ue.implementation){i(ce,ee.sibling),ee=E(ee,ue.children||[]),ee.return=ce,ce=ee;break e}else{i(ce,ee);break}else t(ce,ee);ee=ee.sibling}ee=Ia(ue,ce.mode,Ae),ee.return=ce,ce=ee}return U(ce);case ie:return _e=ue._init,ft(ce,ee,_e(ue._payload),Ae)}if(Ce(ue))return Oe(ce,ee,ue,Ae);if(R(ue))return Me(ce,ee,ue,Ae);Ts(ce,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,ee!==null&&ee.tag===6?(i(ce,ee.sibling),ee=E(ee,ue),ee.return=ce,ce=ee):(i(ce,ee),ee=Ma(ue,ce.mode,Ae),ee.return=ce,ce=ee),U(ce)):i(ce,ee)}return ft}var dr=Yo(!0),Ko=Yo(!1),ks=wn(null),Rs=null,hr=null,Hi=null;function Wi(){Hi=hr=Rs=null}function $i(e){var t=ks.current;nt(ks),e._currentValue=t}function Vi(e,t,i){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===i)break;e=e.return}}function fr(e,t){Rs=e,Hi=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(It=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Hi!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(Rs===null)throw Error(n(308));hr=e,Rs.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var Wn=null;function Gi(e){Wn===null?Wn=[e]:Wn.push(e)}function Qo(e,t,i,u){var E=t.interleaved;return E===null?(i.next=i,Gi(t)):(i.next=E.next,E.next=i),t.interleaved=i,hn(e,u)}function hn(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var kn=!1;function Xi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,i){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var E=u.pending;return E===null?t.next=t:(t.next=E.next,E.next=t),u.pending=t,hn(e,i)}return E=u.interleaved,E===null?(t.next=t,Gi(u)):(t.next=E.next,E.next=t),u.interleaved=t,hn(e,i)}function Ps(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var u=t.lanes;u&=e.pendingLanes,i|=u,t.lanes=i,oi(e,i)}}function Zo(e,t){var i=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var E=null,C=null;if(i=i.firstBaseUpdate,i!==null){do{var U={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};C===null?E=C=U:C=C.next=U,i=i.next}while(i!==null);C===null?E=C=t:C=C.next=t}else E=C=t;i={baseState:u.baseState,firstBaseUpdate:E,lastBaseUpdate:C,shared:u.shared,effects:u.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ds(e,t,i,u){var E=e.updateQueue;kn=!1;var C=E.firstBaseUpdate,U=E.lastBaseUpdate,Q=E.shared.pending;if(Q!==null){E.shared.pending=null;var q=Q,fe=q.next;q.next=null,U===null?C=fe:U.next=fe,U=q;var Se=e.alternate;Se!==null&&(Se=Se.updateQueue,Q=Se.lastBaseUpdate,Q!==U&&(Q===null?Se.firstBaseUpdate=fe:Q.next=fe,Se.lastBaseUpdate=q))}if(C!==null){var be=E.baseState;U=0,Se=fe=q=null,Q=C;do{var xe=Q.lane,Pe=Q.eventTime;if((u&xe)===xe){Se!==null&&(Se=Se.next={eventTime:Pe,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Oe=e,Me=Q;switch(xe=t,Pe=i,Me.tag){case 1:if(Oe=Me.payload,typeof Oe=="function"){be=Oe.call(Pe,be,xe);break e}be=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Me.payload,xe=typeof Oe=="function"?Oe.call(Pe,be,xe):Oe,xe==null)break e;be=P({},be,xe);break e;case 2:kn=!0}}Q.callback!==null&&Q.lane!==0&&(e.flags|=64,xe=E.effects,xe===null?E.effects=[Q]:xe.push(Q))}else Pe={eventTime:Pe,lane:xe,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Se===null?(fe=Se=Pe,q=be):Se=Se.next=Pe,U|=xe;if(Q=Q.next,Q===null){if(Q=E.shared.pending,Q===null)break;xe=Q,Q=xe.next,xe.next=null,E.lastBaseUpdate=xe,E.shared.pending=null}}while(!0);if(Se===null&&(q=be),E.baseState=q,E.firstBaseUpdate=fe,E.lastBaseUpdate=Se,t=E.shared.interleaved,t!==null){E=t;do U|=E.lane,E=E.next;while(E!==t)}else C===null&&(E.shared.lanes=0);Gn|=U,e.lanes=U,e.memoizedState=be}}function qo(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var u=e[t],E=u.callback;if(E!==null){if(u.callback=null,u=i,typeof E!="function")throw Error(n(191,E));E.call(u)}}}var Ur={},sn=wn(Ur),zr=wn(Ur),Hr=wn(Ur);function $n(e){if(e===Ur)throw Error(n(174));return e}function Yi(e,t){switch(Ze(Hr,t),Ze(zr,e),Ze(sn,Ur),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dt(t,e)}nt(sn),Ze(sn,t)}function pr(){nt(sn),nt(zr),nt(Hr)}function el(e){$n(Hr.current);var t=$n(sn.current),i=dt(t,e.type);t!==i&&(Ze(zr,e),Ze(sn,i))}function Ki(e){zr.current===e&&(nt(sn),nt(zr))}var ot=wn(0);function Os(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qi=[];function Ji(){for(var e=0;e<Qi.length;e++)Qi[e]._workInProgressVersionPrimary=null;Qi.length=0}var Ms=L.ReactCurrentDispatcher,Zi=L.ReactCurrentBatchConfig,Vn=0,lt=null,vt=null,Et=null,Is=!1,Wr=!1,$r=0,Du=0;function Tt(){throw Error(n(321))}function qi(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Kt(e[i],t[i]))return!1;return!0}function ea(e,t,i,u,E,C){if(Vn=C,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ms.current=e===null||e.memoizedState===null?Fu:Lu,e=i(u,E),Wr){C=0;do{if(Wr=!1,$r=0,25<=C)throw Error(n(301));C+=1,Et=vt=null,t.updateQueue=null,Ms.current=Nu,e=i(u,E)}while(Wr)}if(Ms.current=Ns,t=vt!==null&&vt.next!==null,Vn=0,Et=vt=lt=null,Is=!1,t)throw Error(n(300));return e}function ta(){var e=$r!==0;return $r=0,e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?lt.memoizedState=Et=e:Et=Et.next=e,Et}function Vt(){if(vt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=Et===null?lt.memoizedState:Et.next;if(t!==null)Et=t,vt=e;else{if(e===null)throw Error(n(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Et===null?lt.memoizedState=Et=e:Et=Et.next=e}return Et}function Vr(e,t){return typeof t=="function"?t(e):t}function na(e){var t=Vt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var u=vt,E=u.baseQueue,C=i.pending;if(C!==null){if(E!==null){var U=E.next;E.next=C.next,C.next=U}u.baseQueue=E=C,i.pending=null}if(E!==null){C=E.next,u=u.baseState;var Q=U=null,q=null,fe=C;do{var Se=fe.lane;if((Vn&Se)===Se)q!==null&&(q=q.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),u=fe.hasEagerState?fe.eagerState:e(u,fe.action);else{var be={lane:Se,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};q===null?(Q=q=be,U=u):q=q.next=be,lt.lanes|=Se,Gn|=Se}fe=fe.next}while(fe!==null&&fe!==C);q===null?U=u:q.next=Q,Kt(u,t.memoizedState)||(It=!0),t.memoizedState=u,t.baseState=U,t.baseQueue=q,i.lastRenderedState=u}if(e=i.interleaved,e!==null){E=e;do C=E.lane,lt.lanes|=C,Gn|=C,E=E.next;while(E!==e)}else E===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function ra(e){var t=Vt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var u=i.dispatch,E=i.pending,C=t.memoizedState;if(E!==null){i.pending=null;var U=E=E.next;do C=e(C,U.action),U=U.next;while(U!==E);Kt(C,t.memoizedState)||(It=!0),t.memoizedState=C,t.baseQueue===null&&(t.baseState=C),i.lastRenderedState=C}return[C,u]}function tl(){}function nl(e,t){var i=lt,u=Vt(),E=t(),C=!Kt(u.memoizedState,E);if(C&&(u.memoizedState=E,It=!0),u=u.queue,sa(il.bind(null,i,u,e),[e]),u.getSnapshot!==t||C||Et!==null&&Et.memoizedState.tag&1){if(i.flags|=2048,Gr(9,sl.bind(null,i,u,E,t),void 0,null),St===null)throw Error(n(349));(Vn&30)!==0||rl(i,t,E)}return E}function rl(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function sl(e,t,i,u){t.value=i,t.getSnapshot=u,al(t)&&ol(e)}function il(e,t,i){return i(function(){al(t)&&ol(e)})}function al(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Kt(e,i)}catch{return!0}}function ol(e){var t=hn(e,1);t!==null&&en(t,e,1,-1)}function ll(e){var t=an();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:e},t.queue=e,e=e.dispatch=Iu.bind(null,lt,e),[t.memoizedState,e]}function Gr(e,t,i,u){return e={tag:e,create:t,destroy:i,deps:u,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(u=i.next,i.next=e,e.next=u,t.lastEffect=e)),e}function cl(){return Vt().memoizedState}function Fs(e,t,i,u){var E=an();lt.flags|=e,E.memoizedState=Gr(1|t,i,void 0,u===void 0?null:u)}function Ls(e,t,i,u){var E=Vt();u=u===void 0?null:u;var C=void 0;if(vt!==null){var U=vt.memoizedState;if(C=U.destroy,u!==null&&qi(u,U.deps)){E.memoizedState=Gr(t,i,C,u);return}}lt.flags|=e,E.memoizedState=Gr(1|t,i,C,u)}function ul(e,t){return Fs(8390656,8,e,t)}function sa(e,t){return Ls(2048,8,e,t)}function dl(e,t){return Ls(4,2,e,t)}function hl(e,t){return Ls(4,4,e,t)}function fl(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pl(e,t,i){return i=i!=null?i.concat([e]):null,Ls(4,4,fl.bind(null,t,e),i)}function ia(){}function gl(e,t){var i=Vt();t=t===void 0?null:t;var u=i.memoizedState;return u!==null&&t!==null&&qi(t,u[1])?u[0]:(i.memoizedState=[e,t],e)}function ml(e,t){var i=Vt();t=t===void 0?null:t;var u=i.memoizedState;return u!==null&&t!==null&&qi(t,u[1])?u[0]:(e=e(),i.memoizedState=[e,t],e)}function vl(e,t,i){return(Vn&21)===0?(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=i):(Kt(i,t)||(i=Ga(),lt.lanes|=i,Gn|=i,e.baseState=!0),t)}function Ou(e,t){var i=Je;Je=i!==0&&4>i?i:4,e(!0);var u=Zi.transition;Zi.transition={};try{e(!1),t()}finally{Je=i,Zi.transition=u}}function yl(){return Vt().memoizedState}function Mu(e,t,i){var u=Mn(e);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},xl(e))El(t,i);else if(i=Qo(e,t,i,u),i!==null){var E=Dt();en(i,e,u,E),Sl(i,t,u)}}function Iu(e,t,i){var u=Mn(e),E={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(xl(e))El(t,E);else{var C=e.alternate;if(e.lanes===0&&(C===null||C.lanes===0)&&(C=t.lastRenderedReducer,C!==null))try{var U=t.lastRenderedState,Q=C(U,i);if(E.hasEagerState=!0,E.eagerState=Q,Kt(Q,U)){var q=t.interleaved;q===null?(E.next=E,Gi(t)):(E.next=q.next,q.next=E),t.interleaved=E;return}}catch{}finally{}i=Qo(e,t,E,u),i!==null&&(E=Dt(),en(i,e,u,E),Sl(i,t,u))}}function xl(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function El(e,t){Wr=Is=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Sl(e,t,i){if((i&4194240)!==0){var u=t.lanes;u&=e.pendingLanes,i|=u,t.lanes=i,oi(e,i)}}var Ns={readContext:$t,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},Fu={readContext:$t,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:ul,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Fs(4194308,4,fl.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fs(4,2,e,t)},useMemo:function(e,t){var i=an();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var u=an();return t=i!==void 0?i(t):t,u.memoizedState=u.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},u.queue=e,e=e.dispatch=Mu.bind(null,lt,e),[u.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:ll,useDebugValue:ia,useDeferredValue:function(e){return an().memoizedState=e},useTransition:function(){var e=ll(!1),t=e[0];return e=Ou.bind(null,e[1]),an().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var u=lt,E=an();if(it){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),St===null)throw Error(n(349));(Vn&30)!==0||rl(u,t,i)}E.memoizedState=i;var C={value:i,getSnapshot:t};return E.queue=C,ul(il.bind(null,u,C,e),[e]),u.flags|=2048,Gr(9,sl.bind(null,u,C,i,t),void 0,null),i},useId:function(){var e=an(),t=St.identifierPrefix;if(it){var i=dn,u=un;i=(u&~(1<<32-Yt(u)-1)).toString(32)+i,t=":"+t+"R"+i,i=$r++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Du++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lu={readContext:$t,useCallback:gl,useContext:$t,useEffect:sa,useImperativeHandle:pl,useInsertionEffect:dl,useLayoutEffect:hl,useMemo:ml,useReducer:na,useRef:cl,useState:function(){return na(Vr)},useDebugValue:ia,useDeferredValue:function(e){var t=Vt();return vl(t,vt.memoizedState,e)},useTransition:function(){var e=na(Vr)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:tl,useSyncExternalStore:nl,useId:yl,unstable_isNewReconciler:!1},Nu={readContext:$t,useCallback:gl,useContext:$t,useEffect:sa,useImperativeHandle:pl,useInsertionEffect:dl,useLayoutEffect:hl,useMemo:ml,useReducer:ra,useRef:cl,useState:function(){return ra(Vr)},useDebugValue:ia,useDeferredValue:function(e){var t=Vt();return vt===null?t.memoizedState=e:vl(t,vt.memoizedState,e)},useTransition:function(){var e=ra(Vr)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:tl,useSyncExternalStore:nl,useId:yl,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=P({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function aa(e,t,i,u){t=e.memoizedState,i=i(u,t),i=i==null?t:P({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var js={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var u=Dt(),E=Mn(e),C=fn(u,E);C.payload=t,i!=null&&(C.callback=i),t=Rn(e,C,E),t!==null&&(en(t,e,E,u),Ps(t,e,E))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var u=Dt(),E=Mn(e),C=fn(u,E);C.tag=1,C.payload=t,i!=null&&(C.callback=i),t=Rn(e,C,E),t!==null&&(en(t,e,E,u),Ps(t,e,E))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Dt(),u=Mn(e),E=fn(i,u);E.tag=2,t!=null&&(E.callback=t),t=Rn(e,E,u),t!==null&&(en(t,e,u,i),Ps(t,e,u))}};function bl(e,t,i,u,E,C,U){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,C,U):t.prototype&&t.prototype.isPureReactComponent?!Mr(i,u)||!Mr(E,C):!0}function Al(e,t,i){var u=!1,E=Cn,C=t.contextType;return typeof C=="object"&&C!==null?C=$t(C):(E=Mt(t)?Un:Ct.current,u=t.contextTypes,C=(u=u!=null)?or(e,E):Cn),t=new t(i,C),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=js,e.stateNode=t,t._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=E,e.__reactInternalMemoizedMaskedChildContext=C),t}function wl(e,t,i,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,u),t.state!==e&&js.enqueueReplaceState(t,t.state,null)}function oa(e,t,i,u){var E=e.stateNode;E.props=i,E.state=e.memoizedState,E.refs={},Xi(e);var C=t.contextType;typeof C=="object"&&C!==null?E.context=$t(C):(C=Mt(t)?Un:Ct.current,E.context=or(e,C)),E.state=e.memoizedState,C=t.getDerivedStateFromProps,typeof C=="function"&&(aa(e,t,C,i),E.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(t=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),t!==E.state&&js.enqueueReplaceState(E,E.state,null),Ds(e,i,E,u),E.state=e.memoizedState),typeof E.componentDidMount=="function"&&(e.flags|=4194308)}function gr(e,t){try{var i="",u=t;do i+=H(u),u=u.return;while(u);var E=i}catch(C){E=`
Error generating stack: `+C.message+`
`+C.stack}return{value:e,source:t,stack:E,digest:null}}function la(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function ca(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var ju=typeof WeakMap=="function"?WeakMap:Map;function Cl(e,t,i){i=fn(-1,i),i.tag=3,i.payload={element:null};var u=t.value;return i.callback=function(){$s||($s=!0,wa=u),ca(e,t)},i}function Tl(e,t,i){i=fn(-1,i),i.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var E=t.value;i.payload=function(){return u(E)},i.callback=function(){ca(e,t)}}var C=e.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){ca(e,t),typeof u!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var U=t.stack;this.componentDidCatch(t.value,{componentStack:U!==null?U:""})}),i}function kl(e,t,i){var u=e.pingCache;if(u===null){u=e.pingCache=new ju;var E=new Set;u.set(t,E)}else E=u.get(t),E===void 0&&(E=new Set,u.set(t,E));E.has(i)||(E.add(i),e=Ju.bind(null,e,t,i),t.then(e,e))}function Rl(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pl(e,t,i,u,E){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=fn(-1,1),t.tag=2,Rn(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=E,e)}var _u=L.ReactCurrentOwner,It=!1;function Pt(e,t,i,u){t.child=e===null?Ko(t,null,i,u):dr(t,e.child,i,u)}function Dl(e,t,i,u,E){i=i.render;var C=t.ref;return fr(t,E),u=ea(e,t,i,u,C,E),i=ta(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~E,pn(e,t,E)):(it&&i&&ji(t),t.flags|=1,Pt(e,t,u,E),t.child)}function Ol(e,t,i,u,E){if(e===null){var C=i.type;return typeof C=="function"&&!Oa(C)&&C.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=C,Ml(e,t,C,u,E)):(e=Qs(i.type,null,u,t,t.mode,E),e.ref=t.ref,e.return=t,t.child=e)}if(C=e.child,(e.lanes&E)===0){var U=C.memoizedProps;if(i=i.compare,i=i!==null?i:Mr,i(U,u)&&e.ref===t.ref)return pn(e,t,E)}return t.flags|=1,e=Fn(C,u),e.ref=t.ref,e.return=t,t.child=e}function Ml(e,t,i,u,E){if(e!==null){var C=e.memoizedProps;if(Mr(C,u)&&e.ref===t.ref)if(It=!1,t.pendingProps=u=C,(e.lanes&E)!==0)(e.flags&131072)!==0&&(It=!0);else return t.lanes=e.lanes,pn(e,t,E)}return ua(e,t,i,u,E)}function Il(e,t,i){var u=t.pendingProps,E=u.children,C=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(vr,zt),zt|=i;else{if((i&1073741824)===0)return e=C!==null?C.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ze(vr,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=C!==null?C.baseLanes:i,Ze(vr,zt),zt|=u}else C!==null?(u=C.baseLanes|i,t.memoizedState=null):u=i,Ze(vr,zt),zt|=u;return Pt(e,t,E,i),t.child}function Fl(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function ua(e,t,i,u,E){var C=Mt(i)?Un:Ct.current;return C=or(t,C),fr(t,E),i=ea(e,t,i,u,C,E),u=ta(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~E,pn(e,t,E)):(it&&u&&ji(t),t.flags|=1,Pt(e,t,i,E),t.child)}function Ll(e,t,i,u,E){if(Mt(i)){var C=!0;Ss(t)}else C=!1;if(fr(t,E),t.stateNode===null)Bs(e,t),Al(t,i,u),oa(t,i,u,E),u=!0;else if(e===null){var U=t.stateNode,Q=t.memoizedProps;U.props=Q;var q=U.context,fe=i.contextType;typeof fe=="object"&&fe!==null?fe=$t(fe):(fe=Mt(i)?Un:Ct.current,fe=or(t,fe));var Se=i.getDerivedStateFromProps,be=typeof Se=="function"||typeof U.getSnapshotBeforeUpdate=="function";be||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==u||q!==fe)&&wl(t,U,u,fe),kn=!1;var xe=t.memoizedState;U.state=xe,Ds(t,u,U,E),q=t.memoizedState,Q!==u||xe!==q||Ot.current||kn?(typeof Se=="function"&&(aa(t,i,Se,u),q=t.memoizedState),(Q=kn||bl(t,i,Q,u,xe,q,fe))?(be||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(t.flags|=4194308)):(typeof U.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=q),U.props=u,U.state=q,U.context=fe,u=Q):(typeof U.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{U=t.stateNode,Jo(e,t),Q=t.memoizedProps,fe=t.type===t.elementType?Q:Jt(t.type,Q),U.props=fe,be=t.pendingProps,xe=U.context,q=i.contextType,typeof q=="object"&&q!==null?q=$t(q):(q=Mt(i)?Un:Ct.current,q=or(t,q));var Pe=i.getDerivedStateFromProps;(Se=typeof Pe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==be||xe!==q)&&wl(t,U,u,q),kn=!1,xe=t.memoizedState,U.state=xe,Ds(t,u,U,E);var Oe=t.memoizedState;Q!==be||xe!==Oe||Ot.current||kn?(typeof Pe=="function"&&(aa(t,i,Pe,u),Oe=t.memoizedState),(fe=kn||bl(t,i,fe,u,xe,Oe,q)||!1)?(Se||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(u,Oe,q),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(u,Oe,q)),typeof U.componentDidUpdate=="function"&&(t.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof U.componentDidUpdate!="function"||Q===e.memoizedProps&&xe===e.memoizedState||(t.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===e.memoizedProps&&xe===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=Oe),U.props=u,U.state=Oe,U.context=q,u=fe):(typeof U.componentDidUpdate!="function"||Q===e.memoizedProps&&xe===e.memoizedState||(t.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===e.memoizedProps&&xe===e.memoizedState||(t.flags|=1024),u=!1)}return da(e,t,i,u,C,E)}function da(e,t,i,u,E,C){Fl(e,t);var U=(t.flags&128)!==0;if(!u&&!U)return E&&Uo(t,i,!1),pn(e,t,C);u=t.stateNode,_u.current=t;var Q=U&&typeof i.getDerivedStateFromError!="function"?null:u.render();return t.flags|=1,e!==null&&U?(t.child=dr(t,e.child,null,C),t.child=dr(t,null,Q,C)):Pt(e,t,Q,C),t.memoizedState=u.state,E&&Uo(t,i,!0),t.child}function Nl(e){var t=e.stateNode;t.pendingContext?_o(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_o(e,t.context,!1),Yi(e,t.containerInfo)}function jl(e,t,i,u,E){return ur(),zi(E),t.flags|=256,Pt(e,t,i,u),t.child}var ha={dehydrated:null,treeContext:null,retryLane:0};function fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function _l(e,t,i){var u=t.pendingProps,E=ot.current,C=!1,U=(t.flags&128)!==0,Q;if((Q=U)||(Q=e!==null&&e.memoizedState===null?!1:(E&2)!==0),Q?(C=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(E|=1),Ze(ot,E&1),e===null)return Ui(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(U=u.children,e=u.fallback,C?(u=t.mode,C=t.child,U={mode:"hidden",children:U},(u&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=U):C=Js(U,u,0,null),e=Qn(e,u,i,null),C.return=t,e.return=t,C.sibling=e,t.child=C,t.child.memoizedState=fa(i),t.memoizedState=ha,e):pa(t,U));if(E=e.memoizedState,E!==null&&(Q=E.dehydrated,Q!==null))return Bu(e,t,U,u,Q,E,i);if(C){C=u.fallback,U=t.mode,E=e.child,Q=E.sibling;var q={mode:"hidden",children:u.children};return(U&1)===0&&t.child!==E?(u=t.child,u.childLanes=0,u.pendingProps=q,t.deletions=null):(u=Fn(E,q),u.subtreeFlags=E.subtreeFlags&14680064),Q!==null?C=Fn(Q,C):(C=Qn(C,U,i,null),C.flags|=2),C.return=t,u.return=t,u.sibling=C,t.child=u,u=C,C=t.child,U=e.child.memoizedState,U=U===null?fa(i):{baseLanes:U.baseLanes|i,cachePool:null,transitions:U.transitions},C.memoizedState=U,C.childLanes=e.childLanes&~i,t.memoizedState=ha,u}return C=e.child,e=C.sibling,u=Fn(C,{mode:"visible",children:u.children}),(t.mode&1)===0&&(u.lanes=i),u.return=t,u.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=u,t.memoizedState=null,u}function pa(e,t){return t=Js({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _s(e,t,i,u){return u!==null&&zi(u),dr(t,e.child,null,i),e=pa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bu(e,t,i,u,E,C,U){if(i)return t.flags&256?(t.flags&=-257,u=la(Error(n(422))),_s(e,t,U,u)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(C=u.fallback,E=t.mode,u=Js({mode:"visible",children:u.children},E,0,null),C=Qn(C,E,U,null),C.flags|=2,u.return=t,C.return=t,u.sibling=C,t.child=u,(t.mode&1)!==0&&dr(t,e.child,null,U),t.child.memoizedState=fa(U),t.memoizedState=ha,C);if((t.mode&1)===0)return _s(e,t,U,null);if(E.data==="$!"){if(u=E.nextSibling&&E.nextSibling.dataset,u)var Q=u.dgst;return u=Q,C=Error(n(419)),u=la(C,u,void 0),_s(e,t,U,u)}if(Q=(U&e.childLanes)!==0,It||Q){if(u=St,u!==null){switch(U&-U){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(u.suspendedLanes|U))!==0?0:E,E!==0&&E!==C.retryLane&&(C.retryLane=E,hn(e,E),en(u,e,E,-1))}return Da(),u=la(Error(n(421))),_s(e,t,U,u)}return E.data==="$?"?(t.flags|=128,t.child=e.child,t=Zu.bind(null,e),E._reactRetry=t,null):(e=C.treeContext,Ut=An(E.nextSibling),Bt=t,it=!0,Qt=null,e!==null&&(Ht[Wt++]=un,Ht[Wt++]=dn,Ht[Wt++]=zn,un=e.id,dn=e.overflow,zn=t),t=pa(t,u.children),t.flags|=4096,t)}function Bl(e,t,i){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),Vi(e.return,t,i)}function ga(e,t,i,u,E){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:E}:(C.isBackwards=t,C.rendering=null,C.renderingStartTime=0,C.last=u,C.tail=i,C.tailMode=E)}function Ul(e,t,i){var u=t.pendingProps,E=u.revealOrder,C=u.tail;if(Pt(e,t,u.children,i),u=ot.current,(u&2)!==0)u=u&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bl(e,i,t);else if(e.tag===19)Bl(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(Ze(ot,u),(t.mode&1)===0)t.memoizedState=null;else switch(E){case"forwards":for(i=t.child,E=null;i!==null;)e=i.alternate,e!==null&&Os(e)===null&&(E=i),i=i.sibling;i=E,i===null?(E=t.child,t.child=null):(E=i.sibling,i.sibling=null),ga(t,!1,E,i,C);break;case"backwards":for(i=null,E=t.child,t.child=null;E!==null;){if(e=E.alternate,e!==null&&Os(e)===null){t.child=E;break}e=E.sibling,E.sibling=i,i=E,E=e}ga(t,!0,i,null,C);break;case"together":ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=Fn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Fn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Uu(e,t,i){switch(t.tag){case 3:Nl(t),ur();break;case 5:el(t);break;case 1:Mt(t.type)&&Ss(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var u=t.type._context,E=t.memoizedProps.value;Ze(ks,u._currentValue),u._currentValue=E;break;case 13:if(u=t.memoizedState,u!==null)return u.dehydrated!==null?(Ze(ot,ot.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?_l(e,t,i):(Ze(ot,ot.current&1),e=pn(e,t,i),e!==null?e.sibling:null);Ze(ot,ot.current&1);break;case 19:if(u=(i&t.childLanes)!==0,(e.flags&128)!==0){if(u)return Ul(e,t,i);t.flags|=128}if(E=t.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Ze(ot,ot.current),u)break;return null;case 22:case 23:return t.lanes=0,Il(e,t,i)}return pn(e,t,i)}var zl,ma,Hl,Wl;zl=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ma=function(){},Hl=function(e,t,i,u){var E=e.memoizedProps;if(E!==u){e=t.stateNode,$n(sn.current);var C=null;switch(i){case"input":E=ye(e,E),u=ye(e,u),C=[];break;case"select":E=P({},E,{value:void 0}),u=P({},u,{value:void 0}),C=[];break;case"textarea":E=Fe(e,E),u=Fe(e,u),C=[];break;default:typeof E.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=ys)}le(i,u);var U;i=null;for(fe in E)if(!u.hasOwnProperty(fe)&&E.hasOwnProperty(fe)&&E[fe]!=null)if(fe==="style"){var Q=E[fe];for(U in Q)Q.hasOwnProperty(U)&&(i||(i={}),i[U]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(l.hasOwnProperty(fe)?C||(C=[]):(C=C||[]).push(fe,null));for(fe in u){var q=u[fe];if(Q=E?.[fe],u.hasOwnProperty(fe)&&q!==Q&&(q!=null||Q!=null))if(fe==="style")if(Q){for(U in Q)!Q.hasOwnProperty(U)||q&&q.hasOwnProperty(U)||(i||(i={}),i[U]="");for(U in q)q.hasOwnProperty(U)&&Q[U]!==q[U]&&(i||(i={}),i[U]=q[U])}else i||(C||(C=[]),C.push(fe,i)),i=q;else fe==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,Q=Q?Q.__html:void 0,q!=null&&Q!==q&&(C=C||[]).push(fe,q)):fe==="children"?typeof q!="string"&&typeof q!="number"||(C=C||[]).push(fe,""+q):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(l.hasOwnProperty(fe)?(q!=null&&fe==="onScroll"&&tt("scroll",e),C||Q===q||(C=[])):(C=C||[]).push(fe,q))}i&&(C=C||[]).push("style",i);var fe=C;(t.updateQueue=fe)&&(t.flags|=4)}},Wl=function(e,t,i,u){i!==u&&(t.flags|=4)};function Xr(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,u=0;if(t)for(var E=e.child;E!==null;)i|=E.lanes|E.childLanes,u|=E.subtreeFlags&14680064,u|=E.flags&14680064,E.return=e,E=E.sibling;else for(E=e.child;E!==null;)i|=E.lanes|E.childLanes,u|=E.subtreeFlags,u|=E.flags,E.return=e,E=E.sibling;return e.subtreeFlags|=u,e.childLanes=i,t}function zu(e,t,i){var u=t.pendingProps;switch(_i(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return Mt(t.type)&&Es(),kt(t),null;case 3:return u=t.stateNode,pr(),nt(Ot),nt(Ct),Ji(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qt!==null&&(ka(Qt),Qt=null))),ma(e,t),kt(t),null;case 5:Ki(t);var E=$n(Hr.current);if(i=t.type,e!==null&&t.stateNode!=null)Hl(e,t,i,u,E),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!u){if(t.stateNode===null)throw Error(n(166));return kt(t),null}if(e=$n(sn.current),Cs(t)){u=t.stateNode,i=t.type;var C=t.memoizedProps;switch(u[rn]=t,u[jr]=C,e=(t.mode&1)!==0,i){case"dialog":tt("cancel",u),tt("close",u);break;case"iframe":case"object":case"embed":tt("load",u);break;case"video":case"audio":for(E=0;E<Fr.length;E++)tt(Fr[E],u);break;case"source":tt("error",u);break;case"img":case"image":case"link":tt("error",u),tt("load",u);break;case"details":tt("toggle",u);break;case"input":oe(u,C),tt("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!C.multiple},tt("invalid",u);break;case"textarea":Ue(u,C),tt("invalid",u)}le(i,C),E=null;for(var U in C)if(C.hasOwnProperty(U)){var Q=C[U];U==="children"?typeof Q=="string"?u.textContent!==Q&&(C.suppressHydrationWarning!==!0&&vs(u.textContent,Q,e),E=["children",Q]):typeof Q=="number"&&u.textContent!==""+Q&&(C.suppressHydrationWarning!==!0&&vs(u.textContent,Q,e),E=["children",""+Q]):l.hasOwnProperty(U)&&Q!=null&&U==="onScroll"&&tt("scroll",u)}switch(i){case"input":X(u),me(u,C,!0);break;case"textarea":X(u),Ye(u);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(u.onclick=ys)}u=E,t.updateQueue=u,u!==null&&(t.flags|=4)}else{U=E.nodeType===9?E:E.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rt(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=U.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=U.createElement(i,{is:u.is}):(e=U.createElement(i),i==="select"&&(U=e,u.multiple?U.multiple=!0:u.size&&(U.size=u.size))):e=U.createElementNS(e,i),e[rn]=t,e[jr]=u,zl(e,t,!1,!1),t.stateNode=e;e:{switch(U=re(i,u),i){case"dialog":tt("cancel",e),tt("close",e),E=u;break;case"iframe":case"object":case"embed":tt("load",e),E=u;break;case"video":case"audio":for(E=0;E<Fr.length;E++)tt(Fr[E],e);E=u;break;case"source":tt("error",e),E=u;break;case"img":case"image":case"link":tt("error",e),tt("load",e),E=u;break;case"details":tt("toggle",e),E=u;break;case"input":oe(e,u),E=ye(e,u),tt("invalid",e);break;case"option":E=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},E=P({},u,{value:void 0}),tt("invalid",e);break;case"textarea":Ue(e,u),E=Fe(e,u),tt("invalid",e);break;default:E=u}le(i,E),Q=E;for(C in Q)if(Q.hasOwnProperty(C)){var q=Q[C];C==="style"?mn(e,q):C==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&qe(e,q)):C==="children"?typeof q=="string"?(i!=="textarea"||q!=="")&&pt(e,q):typeof q=="number"&&pt(e,""+q):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(l.hasOwnProperty(C)?q!=null&&C==="onScroll"&&tt("scroll",e):q!=null&&j(e,C,q,U))}switch(i){case"input":X(e),me(e,u,!1);break;case"textarea":X(e),Ye(e);break;case"option":u.value!=null&&e.setAttribute("value",""+F(u.value));break;case"select":e.multiple=!!u.multiple,C=u.value,C!=null?Re(e,!!u.multiple,C,!1):u.defaultValue!=null&&Re(e,!!u.multiple,u.defaultValue,!0);break;default:typeof E.onClick=="function"&&(e.onclick=ys)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)Wl(e,t,e.memoizedProps,u);else{if(typeof u!="string"&&t.stateNode===null)throw Error(n(166));if(i=$n(Hr.current),$n(sn.current),Cs(t)){if(u=t.stateNode,i=t.memoizedProps,u[rn]=t,(C=u.nodeValue!==i)&&(e=Bt,e!==null))switch(e.tag){case 3:vs(u.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vs(u.nodeValue,i,(e.mode&1)!==0)}C&&(t.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[rn]=t,t.stateNode=u}return kt(t),null;case 13:if(nt(ot),u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&Ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Go(),ur(),t.flags|=98560,C=!1;else if(C=Cs(t),u!==null&&u.dehydrated!==null){if(e===null){if(!C)throw Error(n(318));if(C=t.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[rn]=t}else ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;kt(t),C=!1}else Qt!==null&&(ka(Qt),Qt=null),C=!0;if(!C)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ot.current&1)!==0?yt===0&&(yt=3):Da())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return pr(),ma(e,t),e===null&&Lr(t.stateNode.containerInfo),kt(t),null;case 10:return $i(t.type._context),kt(t),null;case 17:return Mt(t.type)&&Es(),kt(t),null;case 19:if(nt(ot),C=t.memoizedState,C===null)return kt(t),null;if(u=(t.flags&128)!==0,U=C.rendering,U===null)if(u)Xr(C,!1);else{if(yt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(U=Os(e),U!==null){for(t.flags|=128,Xr(C,!1),u=U.updateQueue,u!==null&&(t.updateQueue=u,t.flags|=4),t.subtreeFlags=0,u=i,i=t.child;i!==null;)C=i,e=u,C.flags&=14680066,U=C.alternate,U===null?(C.childLanes=0,C.lanes=e,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=U.childLanes,C.lanes=U.lanes,C.child=U.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=U.memoizedProps,C.memoizedState=U.memoizedState,C.updateQueue=U.updateQueue,C.type=U.type,e=U.dependencies,C.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ze(ot,ot.current&1|2),t.child}e=e.sibling}C.tail!==null&&ht()>yr&&(t.flags|=128,u=!0,Xr(C,!1),t.lanes=4194304)}else{if(!u)if(e=Os(U),e!==null){if(t.flags|=128,u=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Xr(C,!0),C.tail===null&&C.tailMode==="hidden"&&!U.alternate&&!it)return kt(t),null}else 2*ht()-C.renderingStartTime>yr&&i!==1073741824&&(t.flags|=128,u=!0,Xr(C,!1),t.lanes=4194304);C.isBackwards?(U.sibling=t.child,t.child=U):(i=C.last,i!==null?i.sibling=U:t.child=U,C.last=U)}return C.tail!==null?(t=C.tail,C.rendering=t,C.tail=t.sibling,C.renderingStartTime=ht(),t.sibling=null,i=ot.current,Ze(ot,u?i&1|2:i&1),t):(kt(t),null);case 22:case 23:return Pa(),u=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(t.flags|=8192),u&&(t.mode&1)!==0?(zt&1073741824)!==0&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Hu(e,t){switch(_i(t),t.tag){case 1:return Mt(t.type)&&Es(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pr(),nt(Ot),nt(Ct),Ji(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ki(t),null;case 13:if(nt(ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(ot),null;case 4:return pr(),null;case 10:return $i(t.type._context),null;case 22:case 23:return Pa(),null;case 24:return null;default:return null}}var Us=!1,Rt=!1,Wu=typeof WeakSet=="function"?WeakSet:Set,De=null;function mr(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){ut(e,t,u)}else i.current=null}function va(e,t,i){try{i()}catch(u){ut(e,t,u)}}var $l=!1;function $u(e,t){if(Pi=as,e=bo(),Si(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var E=u.anchorOffset,C=u.focusNode;u=u.focusOffset;try{i.nodeType,C.nodeType}catch{i=null;break e}var U=0,Q=-1,q=-1,fe=0,Se=0,be=e,xe=null;t:for(;;){for(var Pe;be!==i||E!==0&&be.nodeType!==3||(Q=U+E),be!==C||u!==0&&be.nodeType!==3||(q=U+u),be.nodeType===3&&(U+=be.nodeValue.length),(Pe=be.firstChild)!==null;)xe=be,be=Pe;for(;;){if(be===e)break t;if(xe===i&&++fe===E&&(Q=U),xe===C&&++Se===u&&(q=U),(Pe=be.nextSibling)!==null)break;be=xe,xe=be.parentNode}be=Pe}i=Q===-1||q===-1?null:{start:Q,end:q}}else i=null}i=i||{start:0,end:0}}else i=null;for(Di={focusedElem:e,selectionRange:i},as=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){t=De;try{var Oe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Me=Oe.memoizedProps,ft=Oe.memoizedState,ce=t.stateNode,ee=ce.getSnapshotBeforeUpdate(t.elementType===t.type?Me:Jt(t.type,Me),ft);ce.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var ue=t.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ae){ut(t,t.return,Ae)}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}return Oe=$l,$l=!1,Oe}function Yr(e,t,i){var u=t.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var E=u=u.next;do{if((E.tag&e)===e){var C=E.destroy;E.destroy=void 0,C!==void 0&&va(t,i,C)}E=E.next}while(E!==u)}}function zs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var u=i.create;i.destroy=u()}i=i.next}while(i!==t)}}function ya(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Vl(e){var t=e.alternate;t!==null&&(e.alternate=null,Vl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rn],delete t[jr],delete t[Fi],delete t[Tu],delete t[ku])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gl(e){return e.tag===5||e.tag===3||e.tag===4}function Xl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xa(e,t,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=ys));else if(u!==4&&(e=e.child,e!==null))for(xa(e,t,i),e=e.sibling;e!==null;)xa(e,t,i),e=e.sibling}function Ea(e,t,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Ea(e,t,i),e=e.sibling;e!==null;)Ea(e,t,i),e=e.sibling}var At=null,Zt=!1;function Pn(e,t,i){for(i=i.child;i!==null;)Yl(e,t,i),i=i.sibling}function Yl(e,t,i){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(es,i)}catch{}switch(i.tag){case 5:Rt||mr(i,t);case 6:var u=At,E=Zt;At=null,Pn(e,t,i),At=u,Zt=E,At!==null&&(Zt?(e=At,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):At.removeChild(i.stateNode));break;case 18:At!==null&&(Zt?(e=At,i=i.stateNode,e.nodeType===8?Ii(e.parentNode,i):e.nodeType===1&&Ii(e,i),Tr(e)):Ii(At,i.stateNode));break;case 4:u=At,E=Zt,At=i.stateNode.containerInfo,Zt=!0,Pn(e,t,i),At=u,Zt=E;break;case 0:case 11:case 14:case 15:if(!Rt&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){E=u=u.next;do{var C=E,U=C.destroy;C=C.tag,U!==void 0&&((C&2)!==0||(C&4)!==0)&&va(i,t,U),E=E.next}while(E!==u)}Pn(e,t,i);break;case 1:if(!Rt&&(mr(i,t),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(Q){ut(i,t,Q)}Pn(e,t,i);break;case 21:Pn(e,t,i);break;case 22:i.mode&1?(Rt=(u=Rt)||i.memoizedState!==null,Pn(e,t,i),Rt=u):Pn(e,t,i);break;default:Pn(e,t,i)}}function Kl(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Wu),t.forEach(function(u){var E=qu.bind(null,e,u);i.has(u)||(i.add(u),u.then(E,E))})}}function qt(e,t){var i=t.deletions;if(i!==null)for(var u=0;u<i.length;u++){var E=i[u];try{var C=e,U=t,Q=U;e:for(;Q!==null;){switch(Q.tag){case 5:At=Q.stateNode,Zt=!1;break e;case 3:At=Q.stateNode.containerInfo,Zt=!0;break e;case 4:At=Q.stateNode.containerInfo,Zt=!0;break e}Q=Q.return}if(At===null)throw Error(n(160));Yl(C,U,E),At=null,Zt=!1;var q=E.alternate;q!==null&&(q.return=null),E.return=null}catch(fe){ut(E,t,fe)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ql(t,e),t=t.sibling}function Ql(e,t){var i=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qt(t,e),on(e),u&4){try{Yr(3,e,e.return),zs(3,e)}catch(Me){ut(e,e.return,Me)}try{Yr(5,e,e.return)}catch(Me){ut(e,e.return,Me)}}break;case 1:qt(t,e),on(e),u&512&&i!==null&&mr(i,i.return);break;case 5:if(qt(t,e),on(e),u&512&&i!==null&&mr(i,i.return),e.flags&32){var E=e.stateNode;try{pt(E,"")}catch(Me){ut(e,e.return,Me)}}if(u&4&&(E=e.stateNode,E!=null)){var C=e.memoizedProps,U=i!==null?i.memoizedProps:C,Q=e.type,q=e.updateQueue;if(e.updateQueue=null,q!==null)try{Q==="input"&&C.type==="radio"&&C.name!=null&&he(E,C),re(Q,U);var fe=re(Q,C);for(U=0;U<q.length;U+=2){var Se=q[U],be=q[U+1];Se==="style"?mn(E,be):Se==="dangerouslySetInnerHTML"?qe(E,be):Se==="children"?pt(E,be):j(E,Se,be,fe)}switch(Q){case"input":ge(E,C);break;case"textarea":He(E,C);break;case"select":var xe=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!C.multiple;var Pe=C.value;Pe!=null?Re(E,!!C.multiple,Pe,!1):xe!==!!C.multiple&&(C.defaultValue!=null?Re(E,!!C.multiple,C.defaultValue,!0):Re(E,!!C.multiple,C.multiple?[]:"",!1))}E[jr]=C}catch(Me){ut(e,e.return,Me)}}break;case 6:if(qt(t,e),on(e),u&4){if(e.stateNode===null)throw Error(n(162));E=e.stateNode,C=e.memoizedProps;try{E.nodeValue=C}catch(Me){ut(e,e.return,Me)}}break;case 3:if(qt(t,e),on(e),u&4&&i!==null&&i.memoizedState.isDehydrated)try{Tr(t.containerInfo)}catch(Me){ut(e,e.return,Me)}break;case 4:qt(t,e),on(e);break;case 13:qt(t,e),on(e),E=e.child,E.flags&8192&&(C=E.memoizedState!==null,E.stateNode.isHidden=C,!C||E.alternate!==null&&E.alternate.memoizedState!==null||(Aa=ht())),u&4&&Kl(e);break;case 22:if(Se=i!==null&&i.memoizedState!==null,e.mode&1?(Rt=(fe=Rt)||Se,qt(t,e),Rt=fe):qt(t,e),on(e),u&8192){if(fe=e.memoizedState!==null,(e.stateNode.isHidden=fe)&&!Se&&(e.mode&1)!==0)for(De=e,Se=e.child;Se!==null;){for(be=De=Se;De!==null;){switch(xe=De,Pe=xe.child,xe.tag){case 0:case 11:case 14:case 15:Yr(4,xe,xe.return);break;case 1:mr(xe,xe.return);var Oe=xe.stateNode;if(typeof Oe.componentWillUnmount=="function"){u=xe,i=xe.return;try{t=u,Oe.props=t.memoizedProps,Oe.state=t.memoizedState,Oe.componentWillUnmount()}catch(Me){ut(u,i,Me)}}break;case 5:mr(xe,xe.return);break;case 22:if(xe.memoizedState!==null){ql(be);continue}}Pe!==null?(Pe.return=xe,De=Pe):ql(be)}Se=Se.sibling}e:for(Se=null,be=e;;){if(be.tag===5){if(Se===null){Se=be;try{E=be.stateNode,fe?(C=E.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(Q=be.stateNode,q=be.memoizedProps.style,U=q!=null&&q.hasOwnProperty("display")?q.display:null,Q.style.display=Jn("display",U))}catch(Me){ut(e,e.return,Me)}}}else if(be.tag===6){if(Se===null)try{be.stateNode.nodeValue=fe?"":be.memoizedProps}catch(Me){ut(e,e.return,Me)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===e)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===e)break e;for(;be.sibling===null;){if(be.return===null||be.return===e)break e;Se===be&&(Se=null),be=be.return}Se===be&&(Se=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:qt(t,e),on(e),u&4&&Kl(e);break;case 21:break;default:qt(t,e),on(e)}}function on(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Gl(i)){var u=i;break e}i=i.return}throw Error(n(160))}switch(u.tag){case 5:var E=u.stateNode;u.flags&32&&(pt(E,""),u.flags&=-33);var C=Xl(e);Ea(e,C,E);break;case 3:case 4:var U=u.stateNode.containerInfo,Q=Xl(e);xa(e,Q,U);break;default:throw Error(n(161))}}catch(q){ut(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vu(e,t,i){De=e,Jl(e)}function Jl(e,t,i){for(var u=(e.mode&1)!==0;De!==null;){var E=De,C=E.child;if(E.tag===22&&u){var U=E.memoizedState!==null||Us;if(!U){var Q=E.alternate,q=Q!==null&&Q.memoizedState!==null||Rt;Q=Us;var fe=Rt;if(Us=U,(Rt=q)&&!fe)for(De=E;De!==null;)U=De,q=U.child,U.tag===22&&U.memoizedState!==null?ec(E):q!==null?(q.return=U,De=q):ec(E);for(;C!==null;)De=C,Jl(C),C=C.sibling;De=E,Us=Q,Rt=fe}Zl(e)}else(E.subtreeFlags&8772)!==0&&C!==null?(C.return=E,De=C):Zl(e)}}function Zl(e){for(;De!==null;){var t=De;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Rt||zs(5,t);break;case 1:var u=t.stateNode;if(t.flags&4&&!Rt)if(i===null)u.componentDidMount();else{var E=t.elementType===t.type?i.memoizedProps:Jt(t.type,i.memoizedProps);u.componentDidUpdate(E,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var C=t.updateQueue;C!==null&&qo(t,C,u);break;case 3:var U=t.updateQueue;if(U!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}qo(t,U,i)}break;case 5:var Q=t.stateNode;if(i===null&&t.flags&4){i=Q;var q=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&i.focus();break;case"img":q.src&&(i.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var fe=t.alternate;if(fe!==null){var Se=fe.memoizedState;if(Se!==null){var be=Se.dehydrated;be!==null&&Tr(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rt||t.flags&512&&ya(t)}catch(xe){ut(t,t.return,xe)}}if(t===e){De=null;break}if(i=t.sibling,i!==null){i.return=t.return,De=i;break}De=t.return}}function ql(e){for(;De!==null;){var t=De;if(t===e){De=null;break}var i=t.sibling;if(i!==null){i.return=t.return,De=i;break}De=t.return}}function ec(e){for(;De!==null;){var t=De;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{zs(4,t)}catch(q){ut(t,i,q)}break;case 1:var u=t.stateNode;if(typeof u.componentDidMount=="function"){var E=t.return;try{u.componentDidMount()}catch(q){ut(t,E,q)}}var C=t.return;try{ya(t)}catch(q){ut(t,C,q)}break;case 5:var U=t.return;try{ya(t)}catch(q){ut(t,U,q)}}}catch(q){ut(t,t.return,q)}if(t===e){De=null;break}var Q=t.sibling;if(Q!==null){Q.return=t.return,De=Q;break}De=t.return}}var Gu=Math.ceil,Hs=L.ReactCurrentDispatcher,Sa=L.ReactCurrentOwner,Gt=L.ReactCurrentBatchConfig,Xe=0,St=null,gt=null,wt=0,zt=0,vr=wn(0),yt=0,Kr=null,Gn=0,Ws=0,ba=0,Qr=null,Ft=null,Aa=0,yr=1/0,gn=null,$s=!1,wa=null,Dn=null,Vs=!1,On=null,Gs=0,Jr=0,Ca=null,Xs=-1,Ys=0;function Dt(){return(Xe&6)!==0?ht():Xs!==-1?Xs:Xs=ht()}function Mn(e){return(e.mode&1)===0?1:(Xe&2)!==0&&wt!==0?wt&-wt:Pu.transition!==null?(Ys===0&&(Ys=Ga()),Ys):(e=Je,e!==0||(e=window.event,e=e===void 0?16:to(e.type)),e)}function en(e,t,i,u){if(50<Jr)throw Jr=0,Ca=null,Error(n(185));Sr(e,i,u),((Xe&2)===0||e!==St)&&(e===St&&((Xe&2)===0&&(Ws|=i),yt===4&&In(e,wt)),Lt(e,u),i===1&&Xe===0&&(t.mode&1)===0&&(yr=ht()+500,bs&&Tn()))}function Lt(e,t){var i=e.callbackNode;Pc(e,t);var u=rs(e,e===St?wt:0);if(u===0)i!==null&&Wa(i),e.callbackNode=null,e.callbackPriority=0;else if(t=u&-u,e.callbackPriority!==t){if(i!=null&&Wa(i),t===1)e.tag===0?Ru(nc.bind(null,e)):zo(nc.bind(null,e)),wu(function(){(Xe&6)===0&&Tn()}),i=null;else{switch(Xa(u)){case 1:i=si;break;case 4:i=$a;break;case 16:i=qr;break;case 536870912:i=Va;break;default:i=qr}i=uc(i,tc.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function tc(e,t){if(Xs=-1,Ys=0,(Xe&6)!==0)throw Error(n(327));var i=e.callbackNode;if(xr()&&e.callbackNode!==i)return null;var u=rs(e,e===St?wt:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||t)t=Ks(e,u);else{t=u;var E=Xe;Xe|=2;var C=sc();(St!==e||wt!==t)&&(gn=null,yr=ht()+500,Yn(e,t));do try{Ku();break}catch(Q){rc(e,Q)}while(!0);Wi(),Hs.current=C,Xe=E,gt!==null?t=0:(St=null,wt=0,t=yt)}if(t!==0){if(t===2&&(E=ii(e),E!==0&&(u=E,t=Ta(e,E))),t===1)throw i=Kr,Yn(e,0),In(e,u),Lt(e,ht()),i;if(t===6)In(e,u);else{if(E=e.current.alternate,(u&30)===0&&!Xu(E)&&(t=Ks(e,u),t===2&&(C=ii(e),C!==0&&(u=C,t=Ta(e,C))),t===1))throw i=Kr,Yn(e,0),In(e,u),Lt(e,ht()),i;switch(e.finishedWork=E,e.finishedLanes=u,t){case 0:case 1:throw Error(n(345));case 2:Kn(e,Ft,gn);break;case 3:if(In(e,u),(u&130023424)===u&&(t=Aa+500-ht(),10<t)){if(rs(e,0)!==0)break;if(E=e.suspendedLanes,(E&u)!==u){Dt(),e.pingedLanes|=e.suspendedLanes&E;break}e.timeoutHandle=Mi(Kn.bind(null,e,Ft,gn),t);break}Kn(e,Ft,gn);break;case 4:if(In(e,u),(u&4194240)===u)break;for(t=e.eventTimes,E=-1;0<u;){var U=31-Yt(u);C=1<<U,U=t[U],U>E&&(E=U),u&=~C}if(u=E,u=ht()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Gu(u/1960))-u,10<u){e.timeoutHandle=Mi(Kn.bind(null,e,Ft,gn),u);break}Kn(e,Ft,gn);break;case 5:Kn(e,Ft,gn);break;default:throw Error(n(329))}}}return Lt(e,ht()),e.callbackNode===i?tc.bind(null,e):null}function Ta(e,t){var i=Qr;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=Ks(e,t),e!==2&&(t=Ft,Ft=i,t!==null&&ka(t)),e}function ka(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function Xu(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var E=i[u],C=E.getSnapshot;E=E.value;try{if(!Kt(C(),E))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function In(e,t){for(t&=~ba,t&=~Ws,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Yt(t),u=1<<i;e[i]=-1,t&=~u}}function nc(e){if((Xe&6)!==0)throw Error(n(327));xr();var t=rs(e,0);if((t&1)===0)return Lt(e,ht()),null;var i=Ks(e,t);if(e.tag!==0&&i===2){var u=ii(e);u!==0&&(t=u,i=Ta(e,u))}if(i===1)throw i=Kr,Yn(e,0),In(e,t),Lt(e,ht()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,Ft,gn),Lt(e,ht()),null}function Ra(e,t){var i=Xe;Xe|=1;try{return e(t)}finally{Xe=i,Xe===0&&(yr=ht()+500,bs&&Tn())}}function Xn(e){On!==null&&On.tag===0&&(Xe&6)===0&&xr();var t=Xe;Xe|=1;var i=Gt.transition,u=Je;try{if(Gt.transition=null,Je=1,e)return e()}finally{Je=u,Gt.transition=i,Xe=t,(Xe&6)===0&&Tn()}}function Pa(){zt=vr.current,nt(vr)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Au(i)),gt!==null)for(i=gt.return;i!==null;){var u=i;switch(_i(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Es();break;case 3:pr(),nt(Ot),nt(Ct),Ji();break;case 5:Ki(u);break;case 4:pr();break;case 13:nt(ot);break;case 19:nt(ot);break;case 10:$i(u.type._context);break;case 22:case 23:Pa()}i=i.return}if(St=e,gt=e=Fn(e.current,null),wt=zt=t,yt=0,Kr=null,ba=Ws=Gn=0,Ft=Qr=null,Wn!==null){for(t=0;t<Wn.length;t++)if(i=Wn[t],u=i.interleaved,u!==null){i.interleaved=null;var E=u.next,C=i.pending;if(C!==null){var U=C.next;C.next=E,u.next=U}i.pending=u}Wn=null}return e}function rc(e,t){do{var i=gt;try{if(Wi(),Ms.current=Ns,Is){for(var u=lt.memoizedState;u!==null;){var E=u.queue;E!==null&&(E.pending=null),u=u.next}Is=!1}if(Vn=0,Et=vt=lt=null,Wr=!1,$r=0,Sa.current=null,i===null||i.return===null){yt=1,Kr=t,gt=null;break}e:{var C=e,U=i.return,Q=i,q=t;if(t=wt,Q.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var fe=q,Se=Q,be=Se.tag;if((Se.mode&1)===0&&(be===0||be===11||be===15)){var xe=Se.alternate;xe?(Se.updateQueue=xe.updateQueue,Se.memoizedState=xe.memoizedState,Se.lanes=xe.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Pe=Rl(U);if(Pe!==null){Pe.flags&=-257,Pl(Pe,U,Q,C,t),Pe.mode&1&&kl(C,fe,t),t=Pe,q=fe;var Oe=t.updateQueue;if(Oe===null){var Me=new Set;Me.add(q),t.updateQueue=Me}else Oe.add(q);break e}else{if((t&1)===0){kl(C,fe,t),Da();break e}q=Error(n(426))}}else if(it&&Q.mode&1){var ft=Rl(U);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Pl(ft,U,Q,C,t),zi(gr(q,Q));break e}}C=q=gr(q,Q),yt!==4&&(yt=2),Qr===null?Qr=[C]:Qr.push(C),C=U;do{switch(C.tag){case 3:C.flags|=65536,t&=-t,C.lanes|=t;var ce=Cl(C,q,t);Zo(C,ce);break e;case 1:Q=q;var ee=C.type,ue=C.stateNode;if((C.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Dn===null||!Dn.has(ue)))){C.flags|=65536,t&=-t,C.lanes|=t;var Ae=Tl(C,Q,t);Zo(C,Ae);break e}}C=C.return}while(C!==null)}ac(i)}catch(Le){t=Le,gt===i&&i!==null&&(gt=i=i.return);continue}break}while(!0)}function sc(){var e=Hs.current;return Hs.current=Ns,e===null?Ns:e}function Da(){(yt===0||yt===3||yt===2)&&(yt=4),St===null||(Gn&268435455)===0&&(Ws&268435455)===0||In(St,wt)}function Ks(e,t){var i=Xe;Xe|=2;var u=sc();(St!==e||wt!==t)&&(gn=null,Yn(e,t));do try{Yu();break}catch(E){rc(e,E)}while(!0);if(Wi(),Xe=i,Hs.current=u,gt!==null)throw Error(n(261));return St=null,wt=0,yt}function Yu(){for(;gt!==null;)ic(gt)}function Ku(){for(;gt!==null&&!Ec();)ic(gt)}function ic(e){var t=cc(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?ac(e):gt=t,Sa.current=null}function ac(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=zu(i,t,zt),i!==null){gt=i;return}}else{if(i=Hu(i,t),i!==null){i.flags&=32767,gt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,gt=null;return}}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);yt===0&&(yt=5)}function Kn(e,t,i){var u=Je,E=Gt.transition;try{Gt.transition=null,Je=1,Qu(e,t,i,u)}finally{Gt.transition=E,Je=u}return null}function Qu(e,t,i,u){do xr();while(On!==null);if((Xe&6)!==0)throw Error(n(327));i=e.finishedWork;var E=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var C=i.lanes|i.childLanes;if(Dc(e,C),e===St&&(gt=St=null,wt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Vs||(Vs=!0,uc(qr,function(){return xr(),null})),C=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||C){C=Gt.transition,Gt.transition=null;var U=Je;Je=1;var Q=Xe;Xe|=4,Sa.current=null,$u(e,i),Ql(i,e),mu(Di),as=!!Pi,Di=Pi=null,e.current=i,Vu(i),Sc(),Xe=Q,Je=U,Gt.transition=C}else e.current=i;if(Vs&&(Vs=!1,On=e,Gs=E),C=e.pendingLanes,C===0&&(Dn=null),wc(i.stateNode),Lt(e,ht()),t!==null)for(u=e.onRecoverableError,i=0;i<t.length;i++)E=t[i],u(E.value,{componentStack:E.stack,digest:E.digest});if($s)throw $s=!1,e=wa,wa=null,e;return(Gs&1)!==0&&e.tag!==0&&xr(),C=e.pendingLanes,(C&1)!==0?e===Ca?Jr++:(Jr=0,Ca=e):Jr=0,Tn(),null}function xr(){if(On!==null){var e=Xa(Gs),t=Gt.transition,i=Je;try{if(Gt.transition=null,Je=16>e?16:e,On===null)var u=!1;else{if(e=On,On=null,Gs=0,(Xe&6)!==0)throw Error(n(331));var E=Xe;for(Xe|=4,De=e.current;De!==null;){var C=De,U=C.child;if((De.flags&16)!==0){var Q=C.deletions;if(Q!==null){for(var q=0;q<Q.length;q++){var fe=Q[q];for(De=fe;De!==null;){var Se=De;switch(Se.tag){case 0:case 11:case 15:Yr(8,Se,C)}var be=Se.child;if(be!==null)be.return=Se,De=be;else for(;De!==null;){Se=De;var xe=Se.sibling,Pe=Se.return;if(Vl(Se),Se===fe){De=null;break}if(xe!==null){xe.return=Pe,De=xe;break}De=Pe}}}var Oe=C.alternate;if(Oe!==null){var Me=Oe.child;if(Me!==null){Oe.child=null;do{var ft=Me.sibling;Me.sibling=null,Me=ft}while(Me!==null)}}De=C}}if((C.subtreeFlags&2064)!==0&&U!==null)U.return=C,De=U;else e:for(;De!==null;){if(C=De,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:Yr(9,C,C.return)}var ce=C.sibling;if(ce!==null){ce.return=C.return,De=ce;break e}De=C.return}}var ee=e.current;for(De=ee;De!==null;){U=De;var ue=U.child;if((U.subtreeFlags&2064)!==0&&ue!==null)ue.return=U,De=ue;else e:for(U=ee;De!==null;){if(Q=De,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:zs(9,Q)}}catch(Le){ut(Q,Q.return,Le)}if(Q===U){De=null;break e}var Ae=Q.sibling;if(Ae!==null){Ae.return=Q.return,De=Ae;break e}De=Q.return}}if(Xe=E,Tn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(es,e)}catch{}u=!0}return u}finally{Je=i,Gt.transition=t}}return!1}function oc(e,t,i){t=gr(i,t),t=Cl(e,t,1),e=Rn(e,t,1),t=Dt(),e!==null&&(Sr(e,1,t),Lt(e,t))}function ut(e,t,i){if(e.tag===3)oc(e,e,i);else for(;t!==null;){if(t.tag===3){oc(t,e,i);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Dn===null||!Dn.has(u))){e=gr(i,e),e=Tl(t,e,1),t=Rn(t,e,1),e=Dt(),t!==null&&(Sr(t,1,e),Lt(t,e));break}}t=t.return}}function Ju(e,t,i){var u=e.pingCache;u!==null&&u.delete(t),t=Dt(),e.pingedLanes|=e.suspendedLanes&i,St===e&&(wt&i)===i&&(yt===4||yt===3&&(wt&130023424)===wt&&500>ht()-Aa?Yn(e,0):ba|=i),Lt(e,t)}function lc(e,t){t===0&&((e.mode&1)===0?t=1:(t=ns,ns<<=1,(ns&130023424)===0&&(ns=4194304)));var i=Dt();e=hn(e,t),e!==null&&(Sr(e,t,i),Lt(e,i))}function Zu(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),lc(e,i)}function qu(e,t){var i=0;switch(e.tag){case 13:var u=e.stateNode,E=e.memoizedState;E!==null&&(i=E.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(t),lc(e,i)}var cc;cc=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ot.current)It=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return It=!1,Uu(e,t,i);It=(e.flags&131072)!==0}else It=!1,it&&(t.flags&1048576)!==0&&Ho(t,ws,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type;Bs(e,t),e=t.pendingProps;var E=or(t,Ct.current);fr(t,i),E=ea(null,t,u,e,E,i);var C=ta();return t.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mt(u)?(C=!0,Ss(t)):C=!1,t.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Xi(t),E.updater=js,t.stateNode=E,E._reactInternals=t,oa(t,u,e,i),t=da(null,t,u,!0,C,i)):(t.tag=0,it&&C&&ji(t),Pt(null,t,E,i),t=t.child),t;case 16:u=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,E=u._init,u=E(u._payload),t.type=u,E=t.tag=td(u),e=Jt(u,e),E){case 0:t=ua(null,t,u,e,i);break e;case 1:t=Ll(null,t,u,e,i);break e;case 11:t=Dl(null,t,u,e,i);break e;case 14:t=Ol(null,t,u,Jt(u.type,e),i);break e}throw Error(n(306,u,""))}return t;case 0:return u=t.type,E=t.pendingProps,E=t.elementType===u?E:Jt(u,E),ua(e,t,u,E,i);case 1:return u=t.type,E=t.pendingProps,E=t.elementType===u?E:Jt(u,E),Ll(e,t,u,E,i);case 3:e:{if(Nl(t),e===null)throw Error(n(387));u=t.pendingProps,C=t.memoizedState,E=C.element,Jo(e,t),Ds(t,u,null,i);var U=t.memoizedState;if(u=U.element,C.isDehydrated)if(C={element:u,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},t.updateQueue.baseState=C,t.memoizedState=C,t.flags&256){E=gr(Error(n(423)),t),t=jl(e,t,u,i,E);break e}else if(u!==E){E=gr(Error(n(424)),t),t=jl(e,t,u,i,E);break e}else for(Ut=An(t.stateNode.containerInfo.firstChild),Bt=t,it=!0,Qt=null,i=Ko(t,null,u,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ur(),u===E){t=pn(e,t,i);break e}Pt(e,t,u,i)}t=t.child}return t;case 5:return el(t),e===null&&Ui(t),u=t.type,E=t.pendingProps,C=e!==null?e.memoizedProps:null,U=E.children,Oi(u,E)?U=null:C!==null&&Oi(u,C)&&(t.flags|=32),Fl(e,t),Pt(e,t,U,i),t.child;case 6:return e===null&&Ui(t),null;case 13:return _l(e,t,i);case 4:return Yi(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=dr(t,null,u,i):Pt(e,t,u,i),t.child;case 11:return u=t.type,E=t.pendingProps,E=t.elementType===u?E:Jt(u,E),Dl(e,t,u,E,i);case 7:return Pt(e,t,t.pendingProps,i),t.child;case 8:return Pt(e,t,t.pendingProps.children,i),t.child;case 12:return Pt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(u=t.type._context,E=t.pendingProps,C=t.memoizedProps,U=E.value,Ze(ks,u._currentValue),u._currentValue=U,C!==null)if(Kt(C.value,U)){if(C.children===E.children&&!Ot.current){t=pn(e,t,i);break e}}else for(C=t.child,C!==null&&(C.return=t);C!==null;){var Q=C.dependencies;if(Q!==null){U=C.child;for(var q=Q.firstContext;q!==null;){if(q.context===u){if(C.tag===1){q=fn(-1,i&-i),q.tag=2;var fe=C.updateQueue;if(fe!==null){fe=fe.shared;var Se=fe.pending;Se===null?q.next=q:(q.next=Se.next,Se.next=q),fe.pending=q}}C.lanes|=i,q=C.alternate,q!==null&&(q.lanes|=i),Vi(C.return,i,t),Q.lanes|=i;break}q=q.next}}else if(C.tag===10)U=C.type===t.type?null:C.child;else if(C.tag===18){if(U=C.return,U===null)throw Error(n(341));U.lanes|=i,Q=U.alternate,Q!==null&&(Q.lanes|=i),Vi(U,i,t),U=C.sibling}else U=C.child;if(U!==null)U.return=C;else for(U=C;U!==null;){if(U===t){U=null;break}if(C=U.sibling,C!==null){C.return=U.return,U=C;break}U=U.return}C=U}Pt(e,t,E.children,i),t=t.child}return t;case 9:return E=t.type,u=t.pendingProps.children,fr(t,i),E=$t(E),u=u(E),t.flags|=1,Pt(e,t,u,i),t.child;case 14:return u=t.type,E=Jt(u,t.pendingProps),E=Jt(u.type,E),Ol(e,t,u,E,i);case 15:return Ml(e,t,t.type,t.pendingProps,i);case 17:return u=t.type,E=t.pendingProps,E=t.elementType===u?E:Jt(u,E),Bs(e,t),t.tag=1,Mt(u)?(e=!0,Ss(t)):e=!1,fr(t,i),Al(t,u,E),oa(t,u,E,i),da(null,t,u,!0,e,i);case 19:return Ul(e,t,i);case 22:return Il(e,t,i)}throw Error(n(156,t.tag))};function uc(e,t){return Ha(e,t)}function ed(e,t,i,u){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,i,u){return new ed(e,t,i,u)}function Oa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function td(e){if(typeof e=="function")return Oa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===te)return 11;if(e===pe)return 14}return 2}function Fn(e,t){var i=e.alternate;return i===null?(i=Xt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Qs(e,t,i,u,E,C){var U=2;if(u=e,typeof e=="function")Oa(e)&&(U=1);else if(typeof e=="string")U=5;else e:switch(e){case z:return Qn(i.children,E,C,t);case $:U=8,E|=8;break;case V:return e=Xt(12,i,t,E|2),e.elementType=V,e.lanes=C,e;case se:return e=Xt(13,i,t,E),e.elementType=se,e.lanes=C,e;case de:return e=Xt(19,i,t,E),e.elementType=de,e.lanes=C,e;case Y:return Js(i,E,C,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:U=10;break e;case J:U=9;break e;case te:U=11;break e;case pe:U=14;break e;case ie:U=16,u=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Xt(U,i,t,E),t.elementType=e,t.type=u,t.lanes=C,t}function Qn(e,t,i,u){return e=Xt(7,e,u,t),e.lanes=i,e}function Js(e,t,i,u){return e=Xt(22,e,u,t),e.elementType=Y,e.lanes=i,e.stateNode={isHidden:!1},e}function Ma(e,t,i){return e=Xt(6,e,null,t),e.lanes=i,e}function Ia(e,t,i){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nd(e,t,i,u,E){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ai(0),this.expirationTimes=ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.identifierPrefix=u,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function Fa(e,t,i,u,E,C,U,Q,q){return e=new nd(e,t,i,Q,q),t===1?(t=1,C===!0&&(t|=8)):t=0,C=Xt(3,null,null,t),e.current=C,C.stateNode=e,C.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xi(C),e}function rd(e,t,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:u==null?null:""+u,children:e,containerInfo:t,implementation:i}}function dc(e){if(!e)return Cn;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(Mt(i))return Bo(e,i,t)}return t}function hc(e,t,i,u,E,C,U,Q,q){return e=Fa(i,u,!0,e,E,C,U,Q,q),e.context=dc(null),i=e.current,u=Dt(),E=Mn(i),C=fn(u,E),C.callback=t??null,Rn(i,C,E),e.current.lanes=E,Sr(e,E,u),Lt(e,u),e}function Zs(e,t,i,u){var E=t.current,C=Dt(),U=Mn(E);return i=dc(i),t.context===null?t.context=i:t.pendingContext=i,t=fn(C,U),t.payload={element:e},u=u===void 0?null:u,u!==null&&(t.callback=u),e=Rn(E,t,U),e!==null&&(en(e,E,U,C),Ps(e,E,U)),U}function qs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function La(e,t){fc(e,t),(e=e.alternate)&&fc(e,t)}function sd(){return null}var pc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Na(e){this._internalRoot=e}ei.prototype.render=Na.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Zs(e,t,null,null)},ei.prototype.unmount=Na.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){Zs(null,e,null,null)}),t[ln]=null}};function ei(e){this._internalRoot=e}ei.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qa();e={blockedOn:null,target:e,priority:t};for(var i=0;i<En.length&&t!==0&&t<En[i].priority;i++);En.splice(i,0,e),i===0&&qa(e)}};function ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ti(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gc(){}function id(e,t,i,u,E){if(E){if(typeof u=="function"){var C=u;u=function(){var fe=qs(U);C.call(fe)}}var U=hc(t,u,e,0,null,!1,!1,"",gc);return e._reactRootContainer=U,e[ln]=U.current,Lr(e.nodeType===8?e.parentNode:e),Xn(),U}for(;E=e.lastChild;)e.removeChild(E);if(typeof u=="function"){var Q=u;u=function(){var fe=qs(q);Q.call(fe)}}var q=Fa(e,0,!1,null,null,!1,!1,"",gc);return e._reactRootContainer=q,e[ln]=q.current,Lr(e.nodeType===8?e.parentNode:e),Xn(function(){Zs(t,q,i,u)}),q}function ni(e,t,i,u,E){var C=i._reactRootContainer;if(C){var U=C;if(typeof E=="function"){var Q=E;E=function(){var q=qs(U);Q.call(q)}}Zs(t,U,e,E)}else U=id(i,t,e,E,u);return qs(U)}Ya=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Er(t.pendingLanes);i!==0&&(oi(t,i|1),Lt(t,ht()),(Xe&6)===0&&(yr=ht()+500,Tn()))}break;case 13:Xn(function(){var u=hn(e,1);if(u!==null){var E=Dt();en(u,e,1,E)}}),La(e,1)}},li=function(e){if(e.tag===13){var t=hn(e,134217728);if(t!==null){var i=Dt();en(t,e,134217728,i)}La(e,134217728)}},Ka=function(e){if(e.tag===13){var t=Mn(e),i=hn(e,t);if(i!==null){var u=Dt();en(i,e,t,u)}La(e,t)}},Qa=function(){return Je},Ja=function(e,t){var i=Je;try{return Je=e,t()}finally{Je=i}},at=function(e,t,i){switch(t){case"input":if(ge(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var u=i[t];if(u!==e&&u.form===e.form){var E=xs(u);if(!E)throw Error(n(90));Z(u),ge(u,E)}}}break;case"textarea":He(e,i);break;case"select":t=i.value,t!=null&&Re(e,!!i.multiple,t,!1)}},$e=Ra,we=Xn;var ad={usingClientEntryPoint:!1,Events:[_r,ir,xs,Ie,Ne,Ra]},Zr={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},od={bundleType:Zr.bundleType,version:Zr.version,rendererPackageName:Zr.rendererPackageName,rendererConfig:Zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ua(e),e===null?null:e.stateNode},findFiberByHostInstance:Zr.findFiberByHostInstance||sd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{es=ri.inject(od),nn=ri}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ad,reactDom_production_min.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ja(t))throw Error(n(200));return rd(e,t,null,i)},reactDom_production_min.createRoot=function(e,t){if(!ja(e))throw Error(n(299));var i=!1,u="",E=pc;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onRecoverableError!==void 0&&(E=t.onRecoverableError)),t=Fa(e,1,!1,null,null,i,!1,u,E),e[ln]=t.current,Lr(e.nodeType===8?e.parentNode:e),new Na(t)},reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Ua(t),e=e===null?null:e.stateNode,e},reactDom_production_min.flushSync=function(e){return Xn(e)},reactDom_production_min.hydrate=function(e,t,i){if(!ti(t))throw Error(n(200));return ni(null,e,t,!0,i)},reactDom_production_min.hydrateRoot=function(e,t,i){if(!ja(e))throw Error(n(405));var u=i!=null&&i.hydratedSources||null,E=!1,C="",U=pc;if(i!=null&&(i.unstable_strictMode===!0&&(E=!0),i.identifierPrefix!==void 0&&(C=i.identifierPrefix),i.onRecoverableError!==void 0&&(U=i.onRecoverableError)),t=hc(t,null,e,1,i??null,E,!1,C,U),e[ln]=t.current,Lr(e),u)for(e=0;e<u.length;e++)i=u[e],E=i._getVersion,E=E(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,E]:t.mutableSourceEagerHydrationData.push(i,E);return new ei(t)},reactDom_production_min.render=function(e,t,i){if(!ti(t))throw Error(n(200));return ni(null,e,t,!1,i)},reactDom_production_min.unmountComponentAtNode=function(e){if(!ti(e))throw Error(n(40));return e._reactRootContainer?(Xn(function(){ni(null,null,e,!1,function(){e._reactRootContainer=null,e[ln]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Ra,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,t,i,u){if(!ti(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return ni(e,t,i,!1,u)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var o=requireReactDom();return client.createRoot=o.createRoot,client.hydrateRoot=o.hydrateRoot,client}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports),DndContext=reactExports.createContext({dragDropManager:void 0});function formatProdErrorMessage(o){return"Minified Redux error #"+o+"; visit https://redux.js.org/Errors?code="+o+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString()};function isPlainObject(o){if(typeof o!="object"||o===null)return!1;for(var s=o;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(o)===s}function createStore$1(o,s,n){var a;if(typeof s=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof s=="function"&&typeof n>"u"&&(n=s,s=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(formatProdErrorMessage(1));return n(createStore$1)(o,s)}if(typeof o!="function")throw new Error(formatProdErrorMessage(2));var l=o,f=s,v=[],b=v,k=!1;function h(){b===v&&(b=v.slice())}function c(){if(k)throw new Error(formatProdErrorMessage(3));return f}function p(m){if(typeof m!="function")throw new Error(formatProdErrorMessage(4));if(k)throw new Error(formatProdErrorMessage(5));var S=!0;return h(),b.push(m),function(){if(S){if(k)throw new Error(formatProdErrorMessage(6));S=!1,h();var T=b.indexOf(m);b.splice(T,1),v=null}}}function g(m){if(!isPlainObject(m))throw new Error(formatProdErrorMessage(7));if(typeof m.type>"u")throw new Error(formatProdErrorMessage(8));if(k)throw new Error(formatProdErrorMessage(9));try{k=!0,f=l(f,m)}finally{k=!1}for(var S=v=b,x=0;x<S.length;x++){var T=S[x];T()}return m}function y(m){if(typeof m!="function")throw new Error(formatProdErrorMessage(10));l=m,g({type:ActionTypes.REPLACE})}function d(){var m,S=p;return m={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(formatProdErrorMessage(11));function j(){T.next&&T.next(c())}j();var L=S(j);return{unsubscribe:L}}},m[$$observable]=function(){return this},m}return g({type:ActionTypes.INIT}),a={dispatch:g,subscribe:p,getState:c,replaceReducer:y},a[$$observable]=d,a}function invariant(o,s,...n){if(isProduction()&&s===void 0)throw new Error("invariant requires an error message argument");if(!o){let a;if(s===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let l=0;a=new Error(s.replace(/%s/g,function(){return n[l++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}function isProduction(){return typeof process<"u"&&!0}function get(o,s,n){return s.split(".").reduce((a,l)=>a&&a[l]?a[l]:n||null,o)}function without$1(o,s){return o.filter(n=>n!==s)}function isObject(o){return typeof o=="object"}function xor(o,s){const n=new Map,a=f=>{n.set(f,n.has(f)?n.get(f)+1:1)};o.forEach(a),s.forEach(a);const l=[];return n.forEach((f,v)=>{f===1&&l.push(v)}),l}function intersection(o,s){return o.filter(n=>s.indexOf(n)>-1)}const INIT_COORDS="dnd-core/INIT_COORDS",BEGIN_DRAG="dnd-core/BEGIN_DRAG",PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",HOVER="dnd-core/HOVER",DROP="dnd-core/DROP",END_DRAG="dnd-core/END_DRAG";function setClientOffset(o,s){return{type:INIT_COORDS,payload:{sourceClientOffset:s||null,clientOffset:o||null}}}const ResetCoordinatesAction={type:INIT_COORDS,payload:{clientOffset:null,sourceClientOffset:null}};function createBeginDrag(o){return function(n=[],a={publishSource:!0}){const{publishSource:l=!0,clientOffset:f,getSourceClientOffset:v}=a,b=o.getMonitor(),k=o.getRegistry();o.dispatch(setClientOffset(f)),verifyInvariants$1(n,b,k);const h=getDraggableSource(n,b);if(h==null){o.dispatch(ResetCoordinatesAction);return}let c=null;if(f){if(!v)throw new Error("getSourceClientOffset must be defined");verifyGetSourceClientOffsetIsFunction(v),c=v(h)}o.dispatch(setClientOffset(f,c));const g=k.getSource(h).beginDrag(b,h);if(g==null)return;verifyItemIsObject(g),k.pinSource(h);const y=k.getSourceType(h);return{type:BEGIN_DRAG,payload:{itemType:y,item:g,sourceId:h,clientOffset:f||null,sourceClientOffset:c||null,isSourcePublic:!!l}}}}function verifyInvariants$1(o,s,n){invariant(!s.isDragging(),"Cannot call beginDrag while dragging."),o.forEach(function(a){invariant(n.getSource(a),"Expected sourceIds to be registered.")})}function verifyGetSourceClientOffsetIsFunction(o){invariant(typeof o=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function verifyItemIsObject(o){invariant(isObject(o),"Item must be an object.")}function getDraggableSource(o,s){let n=null;for(let a=o.length-1;a>=0;a--)if(s.canDragSource(o[a])){n=o[a];break}return n}function _defineProperty$4(o,s,n){return s in o?Object.defineProperty(o,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[s]=n,o}function _objectSpread$4(o){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),a.forEach(function(l){_defineProperty$4(o,l,n[l])})}return o}function createDrop(o){return function(n={}){const a=o.getMonitor(),l=o.getRegistry();verifyInvariants(a),getDroppableTargets(a).forEach((v,b)=>{const k=determineDropResult(v,b,l,a),h={type:DROP,payload:{dropResult:_objectSpread$4({},n,k)}};o.dispatch(h)})}}function verifyInvariants(o){invariant(o.isDragging(),"Cannot call drop while not dragging."),invariant(!o.didDrop(),"Cannot call drop twice during one drag operation.")}function determineDropResult(o,s,n,a){const l=n.getTarget(o);let f=l?l.drop(a,o):void 0;return verifyDropResultType(f),typeof f>"u"&&(f=s===0?{}:a.getDropResult()),f}function verifyDropResultType(o){invariant(typeof o>"u"||isObject(o),"Drop result must either be an object or undefined.")}function getDroppableTargets(o){const s=o.getTargetIds().filter(o.canDropOnTarget,o);return s.reverse(),s}function createEndDrag(o){return function(){const n=o.getMonitor(),a=o.getRegistry();verifyIsDragging(n);const l=n.getSourceId();return l!=null&&(a.getSource(l,!0).endDrag(n,l),a.unpinSource()),{type:END_DRAG}}}function verifyIsDragging(o){invariant(o.isDragging(),"Cannot call endDrag while not dragging.")}function matchesType(o,s){return s===null?o===null:Array.isArray(o)?o.some(n=>n===s):o===s}function createHover(o){return function(n,{clientOffset:a}={}){verifyTargetIdsIsArray(n);const l=n.slice(0),f=o.getMonitor(),v=o.getRegistry(),b=f.getItemType();return removeNonMatchingTargetIds(l,v,b),checkInvariants(l,f,v),hoverAllTargets(l,f,v),{type:HOVER,payload:{targetIds:l,clientOffset:a||null}}}}function verifyTargetIdsIsArray(o){invariant(Array.isArray(o),"Expected targetIds to be an array.")}function checkInvariants(o,s,n){invariant(s.isDragging(),"Cannot call hover while not dragging."),invariant(!s.didDrop(),"Cannot call hover after drop.");for(let a=0;a<o.length;a++){const l=o[a];invariant(o.lastIndexOf(l)===a,"Expected targetIds to be unique in the passed array.");const f=n.getTarget(l);invariant(f,"Expected targetIds to be registered.")}}function removeNonMatchingTargetIds(o,s,n){for(let a=o.length-1;a>=0;a--){const l=o[a],f=s.getTargetType(l);matchesType(f,n)||o.splice(a,1)}}function hoverAllTargets(o,s,n){o.forEach(function(a){n.getTarget(a).hover(s,a)})}function createPublishDragSource(o){return function(){if(o.getMonitor().isDragging())return{type:PUBLISH_DRAG_SOURCE}}}function createDragDropActions(o){return{beginDrag:createBeginDrag(o),publishDragSource:createPublishDragSource(o),hover:createHover(o),drop:createDrop(o),endDrag:createEndDrag(o)}}class DragDropManagerImpl{receiveBackend(s){this.backend=s}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const s=this,{dispatch:n}=this.store;function a(f){return(...v)=>{const b=f.apply(s,v);typeof b<"u"&&n(b)}}const l=createDragDropActions(this);return Object.keys(l).reduce((f,v)=>{const b=l[v];return f[v]=a(b),f},{})}dispatch(s){this.store.dispatch(s)}constructor(s,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const a=this.store.getState().refCount>0;this.backend&&(a&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!a&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=s,this.monitor=n,s.subscribe(this.handleRefCountChange)}}function add(o,s){return{x:o.x+s.x,y:o.y+s.y}}function subtract(o,s){return{x:o.x-s.x,y:o.y-s.y}}function getSourceClientOffset(o){const{clientOffset:s,initialClientOffset:n,initialSourceClientOffset:a}=o;return!s||!n||!a?null:subtract(add(s,a),n)}function getDifferenceFromInitialOffset(o){const{clientOffset:s,initialClientOffset:n}=o;return!s||!n?null:subtract(s,n)}const NONE=[],ALL=[];NONE.__IS_NONE__=!0;ALL.__IS_ALL__=!0;function areDirty(o,s){return o===NONE?!1:o===ALL||typeof s>"u"?!0:intersection(s,o).length>0}class DragDropMonitorImpl{subscribeToStateChange(s,n={}){const{handlerIds:a}=n;invariant(typeof s=="function","listener must be a function."),invariant(typeof a>"u"||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");let l=this.store.getState().stateId;const f=()=>{const v=this.store.getState(),b=v.stateId;try{b===l||b===l+1&&!areDirty(v.dirtyHandlerIds,a)||s()}finally{l=b}};return this.store.subscribe(f)}subscribeToOffsetChange(s){invariant(typeof s=="function","listener must be a function.");let n=this.store.getState().dragOffset;const a=()=>{const l=this.store.getState().dragOffset;l!==n&&(n=l,s())};return this.store.subscribe(a)}canDragSource(s){if(!s)return!1;const n=this.registry.getSource(s);return invariant(n,`Expected to find a valid source. sourceId=${s}`),this.isDragging()?!1:n.canDrag(this,s)}canDropOnTarget(s){if(!s)return!1;const n=this.registry.getTarget(s);if(invariant(n,`Expected to find a valid target. targetId=${s}`),!this.isDragging()||this.didDrop())return!1;const a=this.registry.getTargetType(s),l=this.getItemType();return matchesType(a,l)&&n.canDrop(this,s)}isDragging(){return!!this.getItemType()}isDraggingSource(s){if(!s)return!1;const n=this.registry.getSource(s,!0);if(invariant(n,`Expected to find a valid source. sourceId=${s}`),!this.isDragging()||!this.isSourcePublic())return!1;const a=this.registry.getSourceType(s),l=this.getItemType();return a!==l?!1:n.isDragging(this,s)}isOverTarget(s,n={shallow:!1}){if(!s)return!1;const{shallow:a}=n;if(!this.isDragging())return!1;const l=this.registry.getTargetType(s),f=this.getItemType();if(f&&!matchesType(l,f))return!1;const v=this.getTargetIds();if(!v.length)return!1;const b=v.indexOf(s);return a?b===v.length-1:b>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return getSourceClientOffset(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return getDifferenceFromInitialOffset(this.store.getState().dragOffset)}constructor(s,n){this.store=s,this.registry=n}}const scope=typeof global<"u"?global:self,BrowserMutationObserver=scope.MutationObserver||scope.WebKitMutationObserver;function makeRequestCallFromTimer(o){return function(){const n=setTimeout(l,0),a=setInterval(l,50);function l(){clearTimeout(n),clearInterval(a),o()}}}function makeRequestCallFromMutationObserver(o){let s=1;const n=new BrowserMutationObserver(o),a=document.createTextNode("");return n.observe(a,{characterData:!0}),function(){s=-s,a.data=s}}const makeRequestCall=typeof BrowserMutationObserver=="function"?makeRequestCallFromMutationObserver:makeRequestCallFromTimer;class AsapQueue{enqueueTask(s){const{queue:n,requestFlush:a}=this;n.length||(a(),this.flushing=!0),n[n.length]=s}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:s}=this;for(;this.index<s.length;){const n=this.index;if(this.index++,s[n].call(),this.index>this.capacity){for(let a=0,l=s.length-this.index;a<l;a++)s[a]=s[a+this.index];s.length-=this.index,this.index=0}}s.length=0,this.index=0,this.flushing=!1},this.registerPendingError=s=>{this.pendingErrors.push(s),this.requestErrorThrow()},this.requestFlush=makeRequestCall(this.flush),this.requestErrorThrow=makeRequestCallFromTimer(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class RawTask{call(){try{this.task&&this.task()}catch(s){this.onError(s)}finally{this.task=null,this.release(this)}}constructor(s,n){this.onError=s,this.release=n,this.task=null}}class TaskFactory{create(s){const n=this.freeTasks,a=n.length?n.pop():new RawTask(this.onError,l=>n[n.length]=l);return a.task=s,a}constructor(s){this.onError=s,this.freeTasks=[]}}const asapQueue=new AsapQueue,taskFactory=new TaskFactory(asapQueue.registerPendingError);function asap(o){asapQueue.enqueueTask(taskFactory.create(o))}const ADD_SOURCE="dnd-core/ADD_SOURCE",ADD_TARGET="dnd-core/ADD_TARGET",REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",REMOVE_TARGET="dnd-core/REMOVE_TARGET";function addSource(o){return{type:ADD_SOURCE,payload:{sourceId:o}}}function addTarget(o){return{type:ADD_TARGET,payload:{targetId:o}}}function removeSource(o){return{type:REMOVE_SOURCE,payload:{sourceId:o}}}function removeTarget(o){return{type:REMOVE_TARGET,payload:{targetId:o}}}function validateSourceContract(o){invariant(typeof o.canDrag=="function","Expected canDrag to be a function."),invariant(typeof o.beginDrag=="function","Expected beginDrag to be a function."),invariant(typeof o.endDrag=="function","Expected endDrag to be a function.")}function validateTargetContract(o){invariant(typeof o.canDrop=="function","Expected canDrop to be a function."),invariant(typeof o.hover=="function","Expected hover to be a function."),invariant(typeof o.drop=="function","Expected beginDrag to be a function.")}function validateType(o,s){if(s&&Array.isArray(o)){o.forEach(n=>validateType(n,!1));return}invariant(typeof o=="string"||typeof o=="symbol",s?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var HandlerRole;(function(o){o.SOURCE="SOURCE",o.TARGET="TARGET"})(HandlerRole||(HandlerRole={}));let nextUniqueId=0;function getNextUniqueId(){return nextUniqueId++}function getNextHandlerId(o){const s=getNextUniqueId().toString();switch(o){case HandlerRole.SOURCE:return`S${s}`;case HandlerRole.TARGET:return`T${s}`;default:throw new Error(`Unknown Handler Role: ${o}`)}}function parseRoleFromHandlerId(o){switch(o[0]){case"S":return HandlerRole.SOURCE;case"T":return HandlerRole.TARGET;default:throw new Error(`Cannot parse handler ID: ${o}`)}}function mapContainsValue(o,s){const n=o.entries();let a=!1;do{const{done:l,value:[,f]}=n.next();if(f===s)return!0;a=!!l}while(!a);return!1}class HandlerRegistryImpl{addSource(s,n){validateType(s),validateSourceContract(n);const a=this.addHandler(HandlerRole.SOURCE,s,n);return this.store.dispatch(addSource(a)),a}addTarget(s,n){validateType(s,!0),validateTargetContract(n);const a=this.addHandler(HandlerRole.TARGET,s,n);return this.store.dispatch(addTarget(a)),a}containsHandler(s){return mapContainsValue(this.dragSources,s)||mapContainsValue(this.dropTargets,s)}getSource(s,n=!1){return invariant(this.isSourceId(s),"Expected a valid source ID."),n&&s===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(s)}getTarget(s){return invariant(this.isTargetId(s),"Expected a valid target ID."),this.dropTargets.get(s)}getSourceType(s){return invariant(this.isSourceId(s),"Expected a valid source ID."),this.types.get(s)}getTargetType(s){return invariant(this.isTargetId(s),"Expected a valid target ID."),this.types.get(s)}isSourceId(s){return parseRoleFromHandlerId(s)===HandlerRole.SOURCE}isTargetId(s){return parseRoleFromHandlerId(s)===HandlerRole.TARGET}removeSource(s){invariant(this.getSource(s),"Expected an existing source."),this.store.dispatch(removeSource(s)),asap(()=>{this.dragSources.delete(s),this.types.delete(s)})}removeTarget(s){invariant(this.getTarget(s),"Expected an existing target."),this.store.dispatch(removeTarget(s)),this.dropTargets.delete(s),this.types.delete(s)}pinSource(s){const n=this.getSource(s);invariant(n,"Expected an existing source."),this.pinnedSourceId=s,this.pinnedSource=n}unpinSource(){invariant(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(s,n,a){const l=getNextHandlerId(s);return this.types.set(l,n),s===HandlerRole.SOURCE?this.dragSources.set(l,a):s===HandlerRole.TARGET&&this.dropTargets.set(l,a),l}constructor(s){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=s}}const strictEquality=(o,s)=>o===s;function areCoordsEqual(o,s){return!o&&!s?!0:!o||!s?!1:o.x===s.x&&o.y===s.y}function areArraysEqual(o,s,n=strictEquality){if(o.length!==s.length)return!1;for(let a=0;a<o.length;++a)if(!n(o[a],s[a]))return!1;return!0}function reduce$5(o=NONE,s){switch(s.type){case HOVER:break;case ADD_SOURCE:case ADD_TARGET:case REMOVE_TARGET:case REMOVE_SOURCE:return NONE;case BEGIN_DRAG:case PUBLISH_DRAG_SOURCE:case END_DRAG:case DROP:default:return ALL}const{targetIds:n=[],prevTargetIds:a=[]}=s.payload,l=xor(n,a);if(!(l.length>0||!areArraysEqual(n,a)))return NONE;const v=a[a.length-1],b=n[n.length-1];return v!==b&&(v&&l.push(v),b&&l.push(b)),l}function _defineProperty$3(o,s,n){return s in o?Object.defineProperty(o,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[s]=n,o}function _objectSpread$3(o){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),a.forEach(function(l){_defineProperty$3(o,l,n[l])})}return o}const initialState$2={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function reduce$4(o=initialState$2,s){const{payload:n}=s;switch(s.type){case INIT_COORDS:case BEGIN_DRAG:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case HOVER:return areCoordsEqual(o.clientOffset,n.clientOffset)?o:_objectSpread$3({},o,{clientOffset:n.clientOffset});case END_DRAG:case DROP:return initialState$2;default:return o}}function _defineProperty$2(o,s,n){return s in o?Object.defineProperty(o,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[s]=n,o}function _objectSpread$2(o){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),a.forEach(function(l){_defineProperty$2(o,l,n[l])})}return o}const initialState$1={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function reduce$3(o=initialState$1,s){const{payload:n}=s;switch(s.type){case BEGIN_DRAG:return _objectSpread$2({},o,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case PUBLISH_DRAG_SOURCE:return _objectSpread$2({},o,{isSourcePublic:!0});case HOVER:return _objectSpread$2({},o,{targetIds:n.targetIds});case REMOVE_TARGET:return o.targetIds.indexOf(n.targetId)===-1?o:_objectSpread$2({},o,{targetIds:without$1(o.targetIds,n.targetId)});case DROP:return _objectSpread$2({},o,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case END_DRAG:return _objectSpread$2({},o,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return o}}function reduce$2(o=0,s){switch(s.type){case ADD_SOURCE:case ADD_TARGET:return o+1;case REMOVE_SOURCE:case REMOVE_TARGET:return o-1;default:return o}}function reduce$1(o=0){return o+1}function _defineProperty$1(o,s,n){return s in o?Object.defineProperty(o,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[s]=n,o}function _objectSpread$1(o){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),a.forEach(function(l){_defineProperty$1(o,l,n[l])})}return o}function reduce(o={},s){return{dirtyHandlerIds:reduce$5(o.dirtyHandlerIds,{type:s.type,payload:_objectSpread$1({},s.payload,{prevTargetIds:get(o,"dragOperation.targetIds",[])})}),dragOffset:reduce$4(o.dragOffset,s),refCount:reduce$2(o.refCount,s),dragOperation:reduce$3(o.dragOperation,s),stateId:reduce$1(o.stateId)}}function createDragDropManager(o,s=void 0,n={},a=!1){const l=makeStoreInstance(a),f=new DragDropMonitorImpl(l,new HandlerRegistryImpl(l)),v=new DragDropManagerImpl(l,f),b=o(v,s,n);return v.receiveBackend(b),v}function makeStoreInstance(o){const s=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return createStore$1(reduce,o&&s&&s({name:"dnd-core",instanceId:"dnd-core"}))}function _objectWithoutProperties(o,s){if(o==null)return{};var n=_objectWithoutPropertiesLoose(o,s),a,l;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(o);for(l=0;l<f.length;l++)a=f[l],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(n[a]=o[a])}return n}function _objectWithoutPropertiesLoose(o,s){if(o==null)return{};var n={},a=Object.keys(o),l,f;for(f=0;f<a.length;f++)l=a[f],!(s.indexOf(l)>=0)&&(n[l]=o[l]);return n}let refCount=0;const INSTANCE_SYM=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var DndProvider=reactExports.memo(function(s){var{children:n}=s,a=_objectWithoutProperties(s,["children"]);const[l,f]=getDndContextValue(a);return reactExports.useEffect(()=>{if(f){const v=getGlobalContext();return++refCount,()=>{--refCount===0&&(v[INSTANCE_SYM]=null)}}},[]),jsxRuntimeExports.jsx(DndContext.Provider,{value:l,children:n})});function getDndContextValue(o){if("manager"in o)return[{dragDropManager:o.manager},!1];const s=createSingletonDndContext(o.backend,o.context,o.options,o.debugMode),n=!o.context;return[s,n]}function createSingletonDndContext(o,s=getGlobalContext(),n,a){const l=s;return l[INSTANCE_SYM]||(l[INSTANCE_SYM]={dragDropManager:createDragDropManager(o,s,n,a)}),l[INSTANCE_SYM]}function getGlobalContext(){return typeof global<"u"?global:window}var fastDeepEqual,hasRequiredFastDeepEqual;function requireFastDeepEqual(){return hasRequiredFastDeepEqual||(hasRequiredFastDeepEqual=1,fastDeepEqual=function o(s,n){if(s===n)return!0;if(s&&n&&typeof s=="object"&&typeof n=="object"){if(s.constructor!==n.constructor)return!1;var a,l,f;if(Array.isArray(s)){if(a=s.length,a!=n.length)return!1;for(l=a;l--!==0;)if(!o(s[l],n[l]))return!1;return!0}if(s.constructor===RegExp)return s.source===n.source&&s.flags===n.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===n.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===n.toString();if(f=Object.keys(s),a=f.length,a!==Object.keys(n).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[l]))return!1;for(l=a;l--!==0;){var v=f[l];if(!o(s[v],n[v]))return!1}return!0}return s!==s&&n!==n}),fastDeepEqual}var fastDeepEqualExports=requireFastDeepEqual();const equal=getDefaultExportFromCjs(fastDeepEqualExports),useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useCollector(o,s,n){const[a,l]=reactExports.useState(()=>s(o)),f=reactExports.useCallback(()=>{const v=s(o);equal(a,v)||(l(v),n&&n())},[a,o,n]);return useIsomorphicLayoutEffect(f),[a,f]}function useMonitorOutput(o,s,n){const[a,l]=useCollector(o,s,n);return useIsomorphicLayoutEffect(function(){const v=o.getHandlerId();if(v!=null)return o.subscribeToStateChange(l,{handlerIds:[v]})},[o,l]),a}function useCollectedProps(o,s,n){return useMonitorOutput(s,o||(()=>({})),()=>n.reconnect())}function useOptionalFactory(o,s){const n=[];return typeof o!="function"&&n.push(o),reactExports.useMemo(()=>typeof o=="function"?o():o,n)}function useConnectDragSource(o){return reactExports.useMemo(()=>o.hooks.dragSource(),[o])}function useConnectDragPreview(o){return reactExports.useMemo(()=>o.hooks.dragPreview(),[o])}let isCallingCanDrag=!1,isCallingIsDragging=!1;class DragSourceMonitorImpl{receiveHandlerId(s){this.sourceId=s}getHandlerId(){return this.sourceId}canDrag(){invariant(!isCallingCanDrag,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return isCallingCanDrag=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{isCallingCanDrag=!1}}isDragging(){if(!this.sourceId)return!1;invariant(!isCallingIsDragging,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return isCallingIsDragging=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{isCallingIsDragging=!1}}subscribeToStateChange(s,n){return this.internalMonitor.subscribeToStateChange(s,n)}isDraggingSource(s){return this.internalMonitor.isDraggingSource(s)}isOverTarget(s,n){return this.internalMonitor.isOverTarget(s,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(s){return this.internalMonitor.subscribeToOffsetChange(s)}canDragSource(s){return this.internalMonitor.canDragSource(s)}canDropOnTarget(s){return this.internalMonitor.canDropOnTarget(s)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(s){this.sourceId=null,this.internalMonitor=s.getMonitor()}}let isCallingCanDrop=!1;class DropTargetMonitorImpl{receiveHandlerId(s){this.targetId=s}getHandlerId(){return this.targetId}subscribeToStateChange(s,n){return this.internalMonitor.subscribeToStateChange(s,n)}canDrop(){if(!this.targetId)return!1;invariant(!isCallingCanDrop,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return isCallingCanDrop=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{isCallingCanDrop=!1}}isOver(s){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,s):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(s){this.targetId=null,this.internalMonitor=s.getMonitor()}}function registerTarget(o,s,n){const a=n.getRegistry(),l=a.addTarget(o,s);return[l,()=>a.removeTarget(l)]}function registerSource(o,s,n){const a=n.getRegistry(),l=a.addSource(o,s);return[l,()=>a.removeSource(l)]}function shallowEqual(o,s,n,a){let l;if(l!==void 0)return!!l;if(o===s)return!0;if(typeof o!="object"||!o||typeof s!="object"||!s)return!1;const f=Object.keys(o),v=Object.keys(s);if(f.length!==v.length)return!1;const b=Object.prototype.hasOwnProperty.bind(s);for(let k=0;k<f.length;k++){const h=f[k];if(!b(h))return!1;const c=o[h],p=s[h];if(l=void 0,l===!1||l===void 0&&c!==p)return!1}return!0}function isRef(o){return o!==null&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}function throwIfCompositeComponentElement(o){if(typeof o.type=="string")return;const s=o.type.displayName||o.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${s} into a <div>, or turn it into a drag source or a drop target itself.`)}function wrapHookToRecognizeElement(o){return(s=null,n=null)=>{if(!reactExports.isValidElement(s)){const f=s;return o(f,n),f}const a=s;return throwIfCompositeComponentElement(a),cloneWithRef(a,n?f=>o(f,n):o)}}function wrapConnectorHooks(o){const s={};return Object.keys(o).forEach(n=>{const a=o[n];if(n.endsWith("Ref"))s[n]=o[n];else{const l=wrapHookToRecognizeElement(a);s[n]=()=>l}}),s}function setRef(o,s){typeof o=="function"?o(s):o.current=s}function cloneWithRef(o,s){const n=o.ref;return invariant(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?reactExports.cloneElement(o,{ref:a=>{setRef(n,a),setRef(s,a)}}):reactExports.cloneElement(o,{ref:s})}class SourceConnector{receiveHandlerId(s){this.handlerId!==s&&(this.handlerId=s,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(s){this.dragSourceOptionsInternal=s}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(s){this.dragPreviewOptionsInternal=s}reconnect(){const s=this.reconnectDragSource();this.reconnectDragPreview(s)}reconnectDragSource(){const s=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?s?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=s,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,s,this.dragSourceOptions)),n):(this.lastConnectedDragSource=s,n):n}reconnectDragPreview(s=!1){const n=this.dragPreview,a=s||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(a&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}a&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!shallowEqual(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!shallowEqual(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(s){this.hooks=wrapConnectorHooks({dragSource:(n,a)=>{this.clearDragSource(),this.dragSourceOptions=a||null,isRef(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,a)=>{this.clearDragPreview(),this.dragPreviewOptions=a||null,isRef(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=s}}class TargetConnector{get connectTarget(){return this.dropTarget}reconnect(){const s=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();s&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}s&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(s){s!==this.handlerId&&(this.handlerId=s,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(s){this.dropTargetOptionsInternal=s}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!shallowEqual(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(s){this.hooks=wrapConnectorHooks({dropTarget:(n,a)=>{this.clearDropTarget(),this.dropTargetOptions=a,isRef(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=s}}function useDragDropManager(){const{dragDropManager:o}=reactExports.useContext(DndContext);return invariant(o!=null,"Expected drag drop context"),o}function useDragSourceConnector(o,s){const n=useDragDropManager(),a=reactExports.useMemo(()=>new SourceConnector(n.getBackend()),[n]);return useIsomorphicLayoutEffect(()=>(a.dragSourceOptions=o||null,a.reconnect(),()=>a.disconnectDragSource()),[a,o]),useIsomorphicLayoutEffect(()=>(a.dragPreviewOptions=s||null,a.reconnect(),()=>a.disconnectDragPreview()),[a,s]),a}function useDragSourceMonitor(){const o=useDragDropManager();return reactExports.useMemo(()=>new DragSourceMonitorImpl(o),[o])}class DragSourceImpl{beginDrag(){const s=this.spec,n=this.monitor;let a=null;return typeof s.item=="object"?a=s.item:typeof s.item=="function"?a=s.item(n):a={},a??null}canDrag(){const s=this.spec,n=this.monitor;return typeof s.canDrag=="boolean"?s.canDrag:typeof s.canDrag=="function"?s.canDrag(n):!0}isDragging(s,n){const a=this.spec,l=this.monitor,{isDragging:f}=a;return f?f(l):n===s.getSourceId()}endDrag(){const s=this.spec,n=this.monitor,a=this.connector,{end:l}=s;l&&l(n.getItem(),n),a.reconnect()}constructor(s,n,a){this.spec=s,this.monitor=n,this.connector=a}}function useDragSource(o,s,n){const a=reactExports.useMemo(()=>new DragSourceImpl(o,s,n),[s,n]);return reactExports.useEffect(()=>{a.spec=o},[o]),a}function useDragType(o){return reactExports.useMemo(()=>{const s=o.type;return invariant(s!=null,"spec.type must be defined"),s},[o])}function useRegisteredDragSource(o,s,n){const a=useDragDropManager(),l=useDragSource(o,s,n),f=useDragType(o);useIsomorphicLayoutEffect(function(){if(f!=null){const[b,k]=registerSource(f,l,a);return s.receiveHandlerId(b),n.receiveHandlerId(b),k}},[a,s,n,l,f])}function useDrag(o,s){const n=useOptionalFactory(o);invariant(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const a=useDragSourceMonitor(),l=useDragSourceConnector(n.options,n.previewOptions);return useRegisteredDragSource(n,a,l),[useCollectedProps(n.collect,a,l),useConnectDragSource(l),useConnectDragPreview(l)]}function useConnectDropTarget(o){return reactExports.useMemo(()=>o.hooks.dropTarget(),[o])}function useDropTargetConnector(o){const s=useDragDropManager(),n=reactExports.useMemo(()=>new TargetConnector(s.getBackend()),[s]);return useIsomorphicLayoutEffect(()=>(n.dropTargetOptions=o||null,n.reconnect(),()=>n.disconnectDropTarget()),[o]),n}function useDropTargetMonitor(){const o=useDragDropManager();return reactExports.useMemo(()=>new DropTargetMonitorImpl(o),[o])}function useAccept(o){const{accept:s}=o;return reactExports.useMemo(()=>(invariant(o.accept!=null,"accept must be defined"),Array.isArray(s)?s:[s]),[s])}class DropTargetImpl{canDrop(){const s=this.spec,n=this.monitor;return s.canDrop?s.canDrop(n.getItem(),n):!0}hover(){const s=this.spec,n=this.monitor;s.hover&&s.hover(n.getItem(),n)}drop(){const s=this.spec,n=this.monitor;if(s.drop)return s.drop(n.getItem(),n)}constructor(s,n){this.spec=s,this.monitor=n}}function useDropTarget(o,s){const n=reactExports.useMemo(()=>new DropTargetImpl(o,s),[s]);return reactExports.useEffect(()=>{n.spec=o},[o]),n}function useRegisteredDropTarget(o,s,n){const a=useDragDropManager(),l=useDropTarget(o,s),f=useAccept(o);useIsomorphicLayoutEffect(function(){const[b,k]=registerTarget(f,l,a);return s.receiveHandlerId(b),n.receiveHandlerId(b),k},[a,s,l,n,f.map(v=>v.toString()).join("|")])}function useDrop(o,s){const n=useOptionalFactory(o),a=useDropTargetMonitor(),l=useDropTargetConnector(n.options);return useRegisteredDropTarget(n,a,l),[useCollectedProps(n.collect,a,l),useConnectDropTarget(l)]}function memoize(o){let s=null;return()=>(s==null&&(s=o()),s)}function without(o,s){return o.filter(n=>n!==s)}function union(o,s){const n=new Set,a=f=>n.add(f);o.forEach(a),s.forEach(a);const l=[];return n.forEach(f=>l.push(f)),l}class EnterLeaveCounter{enter(s){const n=this.entered.length,a=l=>this.isNodeInDocument(l)&&(!l.contains||l.contains(s));return this.entered=union(this.entered.filter(a),[s]),n===0&&this.entered.length>0}leave(s){const n=this.entered.length;return this.entered=without(this.entered.filter(this.isNodeInDocument),s),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(s){this.entered=[],this.isNodeInDocument=s}}class NativeDragSource{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(s=>{Object.defineProperty(this.item,s,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${s}" until the drop event.`),null}})})}loadDataTransfer(s){if(s){const n={};Object.keys(this.config.exposeProperties).forEach(a=>{const l=this.config.exposeProperties[a];l!=null&&(n[a]={value:l(s,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(s,n){return n===s.getSourceId()}endDrag(){}constructor(s){this.config=s,this.item={},this.initializeExposedProperties()}}const FILE="__NATIVE_FILE__",URL$1="__NATIVE_URL__",TEXT="__NATIVE_TEXT__",HTML="__NATIVE_HTML__",NativeTypes=Object.freeze(Object.defineProperty({__proto__:null,FILE,HTML,TEXT,URL:URL$1},Symbol.toStringTag,{value:"Module"}));function getDataFromDataTransfer(o,s,n){const a=s.reduce((l,f)=>l||o.getData(f),"");return a??n}const nativeTypesConfig={[FILE]:{exposeProperties:{files:o=>Array.prototype.slice.call(o.files),items:o=>o.items,dataTransfer:o=>o},matchesTypes:["Files"]},[HTML]:{exposeProperties:{html:(o,s)=>getDataFromDataTransfer(o,s,""),dataTransfer:o=>o},matchesTypes:["Html","text/html"]},[URL$1]:{exposeProperties:{urls:(o,s)=>getDataFromDataTransfer(o,s,"").split(`
`),dataTransfer:o=>o},matchesTypes:["Url","text/uri-list"]},[TEXT]:{exposeProperties:{text:(o,s)=>getDataFromDataTransfer(o,s,""),dataTransfer:o=>o},matchesTypes:["Text","text/plain"]}};function createNativeDragSource(o,s){const n=nativeTypesConfig[o];if(!n)throw new Error(`native type ${o} has no configuration`);const a=new NativeDragSource(n);return a.loadDataTransfer(s),a}function matchNativeItemType(o){if(!o)return null;const s=Array.prototype.slice.call(o.types||[]);return Object.keys(nativeTypesConfig).filter(n=>{const a=nativeTypesConfig[n];return a?.matchesTypes?a.matchesTypes.some(l=>s.indexOf(l)>-1):!1})[0]||null}const isFirefox=memoize(()=>/firefox/i.test(navigator.userAgent)),isSafari=memoize(()=>!!window.safari);class MonotonicInterpolant{interpolate(s){const{xs:n,ys:a,c1s:l,c2s:f,c3s:v}=this;let b=n.length-1;if(s===n[b])return a[b];let k=0,h=v.length-1,c;for(;k<=h;){c=Math.floor(.5*(k+h));const y=n[c];if(y<s)k=c+1;else if(y>s)h=c-1;else return a[c]}b=Math.max(0,h);const p=s-n[b],g=p*p;return a[b]+l[b]*p+f[b]*g+v[b]*p*g}constructor(s,n){const{length:a}=s,l=[];for(let y=0;y<a;y++)l.push(y);l.sort((y,d)=>s[y]<s[d]?-1:1);const f=[],v=[];let b,k;for(let y=0;y<a-1;y++)b=s[y+1]-s[y],k=n[y+1]-n[y],f.push(b),v.push(k/b);const h=[v[0]];for(let y=0;y<f.length-1;y++){const d=v[y],m=v[y+1];if(d*m<=0)h.push(0);else{b=f[y];const S=f[y+1],x=b+S;h.push(3*x/((x+S)/d+(x+b)/m))}}h.push(v[v.length-1]);const c=[],p=[];let g;for(let y=0;y<h.length-1;y++){g=v[y];const d=h[y],m=1/f[y],S=d+h[y+1]-g-g;c.push((g-d-S)*m),p.push(S*m*m)}this.xs=s,this.ys=n,this.c1s=h,this.c2s=c,this.c3s=p}}const ELEMENT_NODE=1;function getNodeClientOffset(o){const s=o.nodeType===ELEMENT_NODE?o:o.parentElement;if(!s)return null;const{top:n,left:a}=s.getBoundingClientRect();return{x:a,y:n}}function getEventClientOffset(o){return{x:o.clientX,y:o.clientY}}function isImageNode(o){var s;return o.nodeName==="IMG"&&(isFirefox()||!(!((s=document.documentElement)===null||s===void 0)&&s.contains(o)))}function getDragPreviewSize(o,s,n,a){let l=o?s.width:n,f=o?s.height:a;return isSafari()&&o&&(f/=window.devicePixelRatio,l/=window.devicePixelRatio),{dragPreviewWidth:l,dragPreviewHeight:f}}function getDragPreviewOffset(o,s,n,a,l){const f=isImageNode(s),b=getNodeClientOffset(f?o:s),k={x:n.x-b.x,y:n.y-b.y},{offsetWidth:h,offsetHeight:c}=o,{anchorX:p,anchorY:g}=a,{dragPreviewWidth:y,dragPreviewHeight:d}=getDragPreviewSize(f,s,h,c),m=()=>{let M=new MonotonicInterpolant([0,.5,1],[k.y,k.y/c*d,k.y+d-c]).interpolate(g);return isSafari()&&f&&(M+=(window.devicePixelRatio-1)*d),M},S=()=>new MonotonicInterpolant([0,.5,1],[k.x,k.x/h*y,k.x+y-h]).interpolate(p),{offsetX:x,offsetY:T}=l,j=x===0||x,L=T===0||T;return{x:j?x:S(),y:L?T:m()}}class OptionsReader{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var s;return!((s=this.globalContext)===null||s===void 0)&&s.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var s;return((s=this.optionsArgs)===null||s===void 0?void 0:s.rootElement)||this.window}constructor(s,n){this.ownerDocument=null,this.globalContext=s,this.optionsArgs=n}}function _defineProperty(o,s,n){return s in o?Object.defineProperty(o,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[s]=n,o}function _objectSpread(o){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),a.forEach(function(l){_defineProperty(o,l,n[l])})}return o}class HTML5BackendImpl{profile(){var s,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((s=this.dragStartSourceIds)===null||s===void 0?void 0:s.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const s=this.rootElement;if(s!==void 0){if(s.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");s.__isReactDndBackendSetUp=!0,this.addEventListeners(s)}}teardown(){const s=this.rootElement;if(s!==void 0&&(s.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(s,n,a){return this.sourcePreviewNodeOptions.set(s,a),this.sourcePreviewNodes.set(s,n),()=>{this.sourcePreviewNodes.delete(s),this.sourcePreviewNodeOptions.delete(s)}}connectDragSource(s,n,a){this.sourceNodes.set(s,n),this.sourceNodeOptions.set(s,a);const l=v=>this.handleDragStart(v,s),f=v=>this.handleSelectStart(v);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",l),n.addEventListener("selectstart",f),()=>{this.sourceNodes.delete(s),this.sourceNodeOptions.delete(s),n.removeEventListener("dragstart",l),n.removeEventListener("selectstart",f),n.setAttribute("draggable","false")}}connectDropTarget(s,n){const a=v=>this.handleDragEnter(v,s),l=v=>this.handleDragOver(v,s),f=v=>this.handleDrop(v,s);return n.addEventListener("dragenter",a),n.addEventListener("dragover",l),n.addEventListener("drop",f),()=>{n.removeEventListener("dragenter",a),n.removeEventListener("dragover",l),n.removeEventListener("drop",f)}}addEventListeners(s){s.addEventListener&&(s.addEventListener("dragstart",this.handleTopDragStart),s.addEventListener("dragstart",this.handleTopDragStartCapture,!0),s.addEventListener("dragend",this.handleTopDragEndCapture,!0),s.addEventListener("dragenter",this.handleTopDragEnter),s.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),s.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),s.addEventListener("dragover",this.handleTopDragOver),s.addEventListener("dragover",this.handleTopDragOverCapture,!0),s.addEventListener("drop",this.handleTopDrop),s.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(s){s.removeEventListener&&(s.removeEventListener("dragstart",this.handleTopDragStart),s.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),s.removeEventListener("dragend",this.handleTopDragEndCapture,!0),s.removeEventListener("dragenter",this.handleTopDragEnter),s.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),s.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),s.removeEventListener("dragover",this.handleTopDragOver),s.removeEventListener("dragover",this.handleTopDragOverCapture,!0),s.removeEventListener("drop",this.handleTopDrop),s.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const s=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(s);return _objectSpread({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const s=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(s);return _objectSpread({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const s=this.monitor.getItemType();return Object.keys(NativeTypes).some(n=>NativeTypes[n]===s)}beginDragNativeItem(s,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=createNativeDragSource(s,n),this.currentNativeHandle=this.registry.addSource(s,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(s){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=s;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var a;return(a=this.rootElement)===null||a===void 0?void 0:a.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var s;(s=this.window)===null||s===void 0||s.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(s,n){s.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(s,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(s,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(s,n){this.dropTargetIds.unshift(n)}constructor(s,n,a){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=l=>{const f=this.sourceNodes.get(l);return f&&getNodeClientOffset(f)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=l=>!!(l&&this.document&&this.document.body&&this.document.body.contains(l)),this.endDragIfSourceWasRemovedFromDOM=()=>{const l=this.currentDragSourceNode;l==null||this.isNodeInDocument(l)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=l=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(l||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=l=>{if(l.defaultPrevented)return;const{dragStartSourceIds:f}=this;this.dragStartSourceIds=null;const v=getEventClientOffset(l);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(f||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:v});const{dataTransfer:b}=l,k=matchNativeItemType(b);if(this.monitor.isDragging()){if(b&&typeof b.setDragImage=="function"){const c=this.monitor.getSourceId(),p=this.sourceNodes.get(c),g=this.sourcePreviewNodes.get(c)||p;if(g){const{anchorX:y,anchorY:d,offsetX:m,offsetY:S}=this.getCurrentSourcePreviewNodeOptions(),j=getDragPreviewOffset(p,g,v,{anchorX:y,anchorY:d},{offsetX:m,offsetY:S});b.setDragImage(g,j.x,j.y)}}try{b?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(l.target);const{captureDraggingState:h}=this.getCurrentSourcePreviewNodeOptions();h?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(k)this.beginDragNativeItem(k);else{if(b&&!b.types&&(l.target&&!l.target.hasAttribute||!l.target.hasAttribute("draggable")))return;l.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=l=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var f;(f=this.currentNativeSource)===null||f===void 0||f.loadDataTransfer(l.dataTransfer)}if(!this.enterLeaveCounter.enter(l.target)||this.monitor.isDragging())return;const{dataTransfer:b}=l,k=matchNativeItemType(b);k&&this.beginDragNativeItem(k,b)},this.handleTopDragEnter=l=>{const{dragEnterTargetIds:f}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=l.altKey,f.length>0&&this.actions.hover(f,{clientOffset:getEventClientOffset(l)}),f.some(b=>this.monitor.canDropOnTarget(b))&&(l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=l=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var f;(f=this.currentNativeSource)===null||f===void 0||f.loadDataTransfer(l.dataTransfer)}},this.handleTopDragOver=l=>{const{dragOverTargetIds:f}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect="none");return}this.altKeyPressed=l.altKey,this.lastClientOffset=getEventClientOffset(l),this.scheduleHover(f),(f||[]).some(b=>this.monitor.canDropOnTarget(b))?(l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?l.preventDefault():(l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=l=>{this.isDraggingNativeItem()&&l.preventDefault(),this.enterLeaveCounter.leave(l.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=l=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var f;l.preventDefault(),(f=this.currentNativeSource)===null||f===void 0||f.loadDataTransfer(l.dataTransfer)}else matchNativeItemType(l.dataTransfer)&&l.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=l=>{const{dropTargetIds:f}=this;this.dropTargetIds=[],this.actions.hover(f,{clientOffset:getEventClientOffset(l)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=l=>{const f=l.target;typeof f.dragDrop=="function"&&(f.tagName==="INPUT"||f.tagName==="SELECT"||f.tagName==="TEXTAREA"||f.isContentEditable||(l.preventDefault(),f.dragDrop()))},this.options=new OptionsReader(n,a),this.actions=s.getActions(),this.monitor=s.getMonitor(),this.registry=s.getRegistry(),this.enterLeaveCounter=new EnterLeaveCounter(this.isNodeInDocument)}}const HTML5Backend=function(s,n,a){return new HTML5BackendImpl(s,n,a)},__vite_import_meta_env__$1={},createStoreImpl=o=>{let s;const n=new Set,a=(c,p)=>{const g=typeof c=="function"?c(s):c;if(!Object.is(g,s)){const y=s;s=p??(typeof g!="object"||g===null)?g:Object.assign({},s,g),n.forEach(d=>d(s,y))}},l=()=>s,k={setState:a,getState:l,getInitialState:()=>h,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=s=o(a,l,k);return k},createStore=o=>o?createStoreImpl(o):createStoreImpl;var withSelector={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var o=requireReact();function s(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:s,a=o.useState,l=o.useEffect,f=o.useLayoutEffect,v=o.useDebugValue;function b(p,g){var y=g(),d=a({inst:{value:y,getSnapshot:g}}),m=d[0].inst,S=d[1];return f(function(){m.value=y,m.getSnapshot=g,k(m)&&S({inst:m})},[p,y,g]),l(function(){return k(m)&&S({inst:m}),p(function(){k(m)&&S({inst:m})})},[p]),v(y),y}function k(p){var g=p.getSnapshot;p=p.value;try{var y=g();return!n(p,y)}catch{return!0}}function h(p,g){return g()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:b;return useSyncExternalStoreShim_production.useSyncExternalStore=o.useSyncExternalStore!==void 0?o.useSyncExternalStore:c,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var o=requireReact(),s=requireShim();function n(h,c){return h===c&&(h!==0||1/h===1/c)||h!==h&&c!==c}var a=typeof Object.is=="function"?Object.is:n,l=s.useSyncExternalStore,f=o.useRef,v=o.useEffect,b=o.useMemo,k=o.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(h,c,p,g,y){var d=f(null);if(d.current===null){var m={hasValue:!1,value:null};d.current=m}else m=d.current;d=b(function(){function x(M){if(!T){if(T=!0,j=M,M=g(M),y!==void 0&&m.hasValue){var z=m.value;if(y(z,M))return L=z}return L=M}if(z=L,a(j,M))return z;var $=g(M);return y!==void 0&&y(z,$)?(j=M,z):(j=M,L=$)}var T=!1,j,L,w=p===void 0?null:p;return[function(){return x(c())},w===null?void 0:function(){return x(w())}]},[c,p,g,y]);var S=l(h,d[0],d[1]);return v(function(){m.hasValue=!0,m.value=S},[S]),k(S),S},withSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireWithSelector_production()),withSelector.exports}var withSelectorExports=requireWithSelector();const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),__vite_import_meta_env__={},{useDebugValue}=React,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity=o=>o;function useStore(o,s=identity,n){(__vite_import_meta_env__?"production":void 0)!=="production"&&n&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const a=useSyncExternalStoreWithSelector(o.subscribe,o.getState,o.getServerState||o.getInitialState,s,n);return useDebugValue(a),a}const createImpl=o=>{(__vite_import_meta_env__?"production":void 0)!=="production"&&typeof o!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof o=="function"?createStore(o):o,n=(a,l)=>useStore(s,a,l);return Object.assign(n,s),n},create=o=>o?createImpl(o):createImpl,scriptRel="modulepreload",assetsURL=function(o){return"/"+o},seen={},__vitePreload=function(s,n,a){let l=Promise.resolve();if(n&&n.length>0){let k=function(h){return Promise.all(h.map(c=>Promise.resolve(c).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),b=v?.nonce||v?.getAttribute("nonce");l=k(n.map(h=>{if(h=assetsURL(h),h in seen)return;seen[h]=!0;const c=h.endsWith(".css"),p=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":scriptRel,c||(g.as="script"),g.crossOrigin="",g.href=h,b&&g.setAttribute("nonce",b),document.head.appendChild(g),c)return new Promise((y,d)=>{g.addEventListener("load",y),g.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${h}`)))})}))}function f(v){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=v,window.dispatchEvent(b),!b.defaultPrevented)throw v}return l.then(v=>{for(const b of v||[])b.status==="rejected"&&f(b.reason);return s().catch(f)})};var pdf$2={exports:{}},path2dPolyfill_esm={},hasRequiredPath2dPolyfill_esm;function requirePath2dPolyfill_esm(){if(hasRequiredPath2dPolyfill_esm)return path2dPolyfill_esm;hasRequiredPath2dPolyfill_esm=1;function o(d,m,S){for(var x=0,T=m.length,j;x<T;x++)(j||!(x in m))&&(j||(j=Array.prototype.slice.call(m,0,x)),j[x]=m[x]);return d.concat(j||Array.prototype.slice.call(m))}var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=/([astvzqmhlc])([^astvzqmhlc]*)/gi,a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function l(d){var m=d.match(a);return m?m.map(Number):[]}function f(d){var m=[],S=String(d).trim();return S[0]!=="M"&&S[0]!=="m"||S.replace(n,function(x,T,j){var L=l(j),w=T.toLowerCase(),M=T;if(w==="m"&&L.length>2&&(m.push(o([M],L.splice(0,2))),w="l",M=M==="m"?"l":"L"),L.length<s[w])return"";for(m.push(o([M],L.splice(0,s[w])));L.length>=s[w]&&L.length&&s[w];)m.push(o([M],L.splice(0,s[w])));return""}),m}function v(d,m){var S=d.x*Math.cos(m)-d.y*Math.sin(m),x=d.y*Math.cos(m)+d.x*Math.sin(m);d.x=S,d.y=x}function b(d,m,S){d.x+=m,d.y+=S}function k(d,m){d.x*=m,d.y*=m}var h=(function(){function d(m){var S;this.commands=[],m&&m instanceof d?(S=this.commands).push.apply(S,m.commands):m&&(this.commands=f(m))}return d.prototype.addPath=function(m){var S;m&&m instanceof d&&(S=this.commands).push.apply(S,m.commands)},d.prototype.moveTo=function(m,S){this.commands.push(["M",m,S])},d.prototype.lineTo=function(m,S){this.commands.push(["L",m,S])},d.prototype.arc=function(m,S,x,T,j,L){this.commands.push(["AC",m,S,x,T,j,!!L])},d.prototype.arcTo=function(m,S,x,T,j){this.commands.push(["AT",m,S,x,T,j])},d.prototype.ellipse=function(m,S,x,T,j,L,w,M){this.commands.push(["E",m,S,x,T,j,L,w,!!M])},d.prototype.closePath=function(){this.commands.push(["Z"])},d.prototype.bezierCurveTo=function(m,S,x,T,j,L){this.commands.push(["C",m,S,x,T,j,L])},d.prototype.quadraticCurveTo=function(m,S,x,T){this.commands.push(["Q",m,S,x,T])},d.prototype.rect=function(m,S,x,T){this.commands.push(["R",m,S,x,T])},d.prototype.roundRect=function(m,S,x,T,j){typeof j>"u"?this.commands.push(["RR",m,S,x,T,0]):this.commands.push(["RR",m,S,x,T,j])},d})();function c(d,m){var S=0,x=0,T,j,L,w,M,z,$,V,K,J,te,se,de,pe,ie,Y,I,R,P,D,B,W=null,G=null,H=null,A=null,O=null,F=null;d.beginPath();for(var _=0;_<m.length;++_){R=m[_][0],R!=="S"&&R!=="s"&&R!=="C"&&R!=="c"&&(W=null,G=null),R!=="T"&&R!=="t"&&R!=="Q"&&R!=="q"&&(H=null,A=null);var N=void 0;switch(R){case"m":case"M":N=m[_],R==="m"?(S+=N[1],x+=N[2]):(S=N[1],x=N[2]),(R==="M"||!O)&&(O={x:S,y:x}),d.moveTo(S,x);break;case"l":N=m[_],S+=N[1],x+=N[2],d.lineTo(S,x);break;case"L":N=m[_],S=N[1],x=N[2],d.lineTo(S,x);break;case"H":N=m[_],S=N[1],d.lineTo(S,x);break;case"h":N=m[_],S+=N[1],d.lineTo(S,x);break;case"V":N=m[_],x=N[1],d.lineTo(S,x);break;case"v":N=m[_],x+=N[1],d.lineTo(S,x);break;case"a":case"A":if(N=m[_],F===null)throw new Error("This should never happen");R==="a"?(S+=N[6],x+=N[7]):(S=N[6],x=N[7]),pe=N[1],ie=N[2],$=N[3]*Math.PI/180,L=!!N[4],w=!!N[5],M={x:S,y:x},z={x:(F.x-M.x)/2,y:(F.y-M.y)/2},v(z,-$),V=z.x*z.x/(pe*pe)+z.y*z.y/(ie*ie),V>1&&(V=Math.sqrt(V),pe*=V,ie*=V),P={x:pe*z.y/ie,y:-(ie*z.x)/pe},K=pe*pe*ie*ie,J=pe*pe*z.y*z.y+ie*ie*z.x*z.x,w!==L?k(P,Math.sqrt((K-J)/J)||0):k(P,-Math.sqrt((K-J)/J)||0),j=Math.atan2((z.y-P.y)/ie,(z.x-P.x)/pe),T=Math.atan2(-(z.y+P.y)/ie,-(z.x+P.x)/pe),v(P,$),b(P,(M.x+F.x)/2,(M.y+F.y)/2),d.save(),d.translate(P.x,P.y),d.rotate($),d.scale(pe,ie),d.arc(0,0,1,j,T,!w),d.restore();break;case"C":N=m[_],W=N[3],G=N[4],S=N[5],x=N[6],d.bezierCurveTo(N[1],N[2],W,G,S,x);break;case"c":N=m[_],d.bezierCurveTo(N[1]+S,N[2]+x,N[3]+S,N[4]+x,N[5]+S,N[6]+x),W=N[3]+S,G=N[4]+x,S+=N[5],x+=N[6];break;case"S":N=m[_],(W===null||G===null)&&(W=S,G=x),d.bezierCurveTo(2*S-W,2*x-G,N[1],N[2],N[3],N[4]),W=N[1],G=N[2],S=N[3],x=N[4];break;case"s":N=m[_],(W===null||G===null)&&(W=S,G=x),d.bezierCurveTo(2*S-W,2*x-G,N[1]+S,N[2]+x,N[3]+S,N[4]+x),W=N[1]+S,G=N[2]+x,S+=N[3],x+=N[4];break;case"Q":N=m[_],H=N[1],A=N[2],S=N[3],x=N[4],d.quadraticCurveTo(H,A,S,x);break;case"q":N=m[_],H=N[1]+S,A=N[2]+x,S+=N[3],x+=N[4],d.quadraticCurveTo(H,A,S,x);break;case"T":N=m[_],(H===null||A===null)&&(H=S,A=x),H=2*S-H,A=2*x-A,S=N[1],x=N[2],d.quadraticCurveTo(H,A,S,x);break;case"t":N=m[_],(H===null||A===null)&&(H=S,A=x),H=2*S-H,A=2*x-A,S+=N[1],x+=N[2],d.quadraticCurveTo(H,A,S,x);break;case"z":case"Z":O&&(S=O.x,x=O.y),O=null,d.closePath();break;case"AC":N=m[_],S=N[1],x=N[2],de=N[3],j=N[4],T=N[5],D=N[6],d.arc(S,x,de,j,T,D);break;case"AT":N=m[_],te=N[1],se=N[2],S=N[3],x=N[4],de=N[5],d.arcTo(te,se,S,x,de);break;case"E":N=m[_],S=N[1],x=N[2],pe=N[3],ie=N[4],$=N[5],j=N[6],T=N[7],D=N[8],d.save(),d.translate(S,x),d.rotate($),d.scale(pe,ie),d.arc(0,0,1,j,T,D),d.restore();break;case"R":N=m[_],S=N[1],x=N[2],Y=N[3],I=N[4],O={x:S,y:x},d.rect(S,x,Y,I);break;case"RR":N=m[_],S=N[1],x=N[2],Y=N[3],I=N[4],B=N[5],O={x:S,y:x},d.roundRect(S,x,Y,I,B);break}F?(F.x=S,F.y=x):F={x:S,y:x}}}function p(d){if(!(!d||!d.CanvasRenderingContext2D||d.Path2D)){var m=d.CanvasRenderingContext2D,S=m.prototype.fill,x=m.prototype.stroke,T=m.prototype.isPointInPath;m.prototype.fill=function(){for(var L=[],w=0;w<arguments.length;w++)L[w]=arguments[w];if(L[0]instanceof h){var M=L[0],z=L[1]||"nonzero";c(this,M.commands),S.apply(this,[z])}else{var z=L[0]||"nonzero";return S.apply(this,[z])}},m.prototype.stroke=function(L){L&&c(this,L.commands),x.apply(this)},m.prototype.isPointInPath=function(){for(var L=[],w=0;w<arguments.length;w++)L[w]=arguments[w];if(L[0]instanceof h){var M=L[0],z=L[1],$=L[2],V=L[3]||"nonzero";return c(this,M.commands),T.apply(this,[z,$,V])}else return T.apply(this,L)},d.Path2D=h}}function g(d,m,S,x,T){var j=this;if(T===void 0&&(T=0),typeof T=="number"&&(T=[T]),Array.isArray(T)){if(T.length===0||T.length>4)throw new RangeError("Failed to execute 'roundRect' on '".concat(this.constructor.name,"': ").concat(T.length," radii provided. Between one and four radii are necessary."));T.forEach(function(V){if(V<0)throw new RangeError("Failed to execute 'roundRect' on '".concat(j.constructor.name,"': Radius value ").concat(V," is negative."))})}else return;if(T.length===1&&T[0]===0)return this.rect(d,m,S,x);var L=Math.min(S,x)/2,w,M,z,$=w=M=z=Math.min(L,T[0]);T.length===2&&(w=z=Math.min(L,T[1])),T.length===3&&(w=z=Math.min(L,T[1]),M=Math.min(L,T[2])),T.length===4&&(w=Math.min(L,T[1]),M=Math.min(L,T[2]),z=Math.min(L,T[3])),this.moveTo(d,m+x-z),this.arcTo(d,m,d+$,m,$),this.arcTo(d+S,m,d+S,m+w,w),this.arcTo(d+S,m+x,d+S-M,m+x,M),this.arcTo(d,m+x,d,m+x-z,z),this.moveTo(d,m)}function y(d){if(!(!d||!d.CanvasRenderingContext2D)){var m=d.CanvasRenderingContext2D,S=d.Path2D;m&&!m.prototype.roundRect&&(m.prototype.roundRect=g),S&&!S.prototype.roundRect&&(S.prototype.roundRect=g)}}return p(window),y(window),path2dPolyfill_esm}var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports){(function(s,n){module.exports=s.pdfjsLib=n()})(globalThis,()=>(()=>{var __webpack_modules__=[,((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=P,s.bytesToString=Z,s.createValidAbsoluteUrl=B,s.getModificationDate=Nt,s.getUuid=Jn,s.getVerbosityLevel=ie,s.info=Y,s.isArrayBuffer=rt,s.isArrayEqual=dt,s.isNodeJS=void 0,s.normalizeUnicode=Nn,s.objectFromMap=he,s.objectSize=oe,s.setVerbosityLevel=pe,s.shadow=W,s.string32=ye,s.stringToBytes=ne,s.stringToPDFString=Ue,s.stringToUTF8String=He,s.unreachable=R,s.utf8StringToString=Ye,s.warn=I,n(2),n(84),n(86),n(87),n(89),n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123);const a=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=a;const l=[1,0,0,1,0,0];s.IDENTITY_MATRIX=l;const f=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=f;const v=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=v;const b=1.35;s.LINE_FACTOR=b;const k=.35;s.LINE_DESCENT_FACTOR=k;const h=k/b;s.BASELINE_FACTOR=h;const c={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=c;const p={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=p;const g="pdfjs_internal_editor_";s.AnnotationEditorPrefix=g;const y={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=y;const d={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=d;const m={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=m;const S={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=S;const x={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=x;const T={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=T;const j={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=j;const L={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=L;const w={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=w;const M={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=M;const z={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=z;const $={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=$;const V={O:"PageOpen",C:"PageClose"};s.PageActionEventType=V;const K={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=K;const J={NONE:0,BINARY:1};s.CMapCompressionType=J;const te={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=te;const se={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=se;let de=K.WARNINGS;function pe(Ee){Number.isInteger(Ee)&&(de=Ee)}function ie(){return de}function Y(Ee){de>=K.INFOS&&console.log(`Info: ${Ee}`)}function I(Ee){de>=K.WARNINGS&&console.log(`Warning: ${Ee}`)}function R(Ee){throw new Error(Ee)}function P(Ee,le){Ee||R(le)}function D(Ee){switch(Ee?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function B(Ee){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Ee)return null;try{if(re&&typeof Ee=="string"&&(re.addDefaultProtocol&&Ee.startsWith("www.")&&Ee.match(/\./g)?.length>=2&&(Ee=`http://${Ee}`),re.tryConvertEncoding))try{Ee=He(Ee)}catch{}const ke=le?new URL(Ee,le):new URL(Ee);if(D(ke))return ke}catch{}return null}function W(Ee,le,re){let ke=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Object.defineProperty(Ee,le,{value:re,enumerable:!ke,configurable:!0,writable:!1}),re}const G=(function(){function le(re,ke){this.constructor===le&&R("Cannot initialize BaseException."),this.message=re,this.name=ke}return le.prototype=new Error,le.constructor=le,le})();s.BaseException=G;class H extends G{constructor(le,re){super(le,"PasswordException"),this.code=re}}s.PasswordException=H;class A extends G{constructor(le,re){super(le,"UnknownErrorException"),this.details=re}}s.UnknownErrorException=A;class O extends G{constructor(le){super(le,"InvalidPDFException")}}s.InvalidPDFException=O;class F extends G{constructor(le){super(le,"MissingPDFException")}}s.MissingPDFException=F;class _ extends G{constructor(le,re){super(le,"UnexpectedResponseException"),this.status=re}}s.UnexpectedResponseException=_;class N extends G{constructor(le){super(le,"FormatError")}}s.FormatError=N;class X extends G{constructor(le){super(le,"AbortException")}}s.AbortException=X;function Z(Ee){(typeof Ee!="object"||Ee?.length===void 0)&&R("Invalid argument for bytesToString");const le=Ee.length,re=8192;if(le<re)return String.fromCharCode.apply(null,Ee);const ke=[];for(let Ge=0;Ge<le;Ge+=re){const at=Math.min(Ge+re,le),ae=Ee.subarray(Ge,at);ke.push(String.fromCharCode.apply(null,ae))}return ke.join("")}function ne(Ee){typeof Ee!="string"&&R("Invalid argument for stringToBytes");const le=Ee.length,re=new Uint8Array(le);for(let ke=0;ke<le;++ke)re[ke]=Ee.charCodeAt(ke)&255;return re}function ye(Ee){return String.fromCharCode(Ee>>24&255,Ee>>16&255,Ee>>8&255,Ee&255)}function oe(Ee){return Object.keys(Ee).length}function he(Ee){const le=Object.create(null);for(const[re,ke]of Ee)le[re]=ke;return le}function ge(){const Ee=new Uint8Array(4);return Ee[0]=1,new Uint32Array(Ee.buffer,0,1)[0]===1}function me(){try{return new Function(""),!0}catch{return!1}}class ve{static get isLittleEndian(){return W(this,"isLittleEndian",ge())}static get isEvalSupported(){return W(this,"isEvalSupported",me())}static get isOffscreenCanvasSupported(){return W(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?W(this,"platform",{isWin:!1,isMac:!1}):W(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return W(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}s.FeatureTest=ve;const Ce=[...Array(256).keys()].map(Ee=>Ee.toString(16).padStart(2,"0"));class Re{static makeHexColor(le,re,ke){return`#${Ce[le]}${Ce[re]}${Ce[ke]}`}static scaleMinMax(le,re){let ke;le[0]?(le[0]<0&&(ke=re[0],re[0]=re[1],re[1]=ke),re[0]*=le[0],re[1]*=le[0],le[3]<0&&(ke=re[2],re[2]=re[3],re[3]=ke),re[2]*=le[3],re[3]*=le[3]):(ke=re[0],re[0]=re[2],re[2]=ke,ke=re[1],re[1]=re[3],re[3]=ke,le[1]<0&&(ke=re[2],re[2]=re[3],re[3]=ke),re[2]*=le[1],re[3]*=le[1],le[2]<0&&(ke=re[0],re[0]=re[1],re[1]=ke),re[0]*=le[2],re[1]*=le[2]),re[0]+=le[4],re[1]+=le[4],re[2]+=le[5],re[3]+=le[5]}static transform(le,re){return[le[0]*re[0]+le[2]*re[1],le[1]*re[0]+le[3]*re[1],le[0]*re[2]+le[2]*re[3],le[1]*re[2]+le[3]*re[3],le[0]*re[4]+le[2]*re[5]+le[4],le[1]*re[4]+le[3]*re[5]+le[5]]}static applyTransform(le,re){const ke=le[0]*re[0]+le[1]*re[2]+re[4],Ge=le[0]*re[1]+le[1]*re[3]+re[5];return[ke,Ge]}static applyInverseTransform(le,re){const ke=re[0]*re[3]-re[1]*re[2],Ge=(le[0]*re[3]-le[1]*re[2]+re[2]*re[5]-re[4]*re[3])/ke,at=(-le[0]*re[1]+le[1]*re[0]+re[4]*re[1]-re[5]*re[0])/ke;return[Ge,at]}static getAxialAlignedBoundingBox(le,re){const ke=this.applyTransform(le,re),Ge=this.applyTransform(le.slice(2,4),re),at=this.applyTransform([le[0],le[3]],re),ae=this.applyTransform([le[2],le[1]],re);return[Math.min(ke[0],Ge[0],at[0],ae[0]),Math.min(ke[1],Ge[1],at[1],ae[1]),Math.max(ke[0],Ge[0],at[0],ae[0]),Math.max(ke[1],Ge[1],at[1],ae[1])]}static inverseTransform(le){const re=le[0]*le[3]-le[1]*le[2];return[le[3]/re,-le[1]/re,-le[2]/re,le[0]/re,(le[2]*le[5]-le[4]*le[3])/re,(le[4]*le[1]-le[5]*le[0])/re]}static singularValueDecompose2dScale(le){const re=[le[0],le[2],le[1],le[3]],ke=le[0]*re[0]+le[1]*re[2],Ge=le[0]*re[1]+le[1]*re[3],at=le[2]*re[0]+le[3]*re[2],ae=le[2]*re[1]+le[3]*re[3],Te=(ke+ae)/2,je=Math.sqrt((ke+ae)**2-4*(ke*ae-at*Ge))/2,Ie=Te+je||1,Ne=Te-je||1;return[Math.sqrt(Ie),Math.sqrt(Ne)]}static normalizeRect(le){const re=le.slice(0);return le[0]>le[2]&&(re[0]=le[2],re[2]=le[0]),le[1]>le[3]&&(re[1]=le[3],re[3]=le[1]),re}static intersect(le,re){const ke=Math.max(Math.min(le[0],le[2]),Math.min(re[0],re[2])),Ge=Math.min(Math.max(le[0],le[2]),Math.max(re[0],re[2]));if(ke>Ge)return null;const at=Math.max(Math.min(le[1],le[3]),Math.min(re[1],re[3])),ae=Math.min(Math.max(le[1],le[3]),Math.max(re[1],re[3]));return at>ae?null:[ke,at,Ge,ae]}static bezierBoundingBox(le,re,ke,Ge,at,ae,Te,je){const Ie=[],Ne=[[],[]];let $e,we,Ke,We,Ve,st,mt,ct;for(let jn=0;jn<2;++jn){if(jn===0?(we=6*le-12*ke+6*at,$e=-3*le+9*ke-9*at+3*Te,Ke=3*ke-3*le):(we=6*re-12*Ge+6*ae,$e=-3*re+9*Ge-9*ae+3*je,Ke=3*Ge-3*re),Math.abs($e)<1e-12){if(Math.abs(we)<1e-12)continue;We=-Ke/we,0<We&&We<1&&Ie.push(We);continue}mt=we*we-4*Ke*$e,ct=Math.sqrt(mt),!(mt<0)&&(Ve=(-we+ct)/(2*$e),0<Ve&&Ve<1&&Ie.push(Ve),st=(-we-ct)/(2*$e),0<st&&st<1&&Ie.push(st))}let jt=Ie.length,xt;const tn=jt;for(;jt--;)We=Ie[jt],xt=1-We,Ne[0][jt]=xt*xt*xt*le+3*xt*xt*We*ke+3*xt*We*We*at+We*We*We*Te,Ne[1][jt]=xt*xt*xt*re+3*xt*xt*We*Ge+3*xt*We*We*ae+We*We*We*je;return Ne[0][tn]=le,Ne[1][tn]=re,Ne[0][tn+1]=Te,Ne[1][tn+1]=je,Ne[0].length=Ne[1].length=tn+2,[Math.min(...Ne[0]),Math.min(...Ne[1]),Math.max(...Ne[0]),Math.max(...Ne[1])]}}s.Util=Re;const Fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ue(Ee){if(Ee[0]>="ï"){let re;if(Ee[0]==="þ"&&Ee[1]==="ÿ"?re="utf-16be":Ee[0]==="ÿ"&&Ee[1]==="þ"?re="utf-16le":Ee[0]==="ï"&&Ee[1]==="»"&&Ee[2]==="¿"&&(re="utf-8"),re)try{const ke=new TextDecoder(re,{fatal:!0}),Ge=ne(Ee);return ke.decode(Ge)}catch(ke){I(`stringToPDFString: "${ke}".`)}}const le=[];for(let re=0,ke=Ee.length;re<ke;re++){const Ge=Fe[Ee.charCodeAt(re)];le.push(Ge?String.fromCharCode(Ge):Ee.charAt(re))}return le.join("")}function He(Ee){return decodeURIComponent(escape(Ee))}function Ye(Ee){return unescape(encodeURIComponent(Ee))}function rt(Ee){return typeof Ee=="object"&&Ee?.byteLength!==void 0}function dt(Ee,le){if(Ee.length!==le.length)return!1;for(let re=0,ke=Ee.length;re<ke;re++)if(Ee[re]!==le[re])return!1;return!0}function Nt(){let Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[Ee.getUTCFullYear().toString(),(Ee.getUTCMonth()+1).toString().padStart(2,"0"),Ee.getUTCDate().toString().padStart(2,"0"),Ee.getUTCHours().toString().padStart(2,"0"),Ee.getUTCMinutes().toString().padStart(2,"0"),Ee.getUTCSeconds().toString().padStart(2,"0")].join("")}class qe{#e=!1;constructor(){this.promise=new Promise((le,re)=>{this.resolve=ke=>{this.#e=!0,le(ke)},this.reject=ke=>{this.#e=!0,re(ke)}})}get settled(){return this.#e}}s.PromiseCapability=qe;let pt=null,et=null;function Nn(Ee){return pt||(pt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,et=new Map([["ﬅ","ſt"]])),Ee.replaceAll(pt,(le,re,ke)=>re?re.normalize("NFKC"):et.get(ke))}function Jn(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const Ee=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(Ee);else for(let le=0;le<32;le++)Ee[le]=Math.floor(Math.random()*255);return Z(Ee)}const mn="pdfjs_internal_id_";s.AnnotationPrefix=mn}),((o,s,n)=>{var a=n(3),l=n(4),f=n(69),v=n(70),b="WebAssembly",k=l[b],h=Error("e",{cause:7}).cause!==7,c=function(g,y){var d={};d[g]=v(g,y,h),a({global:!0,constructor:!0,arity:1,forced:h},d)},p=function(g,y){if(k&&k[g]){var d={};d[g]=v(b+"."+g,y,h),a({target:b,stat:!0,constructor:!0,arity:1,forced:h},d)}};c("Error",function(g){return function(d){return f(g,this,arguments)}}),c("EvalError",function(g){return function(d){return f(g,this,arguments)}}),c("RangeError",function(g){return function(d){return f(g,this,arguments)}}),c("ReferenceError",function(g){return function(d){return f(g,this,arguments)}}),c("SyntaxError",function(g){return function(d){return f(g,this,arguments)}}),c("TypeError",function(g){return function(d){return f(g,this,arguments)}}),c("URIError",function(g){return function(d){return f(g,this,arguments)}}),p("CompileError",function(g){return function(d){return f(g,this,arguments)}}),p("LinkError",function(g){return function(d){return f(g,this,arguments)}}),p("RuntimeError",function(g){return function(d){return f(g,this,arguments)}})}),((o,s,n)=>{var a=n(4),l=n(5).f,f=n(44),v=n(48),b=n(38),k=n(56),h=n(68);o.exports=function(c,p){var g=c.target,y=c.global,d=c.stat,m,S,x,T,j,L;if(y?S=a:d?S=a[g]||b(g,{}):S=(a[g]||{}).prototype,S)for(x in p){if(j=p[x],c.dontCallGetSet?(L=l(S,x),T=L&&L.value):T=S[x],m=h(y?x:g+(d?".":"#")+x,c.forced),!m&&T!==void 0){if(typeof j==typeof T)continue;k(j,T)}(c.sham||T&&T.sham)&&f(j,"sham",!0),v(S,x,j,c)}}}),(function(o){var s=function(n){return n&&n.Math===Math&&n};o.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof commonjsGlobal=="object"&&commonjsGlobal)||(function(){return this})()||this||Function("return this")()}),((o,s,n)=>{var a=n(6),l=n(8),f=n(10),v=n(11),b=n(12),k=n(18),h=n(39),c=n(42),p=Object.getOwnPropertyDescriptor;s.f=a?p:function(y,d){if(y=b(y),d=k(d),c)try{return p(y,d)}catch{}if(h(y,d))return v(!l(f.f,y,d),y[d])}}),((o,s,n)=>{var a=n(7);o.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),(o=>{o.exports=function(s){try{return!!s()}catch{return!0}}}),((o,s,n)=>{var a=n(9),l=Function.prototype.call;o.exports=a?l.bind(l):function(){return l.apply(l,arguments)}}),((o,s,n)=>{var a=n(7);o.exports=!a(function(){var l=(function(){}).bind();return typeof l!="function"||l.hasOwnProperty("prototype")})}),((o,s)=>{var n={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,l=a&&!n.call({1:2},1);s.f=l?function(v){var b=a(this,v);return!!b&&b.enumerable}:n}),(o=>{o.exports=function(s,n){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:n}}}),((o,s,n)=>{var a=n(13),l=n(16);o.exports=function(f){return a(l(f))}}),((o,s,n)=>{var a=n(14),l=n(7),f=n(15),v=Object,b=a("".split);o.exports=l(function(){return!v("z").propertyIsEnumerable(0)})?function(k){return f(k)==="String"?b(k,""):v(k)}:v}),((o,s,n)=>{var a=n(9),l=Function.prototype,f=l.call,v=a&&l.bind.bind(f,f);o.exports=a?v:function(b){return function(){return f.apply(b,arguments)}}}),((o,s,n)=>{var a=n(14),l=a({}.toString),f=a("".slice);o.exports=function(v){return f(l(v),8,-1)}}),((o,s,n)=>{var a=n(17),l=TypeError;o.exports=function(f){if(a(f))throw l("Can't call method on "+f);return f}}),(o=>{o.exports=function(s){return s==null}}),((o,s,n)=>{var a=n(19),l=n(23);o.exports=function(f){var v=a(f,"string");return l(v)?v:v+""}}),((o,s,n)=>{var a=n(8),l=n(20),f=n(23),v=n(30),b=n(33),k=n(34),h=TypeError,c=k("toPrimitive");o.exports=function(p,g){if(!l(p)||f(p))return p;var y=v(p,c),d;if(y){if(g===void 0&&(g="default"),d=a(y,p,g),!l(d)||f(d))return d;throw h("Can't convert object to primitive value")}return g===void 0&&(g="number"),b(p,g)}}),((o,s,n)=>{var a=n(21),l=n(22),f=l.all;o.exports=l.IS_HTMLDDA?function(v){return typeof v=="object"?v!==null:a(v)||v===f}:function(v){return typeof v=="object"?v!==null:a(v)}}),((o,s,n)=>{var a=n(22),l=a.all;o.exports=a.IS_HTMLDDA?function(f){return typeof f=="function"||f===l}:function(f){return typeof f=="function"}}),(o=>{var s=typeof document=="object"&&document.all,n=typeof s>"u"&&s!==void 0;o.exports={all:s,IS_HTMLDDA:n}}),((o,s,n)=>{var a=n(24),l=n(21),f=n(25),v=n(26),b=Object;o.exports=v?function(k){return typeof k=="symbol"}:function(k){var h=a("Symbol");return l(h)&&f(h.prototype,b(k))}}),((o,s,n)=>{var a=n(4),l=n(21),f=function(v){return l(v)?v:void 0};o.exports=function(v,b){return arguments.length<2?f(a[v]):a[v]&&a[v][b]}}),((o,s,n)=>{var a=n(14);o.exports=a({}.isPrototypeOf)}),((o,s,n)=>{var a=n(27);o.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),((o,s,n)=>{var a=n(28),l=n(7),f=n(4),v=f.String;o.exports=!!Object.getOwnPropertySymbols&&!l(function(){var b=Symbol("symbol detection");return!v(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&a&&a<41})}),((o,s,n)=>{var a=n(4),l=n(29),f=a.process,v=a.Deno,b=f&&f.versions||v&&v.version,k=b&&b.v8,h,c;k&&(h=k.split("."),c=h[0]>0&&h[0]<4?1:+(h[0]+h[1])),!c&&l&&(h=l.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=l.match(/Chrome\/(\d+)/),h&&(c=+h[1]))),o.exports=c}),(o=>{o.exports=typeof navigator<"u"&&String(navigator.userAgent)||""}),((o,s,n)=>{var a=n(31),l=n(17);o.exports=function(f,v){var b=f[v];return l(b)?void 0:a(b)}}),((o,s,n)=>{var a=n(21),l=n(32),f=TypeError;o.exports=function(v){if(a(v))return v;throw f(l(v)+" is not a function")}}),(o=>{var s=String;o.exports=function(n){try{return s(n)}catch{return"Object"}}}),((o,s,n)=>{var a=n(8),l=n(21),f=n(20),v=TypeError;o.exports=function(b,k){var h,c;if(k==="string"&&l(h=b.toString)&&!f(c=a(h,b))||l(h=b.valueOf)&&!f(c=a(h,b))||k!=="string"&&l(h=b.toString)&&!f(c=a(h,b)))return c;throw v("Can't convert object to primitive value")}}),((o,s,n)=>{var a=n(4),l=n(35),f=n(39),v=n(41),b=n(27),k=n(26),h=a.Symbol,c=l("wks"),p=k?h.for||h:h&&h.withoutSetter||v;o.exports=function(g){return f(c,g)||(c[g]=b&&f(h,g)?h[g]:p("Symbol."+g)),c[g]}}),((o,s,n)=>{var a=n(36),l=n(37);(o.exports=function(f,v){return l[f]||(l[f]=v!==void 0?v:{})})("versions",[]).push({version:"3.32.2",mode:a?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"})}),(o=>{o.exports=!1}),((o,s,n)=>{var a=n(4),l=n(38),f="__core-js_shared__",v=a[f]||l(f,{});o.exports=v}),((o,s,n)=>{var a=n(4),l=Object.defineProperty;o.exports=function(f,v){try{l(a,f,{value:v,configurable:!0,writable:!0})}catch{a[f]=v}return v}}),((o,s,n)=>{var a=n(14),l=n(40),f=a({}.hasOwnProperty);o.exports=Object.hasOwn||function(b,k){return f(l(b),k)}}),((o,s,n)=>{var a=n(16),l=Object;o.exports=function(f){return l(a(f))}}),((o,s,n)=>{var a=n(14),l=0,f=Math.random(),v=a(1 .toString);o.exports=function(b){return"Symbol("+(b===void 0?"":b)+")_"+v(++l+f,36)}}),((o,s,n)=>{var a=n(6),l=n(7),f=n(43);o.exports=!a&&!l(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!==7})}),((o,s,n)=>{var a=n(4),l=n(20),f=a.document,v=l(f)&&l(f.createElement);o.exports=function(b){return v?f.createElement(b):{}}}),((o,s,n)=>{var a=n(6),l=n(45),f=n(11);o.exports=a?function(v,b,k){return l.f(v,b,f(1,k))}:function(v,b,k){return v[b]=k,v}}),((o,s,n)=>{var a=n(6),l=n(42),f=n(46),v=n(47),b=n(18),k=TypeError,h=Object.defineProperty,c=Object.getOwnPropertyDescriptor,p="enumerable",g="configurable",y="writable";s.f=a?f?function(m,S,x){if(v(m),S=b(S),v(x),typeof m=="function"&&S==="prototype"&&"value"in x&&y in x&&!x[y]){var T=c(m,S);T&&T[y]&&(m[S]=x.value,x={configurable:g in x?x[g]:T[g],enumerable:p in x?x[p]:T[p],writable:!1})}return h(m,S,x)}:h:function(m,S,x){if(v(m),S=b(S),v(x),l)try{return h(m,S,x)}catch{}if("get"in x||"set"in x)throw k("Accessors not supported");return"value"in x&&(m[S]=x.value),m}}),((o,s,n)=>{var a=n(6),l=n(7);o.exports=a&&l(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),((o,s,n)=>{var a=n(20),l=String,f=TypeError;o.exports=function(v){if(a(v))return v;throw f(l(v)+" is not an object")}}),((o,s,n)=>{var a=n(21),l=n(45),f=n(49),v=n(38);o.exports=function(b,k,h,c){c||(c={});var p=c.enumerable,g=c.name!==void 0?c.name:k;if(a(h)&&f(h,g,c),c.global)p?b[k]=h:v(k,h);else{try{c.unsafe?b[k]&&(p=!0):delete b[k]}catch{}p?b[k]=h:l.f(b,k,{value:h,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return b}}),((o,s,n)=>{var a=n(14),l=n(7),f=n(21),v=n(39),b=n(6),k=n(50).CONFIGURABLE,h=n(51),c=n(52),p=c.enforce,g=c.get,y=String,d=Object.defineProperty,m=a("".slice),S=a("".replace),x=a([].join),T=b&&!l(function(){return d(function(){},"length",{value:8}).length!==8}),j=String(String).split("String"),L=o.exports=function(w,M,z){m(y(M),0,7)==="Symbol("&&(M="["+S(y(M),/^Symbol\(([^)]*)\)/,"$1")+"]"),z&&z.getter&&(M="get "+M),z&&z.setter&&(M="set "+M),(!v(w,"name")||k&&w.name!==M)&&(b?d(w,"name",{value:M,configurable:!0}):w.name=M),T&&z&&v(z,"arity")&&w.length!==z.arity&&d(w,"length",{value:z.arity});try{z&&v(z,"constructor")&&z.constructor?b&&d(w,"prototype",{writable:!1}):w.prototype&&(w.prototype=void 0)}catch{}var $=p(w);return v($,"source")||($.source=x(j,typeof M=="string"?M:"")),w};Function.prototype.toString=L(function(){return f(this)&&g(this).source||h(this)},"toString")}),((o,s,n)=>{var a=n(6),l=n(39),f=Function.prototype,v=a&&Object.getOwnPropertyDescriptor,b=l(f,"name"),k=b&&(function(){}).name==="something",h=b&&(!a||a&&v(f,"name").configurable);o.exports={EXISTS:b,PROPER:k,CONFIGURABLE:h}}),((o,s,n)=>{var a=n(14),l=n(21),f=n(37),v=a(Function.toString);l(f.inspectSource)||(f.inspectSource=function(b){return v(b)}),o.exports=f.inspectSource}),((o,s,n)=>{var a=n(53),l=n(4),f=n(20),v=n(44),b=n(39),k=n(37),h=n(54),c=n(55),p="Object already initialized",g=l.TypeError,y=l.WeakMap,d,m,S,x=function(w){return S(w)?m(w):d(w,{})},T=function(w){return function(M){var z;if(!f(M)||(z=m(M)).type!==w)throw g("Incompatible receiver, "+w+" required");return z}};if(a||k.state){var j=k.state||(k.state=new y);j.get=j.get,j.has=j.has,j.set=j.set,d=function(w,M){if(j.has(w))throw g(p);return M.facade=w,j.set(w,M),M},m=function(w){return j.get(w)||{}},S=function(w){return j.has(w)}}else{var L=h("state");c[L]=!0,d=function(w,M){if(b(w,L))throw g(p);return M.facade=w,v(w,L,M),M},m=function(w){return b(w,L)?w[L]:{}},S=function(w){return b(w,L)}}o.exports={set:d,get:m,has:S,enforce:x,getterFor:T}}),((o,s,n)=>{var a=n(4),l=n(21),f=a.WeakMap;o.exports=l(f)&&/native code/.test(String(f))}),((o,s,n)=>{var a=n(35),l=n(41),f=a("keys");o.exports=function(v){return f[v]||(f[v]=l(v))}}),(o=>{o.exports={}}),((o,s,n)=>{var a=n(39),l=n(57),f=n(5),v=n(45);o.exports=function(b,k,h){for(var c=l(k),p=v.f,g=f.f,y=0;y<c.length;y++){var d=c[y];!a(b,d)&&!(h&&a(h,d))&&p(b,d,g(k,d))}}}),((o,s,n)=>{var a=n(24),l=n(14),f=n(58),v=n(67),b=n(47),k=l([].concat);o.exports=a("Reflect","ownKeys")||function(c){var p=f.f(b(c)),g=v.f;return g?k(p,g(c)):p}}),((o,s,n)=>{var a=n(59),l=n(66),f=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(b){return a(b,f)}}),((o,s,n)=>{var a=n(14),l=n(39),f=n(12),v=n(60).indexOf,b=n(55),k=a([].push);o.exports=function(h,c){var p=f(h),g=0,y=[],d;for(d in p)!l(b,d)&&l(p,d)&&k(y,d);for(;c.length>g;)l(p,d=c[g++])&&(~v(y,d)||k(y,d));return y}}),((o,s,n)=>{var a=n(12),l=n(61),f=n(64),v=function(b){return function(k,h,c){var p=a(k),g=f(p),y=l(c,g),d;if(b&&h!==h){for(;g>y;)if(d=p[y++],d!==d)return!0}else for(;g>y;y++)if((b||y in p)&&p[y]===h)return b||y||0;return!b&&-1}};o.exports={includes:v(!0),indexOf:v(!1)}}),((o,s,n)=>{var a=n(62),l=Math.max,f=Math.min;o.exports=function(v,b){var k=a(v);return k<0?l(k+b,0):f(k,b)}}),((o,s,n)=>{var a=n(63);o.exports=function(l){var f=+l;return f!==f||f===0?0:a(f)}}),(o=>{var s=Math.ceil,n=Math.floor;o.exports=Math.trunc||function(l){var f=+l;return(f>0?n:s)(f)}}),((o,s,n)=>{var a=n(65);o.exports=function(l){return a(l.length)}}),((o,s,n)=>{var a=n(62),l=Math.min;o.exports=function(f){return f>0?l(a(f),9007199254740991):0}}),(o=>{o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),((o,s)=>{s.f=Object.getOwnPropertySymbols}),((o,s,n)=>{var a=n(7),l=n(21),f=/#|\.prototype\./,v=function(p,g){var y=k[b(p)];return y===c?!0:y===h?!1:l(g)?a(g):!!g},b=v.normalize=function(p){return String(p).replace(f,".").toLowerCase()},k=v.data={},h=v.NATIVE="N",c=v.POLYFILL="P";o.exports=v}),((o,s,n)=>{var a=n(9),l=Function.prototype,f=l.apply,v=l.call;o.exports=typeof Reflect=="object"&&Reflect.apply||(a?v.bind(f):function(){return v.apply(f,arguments)})}),((o,s,n)=>{var a=n(24),l=n(39),f=n(44),v=n(25),b=n(71),k=n(56),h=n(74),c=n(75),p=n(76),g=n(80),y=n(81),d=n(6),m=n(36);o.exports=function(S,x,T,j){var L="stackTraceLimit",w=j?2:1,M=S.split("."),z=M[M.length-1],$=a.apply(null,M);if($){var V=$.prototype;if(!m&&l(V,"cause")&&delete V.cause,!T)return $;var K=a("Error"),J=x(function(te,se){var de=p(j?se:te,void 0),pe=j?new $(te):new $;return de!==void 0&&f(pe,"message",de),y(pe,J,pe.stack,2),this&&v(V,this)&&c(pe,this,J),arguments.length>w&&g(pe,arguments[w]),pe});if(J.prototype=V,z!=="Error"?b?b(J,K):k(J,K,{name:!0}):d&&L in $&&(h(J,$,L),h(J,$,"prepareStackTrace")),k(J,$),!m)try{V.name!==z&&f(V,"name",z),V.constructor=J}catch{}return J}}}),((o,s,n)=>{var a=n(72),l=n(47),f=n(73);o.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var v=!1,b={},k;try{k=a(Object.prototype,"__proto__","set"),k(b,[]),v=b instanceof Array}catch{}return function(c,p){return l(c),f(p),v?k(c,p):c.__proto__=p,c}})():void 0)}),((o,s,n)=>{var a=n(14),l=n(31);o.exports=function(f,v,b){try{return a(l(Object.getOwnPropertyDescriptor(f,v)[b]))}catch{}}}),((o,s,n)=>{var a=n(21),l=String,f=TypeError;o.exports=function(v){if(typeof v=="object"||a(v))return v;throw f("Can't set "+l(v)+" as a prototype")}}),((o,s,n)=>{var a=n(45).f;o.exports=function(l,f,v){v in l||a(l,v,{configurable:!0,get:function(){return f[v]},set:function(b){f[v]=b}})}}),((o,s,n)=>{var a=n(21),l=n(20),f=n(71);o.exports=function(v,b,k){var h,c;return f&&a(h=b.constructor)&&h!==k&&l(c=h.prototype)&&c!==k.prototype&&f(v,c),v}}),((o,s,n)=>{var a=n(77);o.exports=function(l,f){return l===void 0?arguments.length<2?"":f:a(l)}}),((o,s,n)=>{var a=n(78),l=String;o.exports=function(f){if(a(f)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return l(f)}}),((o,s,n)=>{var a=n(79),l=n(21),f=n(15),v=n(34),b=v("toStringTag"),k=Object,h=f((function(){return arguments})())==="Arguments",c=function(p,g){try{return p[g]}catch{}};o.exports=a?f:function(p){var g,y,d;return p===void 0?"Undefined":p===null?"Null":typeof(y=c(g=k(p),b))=="string"?y:h?f(g):(d=f(g))==="Object"&&l(g.callee)?"Arguments":d}}),((o,s,n)=>{var a=n(34),l=a("toStringTag"),f={};f[l]="z",o.exports=String(f)==="[object z]"}),((o,s,n)=>{var a=n(20),l=n(44);o.exports=function(f,v){a(v)&&"cause"in v&&l(f,"cause",v.cause)}}),((o,s,n)=>{var a=n(44),l=n(82),f=n(83),v=Error.captureStackTrace;o.exports=function(b,k,h,c){f&&(v?v(b,k):a(b,"stack",l(h,c)))}}),((o,s,n)=>{var a=n(14),l=Error,f=a("".replace),v=(function(h){return String(l(h).stack)})("zxcasd"),b=/\n\s*at [^:]*:[^\n]*/,k=b.test(v);o.exports=function(h,c){if(k&&typeof h=="string"&&!l.prepareStackTrace)for(;c--;)h=f(h,b,"");return h}}),((o,s,n)=>{var a=n(7),l=n(11);o.exports=!a(function(){var f=Error("a");return"stack"in f?(Object.defineProperty(f,"stack",l(1,7)),f.stack!==7):!0})}),((o,s,n)=>{var a=n(48),l=n(14),f=n(77),v=n(85),b=URLSearchParams,k=b.prototype,h=l(k.append),c=l(k.delete),p=l(k.forEach),g=l([].push),y=new b("a=1&a=2&b=3");y.delete("a",1),y.delete("b",void 0),y+""!="a=2"&&a(k,"delete",function(d){var m=arguments.length,S=m<2?void 0:arguments[1];if(m&&S===void 0)return c(this,d);var x=[];p(this,function(V,K){g(x,{key:K,value:V})}),v(m,1);for(var T=f(d),j=f(S),L=0,w=0,M=!1,z=x.length,$;L<z;)$=x[L++],M||$.key===T?(M=!0,c(this,$.key)):w++;for(;w<z;)$=x[w++],$.key===T&&$.value===j||h(this,$.key,$.value)},{enumerable:!0,unsafe:!0})}),(o=>{var s=TypeError;o.exports=function(n,a){if(n<a)throw s("Not enough arguments");return n}}),((o,s,n)=>{var a=n(48),l=n(14),f=n(77),v=n(85),b=URLSearchParams,k=b.prototype,h=l(k.getAll),c=l(k.has),p=new b("a=1");(p.has("a",2)||!p.has("a",void 0))&&a(k,"has",function(y){var d=arguments.length,m=d<2?void 0:arguments[1];if(d&&m===void 0)return c(this,y);var S=h(this,y);v(d,1);for(var x=f(m),T=0;T<S.length;)if(S[T++]===x)return!0;return!1},{enumerable:!0,unsafe:!0})}),((o,s,n)=>{var a=n(6),l=n(14),f=n(88),v=URLSearchParams.prototype,b=l(v.forEach);a&&!("size"in v)&&f(v,"size",{get:function(){var h=0;return b(this,function(){h++}),h},configurable:!0,enumerable:!0})}),((o,s,n)=>{var a=n(49),l=n(45);o.exports=function(f,v,b){return b.get&&a(b.get,v,{getter:!0}),b.set&&a(b.set,v,{setter:!0}),l.f(f,v,b)}}),((o,s,n)=>{var a=n(3),l=n(40),f=n(64),v=n(90),b=n(92),k=n(7),h=k(function(){return[].push.call({length:4294967296},1)!==4294967297}),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(g){return g instanceof TypeError}},p=h||!c();a({target:"Array",proto:!0,arity:1,forced:p},{push:function(y){var d=l(this),m=f(d),S=arguments.length;b(m+S);for(var x=0;x<S;x++)d[m]=arguments[x],m++;return v(d,m),m}})}),((o,s,n)=>{var a=n(6),l=n(91),f=TypeError,v=Object.getOwnPropertyDescriptor,b=a&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(k){return k instanceof TypeError}})();o.exports=b?function(k,h){if(l(k)&&!v(k,"length").writable)throw f("Cannot set read only .length");return k.length=h}:function(k,h){return k.length=h}}),((o,s,n)=>{var a=n(15);o.exports=Array.isArray||function(f){return a(f)==="Array"}}),(o=>{var s=TypeError,n=9007199254740991;o.exports=function(a){if(a>n)throw s("Maximum allowed index exceeded");return a}}),((o,s,n)=>{var a=n(94),l=n(98).findLast,f=a.aTypedArray,v=a.exportTypedArrayMethod;v("findLast",function(k){return l(f(this),k,arguments.length>1?arguments[1]:void 0)})}),((o,s,n)=>{var a=n(95),l=n(6),f=n(4),v=n(21),b=n(20),k=n(39),h=n(78),c=n(32),p=n(44),g=n(48),y=n(88),d=n(25),m=n(96),S=n(71),x=n(34),T=n(41),j=n(52),L=j.enforce,w=j.get,M=f.Int8Array,z=M&&M.prototype,$=f.Uint8ClampedArray,V=$&&$.prototype,K=M&&m(M),J=z&&m(z),te=Object.prototype,se=f.TypeError,de=x("toStringTag"),pe=T("TYPED_ARRAY_TAG"),ie="TypedArrayConstructor",Y=a&&!!S&&h(f.opera)!=="Opera",I=!1,R,P,D,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},W={BigInt64Array:8,BigUint64Array:8},G=function(Z){if(!b(Z))return!1;var ne=h(Z);return ne==="DataView"||k(B,ne)||k(W,ne)},H=function(X){var Z=m(X);if(b(Z)){var ne=w(Z);return ne&&k(ne,ie)?ne[ie]:H(Z)}},A=function(X){if(!b(X))return!1;var Z=h(X);return k(B,Z)||k(W,Z)},O=function(X){if(A(X))return X;throw se("Target is not a typed array")},F=function(X){if(v(X)&&(!S||d(K,X)))return X;throw se(c(X)+" is not a typed array constructor")},_=function(X,Z,ne,ye){if(l){if(ne)for(var oe in B){var he=f[oe];if(he&&k(he.prototype,X))try{delete he.prototype[X]}catch{try{he.prototype[X]=Z}catch{}}}(!J[X]||ne)&&g(J,X,ne?Z:Y&&z[X]||Z,ye)}},N=function(X,Z,ne){var ye,oe;if(l){if(S){if(ne){for(ye in B)if(oe=f[ye],oe&&k(oe,X))try{delete oe[X]}catch{}}if(!K[X]||ne)try{return g(K,X,ne?Z:Y&&K[X]||Z)}catch{}else return}for(ye in B)oe=f[ye],oe&&(!oe[X]||ne)&&g(oe,X,Z)}};for(R in B)P=f[R],D=P&&P.prototype,D?L(D)[ie]=P:Y=!1;for(R in W)P=f[R],D=P&&P.prototype,D&&(L(D)[ie]=P);if((!Y||!v(K)||K===Function.prototype)&&(K=function(){throw se("Incorrect invocation")},Y))for(R in B)f[R]&&S(f[R],K);if((!Y||!J||J===te)&&(J=K.prototype,Y))for(R in B)f[R]&&S(f[R].prototype,J);if(Y&&m(V)!==J&&S(V,J),l&&!k(J,de)){I=!0,y(J,de,{configurable:!0,get:function(){return b(this)?this[pe]:void 0}});for(R in B)f[R]&&p(f[R],pe,R)}o.exports={NATIVE_ARRAY_BUFFER_VIEWS:Y,TYPED_ARRAY_TAG:I&&pe,aTypedArray:O,aTypedArrayConstructor:F,exportTypedArrayMethod:_,exportTypedArrayStaticMethod:N,getTypedArrayConstructor:H,isView:G,isTypedArray:A,TypedArray:K,TypedArrayPrototype:J}}),(o=>{o.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"}),((o,s,n)=>{var a=n(39),l=n(21),f=n(40),v=n(54),b=n(97),k=v("IE_PROTO"),h=Object,c=h.prototype;o.exports=b?h.getPrototypeOf:function(p){var g=f(p);if(a(g,k))return g[k];var y=g.constructor;return l(y)&&g instanceof y?y.prototype:g instanceof h?c:null}}),((o,s,n)=>{var a=n(7);o.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})}),((o,s,n)=>{var a=n(99),l=n(13),f=n(40),v=n(64),b=function(k){var h=k===1;return function(c,p,g){for(var y=f(c),d=l(y),m=a(p,g),S=v(d),x,T;S-- >0;)if(x=d[S],T=m(x,S,y),T)switch(k){case 0:return x;case 1:return S}return h?-1:void 0}};o.exports={findLast:b(0),findLastIndex:b(1)}}),((o,s,n)=>{var a=n(100),l=n(31),f=n(9),v=a(a.bind);o.exports=function(b,k){return l(b),k===void 0?b:f?v(b,k):function(){return b.apply(k,arguments)}}}),((o,s,n)=>{var a=n(15),l=n(14);o.exports=function(f){if(a(f)==="Function")return l(f)}}),((o,s,n)=>{var a=n(94),l=n(98).findLastIndex,f=a.aTypedArray,v=a.exportTypedArrayMethod;v("findLastIndex",function(k){return l(f(this),k,arguments.length>1?arguments[1]:void 0)})}),((o,s,n)=>{var a=n(4),l=n(8),f=n(94),v=n(64),b=n(103),k=n(40),h=n(7),c=a.RangeError,p=a.Int8Array,g=p&&p.prototype,y=g&&g.set,d=f.aTypedArray,m=f.exportTypedArrayMethod,S=!h(function(){var T=new Uint8ClampedArray(2);return l(y,T,{length:1,0:3},1),T[1]!==3}),x=S&&f.NATIVE_ARRAY_BUFFER_VIEWS&&h(function(){var T=new p(2);return T.set(1),T.set("2",1),T[0]!==0||T[1]!==2});m("set",function(j){d(this);var L=b(arguments.length>1?arguments[1]:void 0,1),w=k(j);if(S)return l(y,this,w,L);var M=this.length,z=v(w),$=0;if(z+L>M)throw c("Wrong length");for(;$<z;)this[L+$]=w[$++]},!S||x)}),((o,s,n)=>{var a=n(104),l=RangeError;o.exports=function(f,v){var b=a(f);if(b%v)throw l("Wrong offset");return b}}),((o,s,n)=>{var a=n(62),l=RangeError;o.exports=function(f){var v=a(f);if(v<0)throw l("The argument can't be less than 0");return v}}),((o,s,n)=>{var a=n(106),l=n(94),f=l.aTypedArray,v=l.exportTypedArrayMethod,b=l.getTypedArrayConstructor;v("toReversed",function(){return a(f(this),b(this))})}),((o,s,n)=>{var a=n(64);o.exports=function(l,f){for(var v=a(l),b=new f(v),k=0;k<v;k++)b[k]=l[v-k-1];return b}}),((o,s,n)=>{var a=n(94),l=n(14),f=n(31),v=n(108),b=a.aTypedArray,k=a.getTypedArrayConstructor,h=a.exportTypedArrayMethod,c=l(a.TypedArrayPrototype.sort);h("toSorted",function(g){g!==void 0&&f(g);var y=b(this),d=v(k(y),y);return c(d,g)})}),((o,s,n)=>{var a=n(64);o.exports=function(l,f){for(var v=0,b=a(f),k=new l(b);b>v;)k[v]=f[v++];return k}}),((o,s,n)=>{var a=n(110),l=n(94),f=n(111),v=n(62),b=n(112),k=l.aTypedArray,h=l.getTypedArrayConstructor,c=l.exportTypedArrayMethod,p=!!(function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(g){return g===8}})();c("with",function(g,y){var d=k(this),m=v(g),S=f(d)?b(y):+y;return a(d,h(d),m,S)},!p)}),((o,s,n)=>{var a=n(64),l=n(62),f=RangeError;o.exports=function(v,b,k,h){var c=a(v),p=l(k),g=p<0?c+p:p;if(g>=c||g<0)throw f("Incorrect index");for(var y=new b(c),d=0;d<c;d++)y[d]=d===g?h:v[d];return y}}),((o,s,n)=>{var a=n(78);o.exports=function(l){var f=a(l);return f==="BigInt64Array"||f==="BigUint64Array"}}),((o,s,n)=>{var a=n(19),l=TypeError;o.exports=function(f){var v=a(f,"number");if(typeof v=="number")throw l("Can't convert number to bigint");return BigInt(v)}}),((o,s,n)=>{var a=n(6),l=n(88),f=n(114),v=ArrayBuffer.prototype;a&&!("detached"in v)&&l(v,"detached",{configurable:!0,get:function(){return f(this)}})}),((o,s,n)=>{var a=n(14),l=n(115),f=a(ArrayBuffer.prototype.slice);o.exports=function(v){if(l(v)!==0)return!1;try{return f(v,0,0),!1}catch{return!0}}}),((o,s,n)=>{var a=n(72),l=n(15),f=TypeError;o.exports=a(ArrayBuffer.prototype,"byteLength","get")||function(v){if(l(v)!=="ArrayBuffer")throw f("ArrayBuffer expected");return v.byteLength}}),((o,s,n)=>{var a=n(3),l=n(117);l&&a({target:"ArrayBuffer",proto:!0},{transfer:function(){return l(this,arguments.length?arguments[0]:void 0,!0)}})}),((o,s,n)=>{var a=n(4),l=n(14),f=n(72),v=n(118),b=n(114),k=n(115),h=n(119),c=a.TypeError,p=a.structuredClone,g=a.ArrayBuffer,y=a.DataView,d=Math.min,m=g.prototype,S=y.prototype,x=l(m.slice),T=f(m,"resizable","get"),j=f(m,"maxByteLength","get"),L=l(S.getInt8),w=l(S.setInt8);o.exports=h&&function(M,z,$){var V=k(M),K=z===void 0?V:v(z),J=!T||!T(M);if(b(M))throw c("ArrayBuffer is detached");var te=p(M,{transfer:[M]});if(V===K&&($||J))return te;if(V>=K&&(!$||J))return x(te,0,K);for(var se=$&&!J&&j?{maxByteLength:j(te)}:void 0,de=new g(K,se),pe=new y(te),ie=new y(de),Y=d(K,V),I=0;I<Y;I++)w(ie,I,L(pe,I));return de}}),((o,s,n)=>{var a=n(62),l=n(65),f=RangeError;o.exports=function(v){if(v===void 0)return 0;var b=a(v),k=l(b);if(b!==k)throw f("Wrong length or index");return k}}),((o,s,n)=>{var a=n(4),l=n(7),f=n(28),v=n(120),b=n(121),k=n(122),h=a.structuredClone;o.exports=!!h&&!l(function(){if(b&&f>92||k&&f>94||v&&f>97)return!1;var c=new ArrayBuffer(8),p=h(c,{transfer:[c]});return c.byteLength!==0||p.byteLength!==8})}),((o,s,n)=>{var a=n(121),l=n(122);o.exports=!a&&!l&&typeof window=="object"&&typeof document=="object"}),(o=>{o.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"}),((o,s,n)=>{var a=n(4),l=n(15);o.exports=l(a.process)==="process"}),((o,s,n)=>{var a=n(3),l=n(117);l&&a({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return l(this,arguments.length?arguments[0]:void 0,!1)}})}),((__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0,__w_pdfjs_require__(84),__w_pdfjs_require__(86),__w_pdfjs_require__(87),__w_pdfjs_require__(2),__w_pdfjs_require__(93),__w_pdfjs_require__(101),__w_pdfjs_require__(102),__w_pdfjs_require__(105),__w_pdfjs_require__(107),__w_pdfjs_require__(109),__w_pdfjs_require__(113),__w_pdfjs_require__(116),__w_pdfjs_require__(123),__w_pdfjs_require__(89),__w_pdfjs_require__(125),__w_pdfjs_require__(136),__w_pdfjs_require__(138),__w_pdfjs_require__(141),__w_pdfjs_require__(143),__w_pdfjs_require__(145),__w_pdfjs_require__(147),__w_pdfjs_require__(149),__w_pdfjs_require__(152);var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(163),_display_utils=__w_pdfjs_require__(168),_font_loader=__w_pdfjs_require__(171),_displayNode_utils=__w_pdfjs_require__(172),_canvas=__w_pdfjs_require__(173),_worker_options=__w_pdfjs_require__(176),_message_handler=__w_pdfjs_require__(177),_metadata=__w_pdfjs_require__(178),_optional_content_config=__w_pdfjs_require__(179),_transport_stream=__w_pdfjs_require__(180),_displayFetch_stream=__w_pdfjs_require__(181),_displayNetwork=__w_pdfjs_require__(184),_displayNode_stream=__w_pdfjs_require__(185),_displaySvg=__w_pdfjs_require__(186),_xfa_text=__w_pdfjs_require__(194);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(o){if(typeof o=="string"||o instanceof URL?o={url:o}:(0,_util.isArrayBuffer)(o)&&(o={data:o}),typeof o!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!o.url&&!o.data&&!o.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const s=new PDFDocumentLoadingTask,{docId:n}=s,a=o.url?getUrlProp(o.url):null,l=o.data?getDataProp(o.data):null,f=o.httpHeaders||null,v=o.withCredentials===!0,b=o.password??null,k=o.range instanceof PDFDataRangeTransport?o.range:null,h=Number.isInteger(o.rangeChunkSize)&&o.rangeChunkSize>0?o.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let c=o.worker instanceof PDFWorker?o.worker:null;const p=o.verbosity,g=typeof o.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(o.docBaseUrl)?o.docBaseUrl:null,y=typeof o.cMapUrl=="string"?o.cMapUrl:null,d=o.cMapPacked!==!1,m=o.CMapReaderFactory||DefaultCMapReaderFactory,S=typeof o.standardFontDataUrl=="string"?o.standardFontDataUrl:null,x=o.StandardFontDataFactory||DefaultStandardFontDataFactory,T=o.stopAtErrors!==!0,j=Number.isInteger(o.maxImageSize)&&o.maxImageSize>-1?o.maxImageSize:-1,L=o.isEvalSupported!==!1,w=typeof o.isOffscreenCanvasSupported=="boolean"?o.isOffscreenCanvasSupported:!_util.isNodeJS,M=Number.isInteger(o.canvasMaxAreaInBytes)?o.canvasMaxAreaInBytes:-1,z=typeof o.disableFontFace=="boolean"?o.disableFontFace:_util.isNodeJS,$=o.fontExtraProperties===!0,V=o.enableXfa===!0,K=o.ownerDocument||globalThis.document,J=o.disableRange===!0,te=o.disableStream===!0,se=o.disableAutoFetch===!0,de=o.pdfBug===!0,pe=k?k.length:o.length??NaN,ie=typeof o.useSystemFonts=="boolean"?o.useSystemFonts:!_util.isNodeJS&&!z,Y=typeof o.useWorkerFetch=="boolean"?o.useWorkerFetch:m===_display_utils.DOMCMapReaderFactory&&x===_display_utils.DOMStandardFontDataFactory&&y&&S&&(0,_display_utils.isValidFetchUrl)(y,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(S,document.baseURI),I=o.canvasFactory||new DefaultCanvasFactory({ownerDocument:K}),R=o.filterFactory||new DefaultFilterFactory({docId:n,ownerDocument:K}),P=null;(0,_util.setVerbosityLevel)(p);const D={canvasFactory:I,filterFactory:R};if(Y||(D.cMapReaderFactory=new m({baseUrl:y,isCompressed:d}),D.standardFontDataFactory=new x({baseUrl:S})),!c){const G={verbosity:p,port:_worker_options.GlobalWorkerOptions.workerPort};c=G.port?PDFWorker.fromPort(G):new PDFWorker(G),s._worker=c}const B={docId:n,apiVersion:"3.11.174",data:l,password:b,disableAutoFetch:se,rangeChunkSize:h,length:pe,docBaseUrl:g,enableXfa:V,evaluatorOptions:{maxImageSize:j,disableFontFace:z,ignoreErrors:T,isEvalSupported:L,isOffscreenCanvasSupported:w,canvasMaxAreaInBytes:M,fontExtraProperties:$,useSystemFonts:ie,cMapUrl:Y?y:null,standardFontDataUrl:Y?S:null}},W={ignoreErrors:T,isEvalSupported:L,disableFontFace:z,fontExtraProperties:$,enableXfa:V,ownerDocument:K,disableAutoFetch:se,pdfBug:de,styleElement:P};return c.promise.then(function(){if(s.destroyed)throw new Error("Loading aborted");const G=_fetchDocument(c,B),H=new Promise(function(A){let O;k?O=new _transport_stream.PDFDataTransportStream({length:pe,initialData:k.initialData,progressiveDone:k.progressiveDone,contentDispositionFilename:k.contentDispositionFilename,disableRange:J,disableStream:te},k):l||(O=(_=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(_):(0,_display_utils.isValidFetchUrl)(_.url)?new _displayFetch_stream.PDFFetchStream(_):new _displayNetwork.PDFNetworkStream(_))({url:a,length:pe,httpHeaders:f,withCredentials:v,rangeChunkSize:h,disableRange:J,disableStream:te})),A(O)});return Promise.all([G,H]).then(function(A){let[O,F]=A;if(s.destroyed)throw new Error("Loading aborted");const _=new _message_handler.MessageHandler(n,O,c.port),N=new WorkerTransport(_,s,F,W,D);s._transport=N,_.send("Ready",null)})}).catch(s._capability.reject),s}async function _fetchDocument(o,s){if(o.destroyed)throw new Error("Worker was destroyed");const n=await o.messageHandler.sendWithPromise("GetDocRequest",s,s.data?[s.data.buffer]:null);if(o.destroyed)throw new Error("Worker was destroyed");return n}function getUrlProp(o){if(o instanceof URL)return o.href;try{return new URL(o,window.location).href}catch{if(_util.isNodeJS&&typeof o=="string")return o}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(o){if(_util.isNodeJS&&typeof Buffer<"u"&&o instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength)return o;if(typeof o=="string")return(0,_util.stringToBytes)(o);if(typeof o=="object"&&!isNaN(o?.length)||(0,_util.isArrayBuffer)(o))return new Uint8Array(o);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(s){throw this._worker?.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(s,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=s,this.initialData=n,this.progressiveDone=a,this.contentDispositionFilename=l,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(s){this._rangeListeners.push(s)}addProgressListener(s){this._progressListeners.push(s)}addProgressiveReadListener(s){this._progressiveReadListeners.push(s)}addProgressiveDoneListener(s){this._progressiveDoneListeners.push(s)}onDataRange(s,n){for(const a of this._rangeListeners)a(s,n)}onDataProgress(s,n){this._readyCapability.promise.then(()=>{for(const a of this._progressListeners)a(s,n)})}onDataProgressiveRead(s){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(s)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const s of this._progressiveDoneListeners)s()})}transportReady(){this._readyCapability.resolve()}requestDataRange(s,n){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(s,n){this._pdfInfo=s,this._transport=n,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(a=>{if(!a)return a;const l=[];for(const f in a)l.push(...a[f]);return l}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(s){return this._transport.getPage(s)}getPageIndex(s){return this._transport.getPageIndex(s)}getDestinations(){return this._transport.getDestinations()}getDestination(s){return this._transport.getDestination(s)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(s||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(s,n,a){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;this._pageIndex=s,this._pageInfo=n,this._transport=a,this._stats=l?new _display_utils.StatTimer:null,this._pdfBug=l,this.commonObjs=a.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:s,rotation:n=this.rotate,offsetX:a=0,offsetY:l=0,dontFlip:f=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:s,rotation:n,offsetX:a,offsetY:l,dontFlip:f})}getAnnotations(){let{intent:s="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this._transport.getRenderingIntent(s);return this._transport.getAnnotations(this._pageIndex,n.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(s){let{canvasContext:n,viewport:a,intent:l="display",annotationMode:f=_util.AnnotationMode.ENABLE,transform:v=null,background:b=null,optionalContentConfigPromise:k=null,annotationCanvasMap:h=null,pageColors:c=null,printAnnotationStorage:p=null}=s;this._stats?.time("Overall");const g=this._transport.getRenderingIntent(l,f,p);this.#t=!1,this.#r(),k||(k=this._transport.getOptionalContentConfig());let y=this._intentStates.get(g.cacheKey);y||(y=Object.create(null),this._intentStates.set(g.cacheKey,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const d=!!(g.renderingIntent&_util.RenderingIntentFlag.PRINT);y.displayReadyCapability||(y.displayReadyCapability=new _util.PromiseCapability,y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));const m=T=>{y.renderTasks.delete(S),(this._maybeCleanupAfterRender||d)&&(this.#t=!0),this.#n(!d),T?(S.capability.reject(T),this._abortOperatorList({intentState:y,reason:T instanceof Error?T:new Error(T)})):S.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},S=new InternalRenderTask({callback:m,params:{canvasContext:n,viewport:a,transform:v,background:b},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!d,pdfBug:this._pdfBug,pageColors:c});(y.renderTasks||=new Set).add(S);const x=S.task;return Promise.all([y.displayReadyCapability.promise,k]).then(T=>{let[j,L]=T;if(this.destroyed){m();return}this._stats?.time("Rendering"),S.initializeGraphics({transparency:j,optionalContentConfig:L}),S.operatorListChanged()}).catch(m),x}getOperatorList(){let{intent:s="display",annotationMode:n=_util.AnnotationMode.ENABLE,printAnnotationStorage:a=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function l(){v.operatorList.lastChunk&&(v.opListReadCapability.resolve(v.operatorList),v.renderTasks.delete(b))}const f=this._transport.getRenderingIntent(s,n,a,!0);let v=this._intentStates.get(f.cacheKey);v||(v=Object.create(null),this._intentStates.set(f.cacheKey,v));let b;return v.opListReadCapability||(b=Object.create(null),b.operatorListChanged=l,v.opListReadCapability=new _util.PromiseCapability,(v.renderTasks||=new Set).add(b),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(f)),v.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:s=!1,disableNormalization:n=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:s===!0,disableNormalization:n===!0},{highWaterMark:100,size(l){return l.items.length}})}getTextContent(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(a=>_xfa_text.XfaText.textContent(a));const n=this.streamTextContent(s);return new Promise(function(a,l){function f(){v.read().then(function(k){let{value:h,done:c}=k;if(c){a(b);return}Object.assign(b.styles,h.styles),b.items.push(...h.items),f()},l)}const v=n.getReader(),b={items:[],styles:Object.create(null)};f()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const s=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const a of n.renderTasks)s.push(a.completed),a.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(s)}cleanup(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.#t=!0;const n=this.#n(!1);return s&&n&&(this._stats&&=new _display_utils.StatTimer),n}#n(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.#r(),!this.#t||this.destroyed)return!1;if(s)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:n,operatorList:a}of this._intentStates.values())if(n.size>0||!a.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(s,n){const a=this._intentStates.get(n);a&&(this._stats?.timeEnd("Page Request"),a.displayReadyCapability?.resolve(s))}_renderPageChunk(s,n){for(let a=0,l=s.length;a<l;a++)n.operatorList.fnArray.push(s.fnArray[a]),n.operatorList.argsArray.push(s.argsArray[a]);n.operatorList.lastChunk=s.lastChunk,n.operatorList.separateAnnots=s.separateAnnots;for(const a of n.renderTasks)a.operatorListChanged();s.lastChunk&&this.#n(!0)}_pumpOperatorList(s){let{renderingIntent:n,cacheKey:a,annotationStorageSerializable:l}=s;const{map:f,transfers:v}=l,k=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:a,annotationStorage:f},v).getReader(),h=this._intentStates.get(a);h.streamReader=k;const c=()=>{k.read().then(p=>{let{value:g,done:y}=p;if(y){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,h),c())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const g of h.renderTasks)g.operatorListChanged();this.#n(!0)}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else if(h.opListReadCapability)h.opListReadCapability.reject(p);else throw p}})};c()}_abortOperatorList(s){let{intentState:n,reason:a,force:l=!1}=s;if(n.streamReader){if(n.streamReaderCancelTimeout&&(clearTimeout(n.streamReaderCancelTimeout),n.streamReaderCancelTimeout=null),!l){if(n.renderTasks.size>0)return;if(a instanceof _display_utils.RenderingCancelledException){let f=RENDERING_CANCELLED_TIMEOUT;a.extraDelay>0&&a.extraDelay<1e3&&(f+=a.extraDelay),n.streamReaderCancelTimeout=setTimeout(()=>{n.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:n,reason:a,force:!0})},f);return}}if(n.streamReader.cancel(new _util.AbortException(a.message)).catch(()=>{}),n.streamReader=null,!this._transport.destroyed){for(const[f,v]of this._intentStates)if(v===n){this._intentStates.delete(f);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(s,n){const a={data:structuredClone(s,null)};this.#t.then(()=>{for(const l of this.#e)l.call(this,a)})}addEventListener(s,n){this.#e.add(n)}removeEventListener(s,n){this.#e.delete(n)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const o=document?.currentScript?.src;o&&(PDFWorkerUtil.fallbackWorkerSrc=o.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(o,s){let n;try{if(n=new URL(o),!n.origin||n.origin==="null")return!1}catch{return!1}const a=new URL(s,n);return n.origin===a.origin},PDFWorkerUtil.createCDNWrapper=function(o){const s=`importScripts("${o}");`;return URL.createObjectURL(new Blob([s]))}}class PDFWorker{static#workerPorts;constructor(){let{name:o=null,port:s=null,verbosity:n=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.name=o,this.destroyed=!1,this.verbosity=n,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,s){if(PDFWorker.#workerPorts?.has(s))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(s,this),this._initializeFromPort(s);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(o){this._port=o,this._messageHandler=new _message_handler.MessageHandler("main","worker",o),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:o}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,o)||(o=PDFWorkerUtil.createCDNWrapper(new URL(o,window.location).href));const s=new Worker(o),n=new _message_handler.MessageHandler("main","worker",s),a=()=>{s.removeEventListener("error",l),n.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=()=>{this._webWorker||a()};s.addEventListener("error",l),n.on("test",v=>{if(s.removeEventListener("error",l),this.destroyed){a();return}v?(this._messageHandler=n,this._port=s,this._webWorker=s,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),s.terminate())}),n.on("ready",v=>{if(s.removeEventListener("error",l),this.destroyed){a();return}try{f()}catch{this._setupFakeWorker()}});const f=()=>{const v=new Uint8Array;n.send("test",v,[v.buffer])};f();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(o=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const s=new LoopbackPort;this._port=s;const n=`fake${PDFWorkerUtil.fakeWorkerId++}`,a=new _message_handler.MessageHandler(n+"_worker",n,s);o.setup(a,s);const l=new _message_handler.MessageHandler(n,n+"_worker",s);this._messageHandler=l,this._readyCapability.resolve(),l.send("configure",{verbosity:this.verbosity})}).catch(o=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${o.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(o){if(!o?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const s=this.#workerPorts?.get(o.port);if(s){if(s._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return s}return new PDFWorker(o)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(s,n,a,l,f){this.messageHandler=s,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:l.ownerDocument,styleElement:l.styleElement}),this._params=l,this.canvasFactory=f.canvasFactory,this.filterFactory=f.filterFactory,this.cMapReaderFactory=f.cMapReaderFactory,this.standardFontDataFactory=f.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#o(s){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const a=this.#e.get(s);if(a)return a;const l=this.messageHandler.sendWithPromise(s,n);return this.#e.set(s,l),l}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(s){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=_util.RenderingIntentFlag.DISPLAY,v=_annotation_storage.SerializableEmpty;switch(s){case"any":f=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":f=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${s}`)}switch(n){case _util.AnnotationMode.DISABLE:f+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:f+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:f+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,v=(f&_util.RenderingIntentFlag.PRINT&&a instanceof _annotation_storage.PrintAnnotationStorage?a:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${n}`)}return l&&(f+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:f,cacheKey:`${f}_${v.hash}`,annotationStorageSerializable:v}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const s=[];for(const a of this.#t.values())s.push(a._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return s.push(n),Promise.all(s).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:s,loadingTask:n}=this;s.on("GetReader",(a,l)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=f=>{this._lastProgress={loaded:f.loaded,total:f.total}},l.onPull=()=>{this._fullReader.read().then(function(f){let{value:v,done:b}=f;if(b){l.close();return}(0,_util.assert)(v instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(v),1,[v])}).catch(f=>{l.error(f)})},l.onCancel=f=>{this._fullReader.cancel(f),l.ready.catch(v=>{if(!this.destroyed)throw v})}}),s.on("ReaderHeadersReady",a=>{const l=new _util.PromiseCapability,f=this._fullReader;return f.headersReady.then(()=>{(!f.isStreamingSupported||!f.isRangeSupported)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),f.onProgress=v=>{n.onProgress?.({loaded:v.loaded,total:v.total})}),l.resolve({isStreamingSupported:f.isStreamingSupported,isRangeSupported:f.isRangeSupported,contentLength:f.contentLength})},l.reject),l.promise}),s.on("GetRangeReader",(a,l)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const f=this._networkStream.getRangeReader(a.begin,a.end);if(!f){l.close();return}l.onPull=()=>{f.read().then(function(v){let{value:b,done:k}=v;if(k){l.close();return}(0,_util.assert)(b instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(b),1,[b])}).catch(v=>{l.error(v)})},l.onCancel=v=>{f.cancel(v),l.ready.catch(b=>{if(!this.destroyed)throw b})}}),s.on("GetDoc",a=>{let{pdfInfo:l}=a;this._numPages=l.numPages,this._htmlForXfa=l.htmlForXfa,delete l.htmlForXfa,n._capability.resolve(new PDFDocumentProxy(l,this))}),s.on("DocException",function(a){let l;switch(a.name){case"PasswordException":l=new _util.PasswordException(a.message,a.code);break;case"InvalidPDFException":l=new _util.InvalidPDFException(a.message);break;case"MissingPDFException":l=new _util.MissingPDFException(a.message);break;case"UnexpectedResponseException":l=new _util.UnexpectedResponseException(a.message,a.status);break;case"UnknownErrorException":l=new _util.UnknownErrorException(a.message,a.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}n._capability.reject(l)}),s.on("PasswordRequest",a=>{if(this.#r=new _util.PromiseCapability,n.onPassword){const l=f=>{f instanceof Error?this.#r.reject(f):this.#r.resolve({password:f})};try{n.onPassword(l,a.code)}catch(f){this.#r.reject(f)}}else this.#r.reject(new _util.PasswordException(a.message,a.code));return this.#r.promise}),s.on("DataLoaded",a=>{n.onProgress?.({loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),s.on("StartRenderPage",a=>{if(this.destroyed)return;this.#t.get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),s.on("commonobj",a=>{let[l,f,v]=a;if(!this.destroyed&&!this.commonObjs.has(l))switch(f){case"Font":const b=this._params;if("error"in v){const c=v.error;(0,_util.warn)(`Error during font loading: ${c}`),this.commonObjs.resolve(l,c);break}const k=b.pdfBug&&globalThis.FontInspector?.enabled?(c,p)=>globalThis.FontInspector.fontAdded(c,p):null,h=new _font_loader.FontFaceObject(v,{isEvalSupported:b.isEvalSupported,disableFontFace:b.disableFontFace,ignoreErrors:b.ignoreErrors,inspectFont:k});this.fontLoader.bind(h).catch(c=>s.sendWithPromise("FontFallback",{id:l})).finally(()=>{!b.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(l,h)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(l,v);break;default:throw new Error(`Got unknown common object type ${f}`)}}),s.on("obj",a=>{let[l,f,v,b]=a;if(this.destroyed)return;const k=this.#t.get(f);if(!k.objs.has(l))switch(v){case"Image":if(k.objs.resolve(l,b),b){let h;if(b.bitmap){const{width:c,height:p}=b;h=c*p*4}else h=b.data?.length||0;h>_util.MAX_IMAGE_SIZE_TO_CACHE&&(k._maybeCleanupAfterRender=!0)}break;case"Pattern":k.objs.resolve(l,b);break;default:throw new Error(`Got unknown object type ${v}`)}}),s.on("DocProgress",a=>{this.destroyed||n.onProgress?.({loaded:a.loaded,total:a.total})}),s.on("FetchBuiltInCMap",a=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(a):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),s.on("FetchStandardFontData",a=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(a):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:s,transfers:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:s,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(s){if(!Number.isInteger(s)||s<=0||s>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=s-1,a=this.#n.get(n);if(a)return a;const l=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(f=>{if(this.destroyed)throw new Error("Transport destroyed");const v=new PDFPageProxy(n,f,this,this._params.pdfBug);return this.#t.set(n,v),v});return this.#n.set(n,l),l}getPageIndex(s){return typeof s!="object"||s===null||!Number.isInteger(s.num)||s.num<0||!Number.isInteger(s.gen)||s.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:s.num,gen:s.gen})}getAnnotations(s,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:s,intent:n})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(s){return typeof s!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:s})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(s){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:s})}getStructTree(s){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:s})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(s=>new _optional_content_config.OptionalContentConfig(s))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const s="GetMetadata",n=this.#e.get(s);if(n)return n;const a=this.messageHandler.sendWithPromise(s,null).then(l=>({info:l[0],metadata:l[1]?new _metadata.Metadata(l[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(s,a),a}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),s||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:s,enableXfa:n}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:s,enableXfa:n})}}class PDFObjects{#e=Object.create(null);#t(s){return this.#e[s]||={capability:new _util.PromiseCapability,data:null}}get(s){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(n){const l=this.#t(s);return l.capability.promise.then(()=>n(l.data)),null}const a=this.#e[s];if(!a?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${s}.`);return a.data}has(s){return this.#e[s]?.capability.settled||!1}resolve(s){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const a=this.#t(s);a.data=n,a.capability.resolve()}clear(){for(const s in this.#e){const{data:n}=this.#e[s];n?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(s){this.#e=s,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.#e.cancel(null,s)}get separateAnnots(){const{separateAnnots:s}=this.#e.operatorList;if(!s)return!1;const{annotationCanvasMap:n}=this.#e;return s.form||s.canvas&&n?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor(s){let{callback:n,params:a,objs:l,commonObjs:f,annotationCanvasMap:v,operatorList:b,pageIndex:k,canvasFactory:h,filterFactory:c,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:y=null}=s;this.callback=n,this.params=a,this.objs=l,this.commonObjs=f,this.annotationCanvasMap=v,this.operatorListIdx=null,this.operatorList=b,this._pageIndex=k,this.canvasFactory=h,this.filterFactory=c,this._pdfBug=g,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=a.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(s){let{transparency:n=!1,optionalContentConfig:a}=s;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:l,viewport:f,transform:v,background:b}=this.params;this.gfx=new _canvas.CanvasGraphics(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:a},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:v,viewport:f,transparency:n,background:b}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(s||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build}),((o,s,n)=>{var a=n(3),l=n(126),f=n(135);a({target:"Set",proto:!0,real:!0,forced:!f("difference")},{difference:l})}),((o,s,n)=>{var a=n(127),l=n(128),f=n(129),v=n(132),b=n(133),k=n(130),h=n(131),c=l.has,p=l.remove;o.exports=function(y){var d=a(this),m=b(y),S=f(d);return v(d)<=m.size?k(d,function(x){m.includes(x)&&p(S,x)}):h(m.getIterator(),function(x){c(d,x)&&p(S,x)}),S}}),((o,s,n)=>{var a=n(128).has;o.exports=function(l){return a(l),l}}),((o,s,n)=>{var a=n(14),l=Set.prototype;o.exports={Set,add:a(l.add),has:a(l.has),remove:a(l.delete),proto:l}}),((o,s,n)=>{var a=n(128),l=n(130),f=a.Set,v=a.add;o.exports=function(b){var k=new f;return l(b,function(h){v(k,h)}),k}}),((o,s,n)=>{var a=n(14),l=n(131),f=n(128),v=f.Set,b=f.proto,k=a(b.forEach),h=a(b.keys),c=h(new v).next;o.exports=function(p,g,y){return y?l({iterator:h(p),next:c},g):k(p,g)}}),((o,s,n)=>{var a=n(8);o.exports=function(l,f,v){for(var b=v?l:l.iterator,k=l.next,h,c;!(h=a(k,b)).done;)if(c=f(h.value),c!==void 0)return c}}),((o,s,n)=>{var a=n(72),l=n(128);o.exports=a(l.proto,"size","get")||function(f){return f.size}}),((o,s,n)=>{var a=n(31),l=n(47),f=n(8),v=n(62),b=n(134),k="Invalid size",h=RangeError,c=TypeError,p=Math.max,g=function(y,d,m,S){this.set=y,this.size=d,this.has=m,this.keys=S};g.prototype={getIterator:function(){return b(l(f(this.keys,this.set)))},includes:function(y){return f(this.has,this.set,y)}},o.exports=function(y){l(y);var d=+y.size;if(d!==d)throw c(k);var m=v(d);if(m<0)throw h(k);return new g(y,p(m,0),a(y.has),a(y.keys))}}),(o=>{o.exports=function(s){return{iterator:s,next:s.next,done:!1}}}),((o,s,n)=>{var a=n(24),l=function(f){return{size:f,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};o.exports=function(f){var v=a("Set");try{new v()[f](l(0));try{return new v()[f](l(-1)),!1}catch{return!0}}catch{return!1}}}),((o,s,n)=>{var a=n(3),l=n(7),f=n(137),v=n(135),b=!v("intersection")||l(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});a({target:"Set",proto:!0,real:!0,forced:b},{intersection:f})}),((o,s,n)=>{var a=n(127),l=n(128),f=n(132),v=n(133),b=n(130),k=n(131),h=l.Set,c=l.add,p=l.has;o.exports=function(y){var d=a(this),m=v(y),S=new h;return f(d)>m.size?k(m.getIterator(),function(x){p(d,x)&&c(S,x)}):b(d,function(x){m.includes(x)&&c(S,x)}),S}}),((o,s,n)=>{var a=n(3),l=n(139),f=n(135);a({target:"Set",proto:!0,real:!0,forced:!f("isDisjointFrom")},{isDisjointFrom:l})}),((o,s,n)=>{var a=n(127),l=n(128).has,f=n(132),v=n(133),b=n(130),k=n(131),h=n(140);o.exports=function(p){var g=a(this),y=v(p);if(f(g)<=y.size)return b(g,function(m){if(y.includes(m))return!1},!0)!==!1;var d=y.getIterator();return k(d,function(m){if(l(g,m))return h(d,"normal",!1)})!==!1}}),((o,s,n)=>{var a=n(8),l=n(47),f=n(30);o.exports=function(v,b,k){var h,c;l(v);try{if(h=f(v,"return"),!h){if(b==="throw")throw k;return k}h=a(h,v)}catch(p){c=!0,h=p}if(b==="throw")throw k;if(c)throw h;return l(h),k}}),((o,s,n)=>{var a=n(3),l=n(142),f=n(135);a({target:"Set",proto:!0,real:!0,forced:!f("isSubsetOf")},{isSubsetOf:l})}),((o,s,n)=>{var a=n(127),l=n(132),f=n(130),v=n(133);o.exports=function(k){var h=a(this),c=v(k);return l(h)>c.size?!1:f(h,function(p){if(!c.includes(p))return!1},!0)!==!1}}),((o,s,n)=>{var a=n(3),l=n(144),f=n(135);a({target:"Set",proto:!0,real:!0,forced:!f("isSupersetOf")},{isSupersetOf:l})}),((o,s,n)=>{var a=n(127),l=n(128).has,f=n(132),v=n(133),b=n(131),k=n(140);o.exports=function(c){var p=a(this),g=v(c);if(f(p)<g.size)return!1;var y=g.getIterator();return b(y,function(d){if(!l(p,d))return k(y,"normal",!1)})!==!1}}),((o,s,n)=>{var a=n(3),l=n(146),f=n(135);a({target:"Set",proto:!0,real:!0,forced:!f("symmetricDifference")},{symmetricDifference:l})}),((o,s,n)=>{var a=n(127),l=n(128),f=n(129),v=n(133),b=n(131),k=l.add,h=l.has,c=l.remove;o.exports=function(g){var y=a(this),d=v(g).getIterator(),m=f(y);return b(d,function(S){h(y,S)?c(m,S):k(m,S)}),m}}),((o,s,n)=>{var a=n(3),l=n(148),f=n(135);a({target:"Set",proto:!0,real:!0,forced:!f("union")},{union:l})}),((o,s,n)=>{var a=n(127),l=n(128).add,f=n(129),v=n(133),b=n(131);o.exports=function(h){var c=a(this),p=v(h).getIterator(),g=f(c);return b(p,function(y){l(g,y)}),g}}),((o,s,n)=>{var a=n(3),l=n(4),f=n(24),v=n(11),b=n(45).f,k=n(39),h=n(150),c=n(75),p=n(76),g=n(151),y=n(82),d=n(6),m=n(36),S="DOMException",x=f("Error"),T=f(S),j=function(){h(this,L);var ie=arguments.length,Y=p(ie<1?void 0:arguments[0]),I=p(ie<2?void 0:arguments[1],"Error"),R=new T(Y,I),P=x(Y);return P.name=S,b(R,"stack",v(1,y(P.stack,1))),c(R,this,j),R},L=j.prototype=T.prototype,w="stack"in x(S),M="stack"in new T(1,2),z=T&&d&&Object.getOwnPropertyDescriptor(l,S),$=!!z&&!(z.writable&&z.configurable),V=w&&!$&&!M;a({global:!0,constructor:!0,forced:m||V},{DOMException:V?j:T});var K=f(S),J=K.prototype;if(J.constructor!==K){m||b(J,"constructor",v(1,K));for(var te in g)if(k(g,te)){var se=g[te],de=se.s;k(K,de)||b(K,de,v(6,se.c))}}}),((o,s,n)=>{var a=n(25),l=TypeError;o.exports=function(f,v){if(a(v,f))return f;throw l("Incorrect invocation")}}),(o=>{o.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}}),((o,s,n)=>{var a=n(36),l=n(3),f=n(4),v=n(24),b=n(14),k=n(7),h=n(41),c=n(21),p=n(153),g=n(17),y=n(20),d=n(23),m=n(154),S=n(47),x=n(78),T=n(39),j=n(159),L=n(44),w=n(64),M=n(85),z=n(160),$=n(162),V=n(128),K=n(83),J=n(119),te=f.Object,se=f.Array,de=f.Date,pe=f.Error,ie=f.EvalError,Y=f.RangeError,I=f.ReferenceError,R=f.SyntaxError,P=f.TypeError,D=f.URIError,B=f.PerformanceMark,W=f.WebAssembly,G=W&&W.CompileError||pe,H=W&&W.LinkError||pe,A=W&&W.RuntimeError||pe,O=v("DOMException"),F=$.Map,_=$.has,N=$.get,X=$.set,Z=V.Set,ne=V.add,ye=v("Object","keys"),oe=b([].push),he=b((!0).valueOf),ge=b(1 .valueOf),me=b("".valueOf),ve=b(de.prototype.getTime),Ce=h("structuredClone"),Re="DataCloneError",Fe="Transferring",Ue=function(ae){return!k(function(){var Te=new f.Set([7]),je=ae(Te),Ie=ae(te(7));return je===Te||!je.has(7)||typeof Ie!="object"||+Ie!=7})&&ae},He=function(ae,Te){return!k(function(){var je=new Te,Ie=ae({a:je,b:je});return!(Ie&&Ie.a===Ie.b&&Ie.a instanceof Te&&Ie.a.stack===je.stack)})},Ye=function(ae){return!k(function(){var Te=ae(new f.AggregateError([1],Ce,{cause:3}));return Te.name!=="AggregateError"||Te.errors[0]!==1||Te.message!==Ce||Te.cause!==3})},rt=f.structuredClone,dt=a||!He(rt,pe)||!He(rt,O)||!Ye(rt),Nt=!rt&&Ue(function(ae){return new B(Ce,{detail:ae}).detail}),qe=Ue(rt)||Nt,pt=function(ae){throw new O("Uncloneable type: "+ae,Re)},et=function(ae,Te){throw new O((Te||"Cloning")+" of "+ae+" cannot be properly polyfilled in this engine",Re)},Nn=function(ae,Te){return qe||et(Te),qe(ae)},Jn=function(){var ae;try{ae=new f.DataTransfer}catch{try{ae=new f.ClipboardEvent("").clipboardData}catch{}}return ae&&ae.items&&ae.files?ae:null},mn=function(ae,Te,je){if(_(Te,ae))return N(Te,ae);var Ie=je||x(ae),Ne,$e,we,Ke,We,Ve;if(Ie==="SharedArrayBuffer")qe?Ne=qe(ae):Ne=ae;else{var st=f.DataView;!st&&typeof ae.slice!="function"&&et("ArrayBuffer");try{if(typeof ae.slice=="function"&&!ae.resizable)Ne=ae.slice(0);else for($e=ae.byteLength,we=("maxByteLength"in ae)?{maxByteLength:ae.maxByteLength}:void 0,Ne=new ArrayBuffer($e,we),Ke=new st(ae),We=new st(Ne),Ve=0;Ve<$e;Ve++)We.setUint8(Ve,Ke.getUint8(Ve))}catch{throw new O("ArrayBuffer is detached",Re)}}return X(Te,ae,Ne),Ne},Ee=function(ae,Te,je,Ie,Ne){var $e=f[Te];return y($e)||et(Te),new $e(mn(ae.buffer,Ne),je,Ie)},le=function(ae,Te,je){this.object=ae,this.type=Te,this.metadata=je},re=function(ae,Te,je){if(d(ae)&&pt("Symbol"),!y(ae))return ae;if(Te){if(_(Te,ae))return N(Te,ae)}else Te=new F;var Ie=x(ae),Ne,$e,we,Ke,We,Ve,st,mt;switch(Ie){case"Array":we=se(w(ae));break;case"Object":we={};break;case"Map":we=new F;break;case"Set":we=new Z;break;case"RegExp":we=new RegExp(ae.source,z(ae));break;case"Error":switch($e=ae.name,$e){case"AggregateError":we=v("AggregateError")([]);break;case"EvalError":we=ie();break;case"RangeError":we=Y();break;case"ReferenceError":we=I();break;case"SyntaxError":we=R();break;case"TypeError":we=P();break;case"URIError":we=D();break;case"CompileError":we=G();break;case"LinkError":we=H();break;case"RuntimeError":we=A();break;default:we=pe()}break;case"DOMException":we=new O(ae.message,ae.name);break;case"ArrayBuffer":case"SharedArrayBuffer":we=je?new le(ae,Ie):mn(ae,Te,Ie);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Ve=Ie==="DataView"?ae.byteLength:ae.length,we=je?new le(ae,Ie,{offset:ae.byteOffset,length:Ve}):Ee(ae,Ie,ae.byteOffset,Ve,Te);break;case"DOMQuad":try{we=new DOMQuad(re(ae.p1,Te,je),re(ae.p2,Te,je),re(ae.p3,Te,je),re(ae.p4,Te,je))}catch{we=Nn(ae,Ie)}break;case"File":if(qe)try{we=qe(ae),x(we)!==Ie&&(we=void 0)}catch{}if(!we)try{we=new File([ae],ae.name,ae)}catch{}we||et(Ie);break;case"FileList":if(Ke=Jn(),Ke){for(We=0,Ve=w(ae);We<Ve;We++)Ke.items.add(re(ae[We],Te,je));we=Ke.files}else we=Nn(ae,Ie);break;case"ImageData":try{we=new ImageData(re(ae.data,Te,je),ae.width,ae.height,{colorSpace:ae.colorSpace})}catch{we=Nn(ae,Ie)}break;default:if(qe)we=qe(ae);else switch(Ie){case"BigInt":we=te(ae.valueOf());break;case"Boolean":we=te(he(ae));break;case"Number":we=te(ge(ae));break;case"String":we=te(me(ae));break;case"Date":we=new de(ve(ae));break;case"Blob":try{we=ae.slice(0,ae.size,ae.type)}catch{et(Ie)}break;case"DOMPoint":case"DOMPointReadOnly":Ne=f[Ie];try{we=Ne.fromPoint?Ne.fromPoint(ae):new Ne(ae.x,ae.y,ae.z,ae.w)}catch{et(Ie)}break;case"DOMRect":case"DOMRectReadOnly":Ne=f[Ie];try{we=Ne.fromRect?Ne.fromRect(ae):new Ne(ae.x,ae.y,ae.width,ae.height)}catch{et(Ie)}break;case"DOMMatrix":case"DOMMatrixReadOnly":Ne=f[Ie];try{we=Ne.fromMatrix?Ne.fromMatrix(ae):new Ne(ae)}catch{et(Ie)}break;case"AudioData":case"VideoFrame":c(ae.clone)||et(Ie);try{we=ae.clone()}catch{pt(Ie)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":et(Ie);default:pt(Ie)}}switch(X(Te,ae,we),Ie){case"Array":case"Object":for(st=ye(ae),We=0,Ve=w(st);We<Ve;We++)mt=st[We],j(we,mt,re(ae[mt],Te,je));break;case"Map":ae.forEach(function(ct,jt){X(we,re(jt,Te,je),re(ct,Te,je))});break;case"Set":ae.forEach(function(ct){ne(we,re(ct,Te,je))});break;case"Error":L(we,"message",re(ae.message,Te,je)),T(ae,"cause")&&L(we,"cause",re(ae.cause,Te,je)),$e==="AggregateError"&&(we.errors=re(ae.errors,Te,je));case"DOMException":K&&L(we,"stack",re(ae.stack,Te,je))}return we},ke=function(ae,Te){if(!y(ae))return ae;if(_(Te,ae))return N(Te,ae);var je,Ie,Ne,$e,we,Ke,We,Ve;if(ae instanceof le)switch(je=ae.type,Ie=ae.object,je){case"ArrayBuffer":case"SharedArrayBuffer":Ve=mn(Ie,Te,je);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Ne=ae.metadata,Ve=Ee(Ie,je,Ne.offset,Ne.length,Te)}else switch(x(ae)){case"Array":case"Object":for(Ke=ye(ae),$e=0,we=w(Ke);$e<we;$e++)We=Ke[$e],ae[We]=ke(ae[We],Te);break;case"Map":Ve=new F,ae.forEach(function(st,mt){X(Ve,ke(mt,Te),ke(st,Te))});break;case"Set":Ve=new Z,ae.forEach(function(st){ne(Ve,ke(st,Te))});break;case"Error":ae.message=ke(ae.message,Te),T(ae,"cause")&&(ae.cause=ke(ae.cause,Te)),ae.name==="AggregateError"&&(ae.errors=ke(ae.errors,Te));case"DOMException":K&&(ae.stack=ke(ae.stack,Te))}return X(Te,ae,Ve||ae),Ve||ae},Ge=function(ae,Te){if(!y(ae))throw P("Transfer option cannot be converted to a sequence");var je=[];m(ae,function(ct){oe(je,S(ct))});for(var Ie=0,Ne=w(je),$e=[],we,Ke,We,Ve,st,mt;Ie<Ne;){if(we=je[Ie++],Ke=x(we),Ke==="ArrayBuffer"){oe($e,we);continue}if(_(Te,we))throw new O("Duplicate transferable",Re);if(J)Ve=rt(we,{transfer:[we]});else switch(Ke){case"ImageBitmap":We=f.OffscreenCanvas,p(We)||et(Ke,Fe);try{st=new We(we.width,we.height),mt=st.getContext("bitmaprenderer"),mt.transferFromImageBitmap(we),Ve=st.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!c(we.clone)||!c(we.close))&&et(Ke,Fe);try{Ve=we.clone(),we.close()}catch{}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":et(Ke,Fe)}if(Ve===void 0)throw new O("This object cannot be transferred: "+Ke,Re);X(Te,we,Ve)}return $e},at=function(ae,Te){for(var je=0,Ie=w(ae),Ne,$e;je<Ie;){if(Ne=ae[je++],_(Te,Ne))throw new O("Duplicate transferable",Re);J?$e=rt(Ne,{transfer:[Ne]}):(c(Ne.transfer)||et("ArrayBuffer",Fe),$e=Ne.transfer()),X(Te,Ne,$e)}};l({global:!0,enumerable:!0,sham:!J,forced:dt},{structuredClone:function(Te){var je=M(arguments.length,1)>1&&!g(arguments[1])?S(arguments[1]):void 0,Ie=je?je.transfer:void 0,Ne=!1,$e,we;Ie!==void 0&&($e=new F,we=Ge(Ie,$e),Ne=!!w(we));var Ke=re(Te,$e,Ne);return Ne&&($e=new F,at(Ie,$e),Ke=ke(Ke,$e)),Ke}})}),((o,s,n)=>{var a=n(14),l=n(7),f=n(21),v=n(78),b=n(24),k=n(51),h=function(){},c=[],p=b("Reflect","construct"),g=/^\s*(?:class|function)\b/,y=a(g.exec),d=!g.exec(h),m=function(T){if(!f(T))return!1;try{return p(h,c,T),!0}catch{return!1}},S=function(T){if(!f(T))return!1;switch(v(T)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!y(g,k(T))}catch{return!0}};S.sham=!0,o.exports=!p||l(function(){var x;return m(m.call)||!m(Object)||!m(function(){x=!0})||x})?S:m}),((o,s,n)=>{var a=n(99),l=n(8),f=n(47),v=n(32),b=n(155),k=n(64),h=n(25),c=n(157),p=n(158),g=n(140),y=TypeError,d=function(S,x){this.stopped=S,this.result=x},m=d.prototype;o.exports=function(S,x,T){var j=T&&T.that,L=!!(T&&T.AS_ENTRIES),w=!!(T&&T.IS_RECORD),M=!!(T&&T.IS_ITERATOR),z=!!(T&&T.INTERRUPTED),$=a(x,j),V,K,J,te,se,de,pe,ie=function(I){return V&&g(V,"normal",I),new d(!0,I)},Y=function(I){return L?(f(I),z?$(I[0],I[1],ie):$(I[0],I[1])):z?$(I,ie):$(I)};if(w)V=S.iterator;else if(M)V=S;else{if(K=p(S),!K)throw y(v(S)+" is not iterable");if(b(K)){for(J=0,te=k(S);te>J;J++)if(se=Y(S[J]),se&&h(m,se))return se;return new d(!1)}V=c(S,K)}for(de=w?S.next:V.next;!(pe=l(de,V)).done;){try{se=Y(pe.value)}catch(I){g(V,"throw",I)}if(typeof se=="object"&&se&&h(m,se))return se}return new d(!1)}}),((o,s,n)=>{var a=n(34),l=n(156),f=a("iterator"),v=Array.prototype;o.exports=function(b){return b!==void 0&&(l.Array===b||v[f]===b)}}),(o=>{o.exports={}}),((o,s,n)=>{var a=n(8),l=n(31),f=n(47),v=n(32),b=n(158),k=TypeError;o.exports=function(h,c){var p=arguments.length<2?b(h):c;if(l(p))return f(a(p,h));throw k(v(h)+" is not iterable")}}),((o,s,n)=>{var a=n(78),l=n(30),f=n(17),v=n(156),b=n(34),k=b("iterator");o.exports=function(h){if(!f(h))return l(h,k)||l(h,"@@iterator")||v[a(h)]}}),((o,s,n)=>{var a=n(18),l=n(45),f=n(11);o.exports=function(v,b,k){var h=a(b);h in v?l.f(v,h,f(0,k)):v[h]=k}}),((o,s,n)=>{var a=n(8),l=n(39),f=n(25),v=n(161),b=RegExp.prototype;o.exports=function(k){var h=k.flags;return h===void 0&&!("flags"in b)&&!l(k,"flags")&&f(b,k)?a(v,k):h}}),((o,s,n)=>{var a=n(47);o.exports=function(){var l=a(this),f="";return l.hasIndices&&(f+="d"),l.global&&(f+="g"),l.ignoreCase&&(f+="i"),l.multiline&&(f+="m"),l.dotAll&&(f+="s"),l.unicode&&(f+="u"),l.unicodeSets&&(f+="v"),l.sticky&&(f+="y"),f}}),((o,s,n)=>{var a=n(14),l=Map.prototype;o.exports={Map,set:a(l.set),get:a(l.get),has:a(l.has),remove:a(l.delete),proto:l}}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0,n(89),n(149),n(152);var a=n(1),l=n(164),f=n(170);const v=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=v;class b{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(c,p){const g=this.#t.get(c);return g===void 0?p:Object.assign(p,g)}getRawValue(c){return this.#t.get(c)}remove(c){if(this.#t.delete(c),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const p of this.#t.values())if(p instanceof l.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(c,p){const g=this.#t.get(c);let y=!1;if(g!==void 0)for(const[d,m]of Object.entries(p))g[d]!==m&&(y=!0,g[d]=m);else y=!0,this.#t.set(c,p);y&&this.#n(),p instanceof l.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(p.constructor._type)}has(c){return this.#t.has(c)}getAll(){return this.#t.size>0?(0,a.objectFromMap)(this.#t):null}setAll(c){for(const[p,g]of Object.entries(c))this.setValue(p,g)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new k(this)}get serializable(){if(this.#t.size===0)return v;const c=new Map,p=new f.MurmurHash3_64,g=[],y=Object.create(null);let d=!1;for(const[m,S]of this.#t){const x=S instanceof l.AnnotationEditor?S.serialize(!1,y):S;x&&(c.set(m,x),p.update(`${m}:${JSON.stringify(x)}`),d||=!!x.bitmap)}if(d)for(const m of c.values())m.bitmap&&g.push(m.bitmap);return c.size>0?{map:c,hash:p.hexdigest(),transfers:g}:v}}s.AnnotationStorage=b;class k extends b{#e;constructor(c){super();const{map:p,hash:g,transfers:y}=c.serializable,d=structuredClone(p,null);this.#e={map:d,hash:g,transfers:y}}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}s.PrintAnnotationStorage=k}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0,n(89),n(2);var a=n(165),l=n(1),f=n(168);class v{#e="";#t=!1;#n=null;#r=null;#o=null;#a=!1;#i=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#s=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=v._zIndex++;static _borderLineWidth=-1;static _colorManager=new a.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(h){this.constructor===v&&(0,l.unreachable)("Cannot initialize AnnotationEditor."),this.parent=h.parent,this.id=h.id,this.width=this.height=null,this.pageIndex=h.parent.pageIndex,this.name=h.name,this.div=null,this._uiManager=h.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=h.isCentered,this._structTreeParentId=null;const{rotation:c,rawDims:{pageWidth:p,pageHeight:g,pageX:y,pageY:d}}=this.parent.viewport;this.rotation=c,this.pageRotation=(360+c-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[p,g],this.pageTranslation=[y,d];const[m,S]=this.parentDimensions;this.x=h.x/m,this.y=h.y/S,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,l.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(h){const c=new b({id:h.parent.getNextId(),parent:h.parent,uiManager:h._uiManager});c.annotationElementId=h.annotationElementId,c.deleted=!0,c._uiManager.addToAnnotationStorage(c)}static initialize(h){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(v._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(g=>[g,h.get(g)])),c?.strings)for(const g of c.strings)v._l10nPromise.set(g,h.get(g));if(v._borderLineWidth!==-1)return;const p=getComputedStyle(document.documentElement);v._borderLineWidth=parseFloat(p.getPropertyValue("--outline-width"))||0}static updateDefaultParams(h,c){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(h){return!1}static paste(h,c){(0,l.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(h){this.#h=h,this.div?.classList.toggle("draggable",h)}center(){const[h,c]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*c/(h*2),this.y+=this.width*h/(c*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*c/(h*2),this.y-=this.width*h/(c*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(h){this._uiManager.addCommands(h)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(h){h!==null&&(this.pageIndex=h.pageIndex,this.pageDimensions=h.pageDimensions),this.parent=h}focusin(h){this._focusEventsAllowed&&(this.#s?this.#s=!1:this.parent.setSelected(this))}focusout(h){!this._focusEventsAllowed||!this.isAttachedToDOM||h.relatedTarget?.closest(`#${this.id}`)||(h.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(h,c,p,g){const[y,d]=this.parentDimensions;[p,g]=this.screenToPageTranslation(p,g),this.x=(h+p)/y,this.y=(c+g)/d,this.fixAndSetPosition()}#v(h,c,p){let[g,y]=h;[c,p]=this.screenToPageTranslation(c,p),this.x+=c/g,this.y+=p/y,this.fixAndSetPosition()}translate(h,c){this.#v(this.parentDimensions,h,c)}translateInPage(h,c){this.#v(this.pageDimensions,h,c),this.div.scrollIntoView({block:"nearest"})}drag(h,c){const[p,g]=this.parentDimensions;if(this.x+=h/p,this.y+=c/g,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x,y:T}=this.div.getBoundingClientRect();this.parent.findNewParent(this,x,T)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:y,y:d}=this;const[m,S]=this.#m();y+=m,d+=S,this.div.style.left=`${(100*y).toFixed(2)}%`,this.div.style.top=`${(100*d).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#m(){const[h,c]=this.parentDimensions,{_borderLineWidth:p}=v,g=p/h,y=p/c;switch(this.rotation){case 90:return[-g,y];case 180:return[g,y];case 270:return[g,-y];default:return[-g,-y]}}fixAndSetPosition(){const[h,c]=this.pageDimensions;let{x:p,y:g,width:y,height:d}=this;switch(y*=h,d*=c,p*=h,g*=c,this.rotation){case 0:p=Math.max(0,Math.min(h-y,p)),g=Math.max(0,Math.min(c-d,g));break;case 90:p=Math.max(0,Math.min(h-d,p)),g=Math.min(c,Math.max(y,g));break;case 180:p=Math.min(h,Math.max(y,p)),g=Math.min(c,Math.max(d,g));break;case 270:p=Math.min(h,Math.max(d,p)),g=Math.max(0,Math.min(c-y,g));break}this.x=p/=h,this.y=g/=c;const[m,S]=this.#m();p+=m,g+=S;const{style:x}=this.div;x.left=`${(100*p).toFixed(2)}%`,x.top=`${(100*g).toFixed(2)}%`,this.moveInDOM()}static#g(h,c,p){switch(p){case 90:return[c,-h];case 180:return[-h,-c];case 270:return[-c,h];default:return[h,c]}}screenToPageTranslation(h,c){return v.#g(h,c,this.parentRotation)}pageTranslationToScreen(h,c){return v.#g(h,c,360-this.parentRotation)}#u(h){switch(h){case 90:{const[c,p]=this.pageDimensions;return[0,-c/p,p/c,0]}case 180:return[-1,0,0,-1];case 270:{const[c,p]=this.pageDimensions;return[0,c/p,-p/c,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:h,pageDimensions:[c,p]}=this,g=c*h,y=p*h;return l.FeatureTest.isCSSRoundSupported?[Math.round(g),Math.round(y)]:[g,y]}setDims(h,c){const[p,g]=this.parentDimensions;this.div.style.width=`${(100*h/p).toFixed(2)}%`,this.#a||(this.div.style.height=`${(100*c/g).toFixed(2)}%`),this.#n?.classList.toggle("small",h<v.SMALL_EDITOR_SIZE||c<v.SMALL_EDITOR_SIZE)}fixDims(){const{style:h}=this.div,{height:c,width:p}=h,g=p.endsWith("%"),y=!this.#a&&c.endsWith("%");if(g&&y)return;const[d,m]=this.parentDimensions;g||(h.width=`${(100*parseFloat(p)/d).toFixed(2)}%`),!this.#a&&!y&&(h.height=`${(100*parseFloat(c)/m).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#y(){if(this.#i)return;this.#i=document.createElement("div"),this.#i.classList.add("resizers");const h=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||h.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const c of h){const p=document.createElement("div");this.#i.append(p),p.classList.add("resizer",c),p.addEventListener("pointerdown",this.#A.bind(this,c)),p.addEventListener("contextmenu",f.noContextMenu)}this.div.prepend(this.#i)}#A(h,c){c.preventDefault();const{isMac:p}=l.FeatureTest.platform;if(c.button!==0||c.ctrlKey&&p)return;const g=this.#b.bind(this,h),y=this._isDraggable;this._isDraggable=!1;const d={passive:!0,capture:!0};window.addEventListener("pointermove",g,d);const m=this.x,S=this.y,x=this.width,T=this.height,j=this.parent.div.style.cursor,L=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(c.target).cursor;const w=()=>{this._isDraggable=y,window.removeEventListener("pointerup",w),window.removeEventListener("blur",w),window.removeEventListener("pointermove",g,d),this.parent.div.style.cursor=j,this.div.style.cursor=L;const M=this.x,z=this.y,$=this.width,V=this.height;M===m&&z===S&&$===x&&V===T||this.addCommands({cmd:()=>{this.width=$,this.height=V,this.x=M,this.y=z;const[K,J]=this.parentDimensions;this.setDims(K*$,J*V),this.fixAndSetPosition()},undo:()=>{this.width=x,this.height=T,this.x=m,this.y=S;const[K,J]=this.parentDimensions;this.setDims(K*x,J*T),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",w),window.addEventListener("blur",w)}#b(h,c){const[p,g]=this.parentDimensions,y=this.x,d=this.y,m=this.width,S=this.height,x=v.MIN_SIZE/p,T=v.MIN_SIZE/g,j=H=>Math.round(H*1e4)/1e4,L=this.#u(this.rotation),w=(H,A)=>[L[0]*H+L[2]*A,L[1]*H+L[3]*A],M=this.#u(360-this.rotation),z=(H,A)=>[M[0]*H+M[2]*A,M[1]*H+M[3]*A];let $,V,K=!1,J=!1;switch(h){case"topLeft":K=!0,$=(H,A)=>[0,0],V=(H,A)=>[H,A];break;case"topMiddle":$=(H,A)=>[H/2,0],V=(H,A)=>[H/2,A];break;case"topRight":K=!0,$=(H,A)=>[H,0],V=(H,A)=>[0,A];break;case"middleRight":J=!0,$=(H,A)=>[H,A/2],V=(H,A)=>[0,A/2];break;case"bottomRight":K=!0,$=(H,A)=>[H,A],V=(H,A)=>[0,0];break;case"bottomMiddle":$=(H,A)=>[H/2,A],V=(H,A)=>[H/2,0];break;case"bottomLeft":K=!0,$=(H,A)=>[0,A],V=(H,A)=>[H,0];break;case"middleLeft":J=!0,$=(H,A)=>[0,A/2],V=(H,A)=>[H,A/2];break}const te=$(m,S),se=V(m,S);let de=w(...se);const pe=j(y+de[0]),ie=j(d+de[1]);let Y=1,I=1,[R,P]=this.screenToPageTranslation(c.movementX,c.movementY);if([R,P]=z(R/p,P/g),K){const H=Math.hypot(m,S);Y=I=Math.max(Math.min(Math.hypot(se[0]-te[0]-R,se[1]-te[1]-P)/H,1/m,1/S),x/m,T/S)}else J?Y=Math.max(x,Math.min(1,Math.abs(se[0]-te[0]-R)))/m:I=Math.max(T,Math.min(1,Math.abs(se[1]-te[1]-P)))/S;const D=j(m*Y),B=j(S*I);de=w(...V(D,B));const W=pe-de[0],G=ie-de[1];this.width=D,this.height=B,this.x=W,this.y=G,this.setDims(p*D,g*B),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const h=this.#n=document.createElement("button");h.className="altText";const c=await v._l10nPromise.get("editor_alt_text_button_label");h.textContent=c,h.setAttribute("aria-label",c),h.tabIndex="0",h.addEventListener("contextmenu",f.noContextMenu),h.addEventListener("pointerdown",p=>p.stopPropagation()),h.addEventListener("click",p=>{p.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),h.addEventListener("keydown",p=>{p.target===h&&p.key==="Enter"&&(p.preventDefault(),this._uiManager.editAltText(this))}),this.#T(),this.div.append(h),v.SMALL_EDITOR_SIZE||(v.SMALL_EDITOR_SIZE=Math.min(128,Math.round(h.getBoundingClientRect().width*1.4)))}async#T(){const h=this.#n;if(!h)return;if(!this.#e&&!this.#t){h.classList.remove("done"),this.#r?.remove();return}v._l10nPromise.get("editor_alt_text_edit_button_label").then(p=>{h.setAttribute("aria-label",p)});let c=this.#r;if(!c){this.#r=c=document.createElement("span"),c.className="tooltip",c.setAttribute("role","tooltip");const p=c.id=`alt-text-tooltip-${this.id}`;h.setAttribute("aria-describedby",p);const g=100;h.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#r.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},g)}),h.addEventListener("mouseleave",()=>{clearTimeout(this.#o),this.#o=null,this.#r?.classList.remove("show")})}h.classList.add("done"),c.innerText=this.#t?await v._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,c.parentNode||h.append(c)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData(h){let{altText:c,decorative:p}=h;this.#e===c&&this.#t===p||(this.#e=c,this.#t=p,this.#T())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);const[h,c]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*c/h).toFixed(2)}%`,this.div.style.maxHeight=`${(100*h/c).toFixed(2)}%`);const[p,g]=this.getInitialTranslation();return this.translate(p,g),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(h){const{isMac:c}=l.FeatureTest.platform;if(h.button!==0||h.ctrlKey&&c){h.preventDefault();return}this.#s=!0,this.#R(h)}#R(h){if(!this._isDraggable)return;const c=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let p,g;c&&(p={passive:!0,capture:!0},g=d=>{const[m,S]=this.screenToPageTranslation(d.movementX,d.movementY);this._uiManager.dragSelectedEditors(m,S)},window.addEventListener("pointermove",g,p));const y=()=>{if(window.removeEventListener("pointerup",y),window.removeEventListener("blur",y),c&&window.removeEventListener("pointermove",g,p),this.#s=!1,!this._uiManager.endDragSession()){const{isMac:d}=l.FeatureTest.platform;h.ctrlKey&&!d||h.shiftKey||h.metaKey&&d?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",y),window.addEventListener("blur",y)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(h,c,p){h.changeParent(this),this.x=c,this.y=p,this.fixAndSetPosition()}getRect(h,c){const p=this.parentScale,[g,y]=this.pageDimensions,[d,m]=this.pageTranslation,S=h/p,x=c/p,T=this.x*g,j=this.y*y,L=this.width*g,w=this.height*y;switch(this.rotation){case 0:return[T+S+d,y-j-x-w+m,T+S+L+d,y-j-x+m];case 90:return[T+x+d,y-j+S+m,T+x+w+d,y-j+S+L+m];case 180:return[T-S-L+d,y-j+x+m,T-S+d,y-j+x+w+m];case 270:return[T-x-w+d,y-j-S-L+m,T-x+d,y-j-S+m];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(h,c){const[p,g,y,d]=h,m=y-p,S=d-g;switch(this.rotation){case 0:return[p,c-d,m,S];case 90:return[p,c-g,S,m];case 180:return[y,c-g,m,S];case 270:return[y,c-d,S,m];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(){(0,l.unreachable)("An editor must be serializable")}static deserialize(h,c,p){const g=new this.prototype.constructor({parent:c,id:c.getNextId(),uiManager:p});g.rotation=h.rotation;const[y,d]=g.pageDimensions,[m,S,x,T]=g.getRectInCurrentCoords(h.rect,d);return g.x=m/y,g.y=S/d,g.width=x/y,g.height=T/d,g}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#y(),this.#i.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#i?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(h,c){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(h){this.#f=h,this.parent&&(h?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(h,c){this.#a=!0;const p=h/c,{style:g}=this.div;g.aspectRatio=p,g.height="auto"}static get MIN_SIZE(){return 16}}s.AnnotationEditor=v;class b extends v{constructor(h){super(h),this.annotationElementId=h.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=f,s.opacityToHex=v,n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123),n(2),n(89),n(125),n(136),n(138),n(141),n(143),n(145),n(147),n(166);var a=n(1),l=n(168);function f(y,d,m){for(const S of m)d.addEventListener(S,y[S].bind(y))}function v(y){return Math.round(Math.min(255,Math.max(1,255*y))).toString(16).padStart(2,"0")}class b{#e=0;getId(){return`${a.AnnotationEditorPrefix}${this.#e++}`}}class k{#e=(0,a.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const d='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',S=new OffscreenCanvas(1,3).getContext("2d"),x=new Image;x.src=d;const T=x.decode().then(()=>(S.drawImage(x,0,0,1,1,0,0,1,3),new Uint32Array(S.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",T)}async#r(d,m){this.#n||=new Map;let S=this.#n.get(d);if(S===null)return null;if(S?.bitmap)return S.refCounter+=1,S;try{S||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let x;if(typeof m=="string"){S.url=m;const T=await fetch(m);if(!T.ok)throw new Error(T.statusText);x=await T.blob()}else x=S.file=m;if(x.type==="image/svg+xml"){const T=k._isSVGFittingCanvas,j=new FileReader,L=new Image,w=new Promise((M,z)=>{L.onload=()=>{S.bitmap=L,S.isSvg=!0,M()},j.onload=async()=>{const $=S.svgUrl=j.result;L.src=await T?`${$}#svgView(preserveAspectRatio(none))`:$},L.onerror=j.onerror=z});j.readAsDataURL(x),await w}else S.bitmap=await createImageBitmap(x);S.refCounter=1}catch(x){console.error(x),S=null}return this.#n.set(d,S),S&&this.#n.set(S.id,S),S}async getFromFile(d){const{lastModified:m,name:S,size:x,type:T}=d;return this.#r(`${m}_${S}_${x}_${T}`,d)}async getFromUrl(d){return this.#r(d,d)}async getFromId(d){this.#n||=new Map;const m=this.#n.get(d);return m?m.bitmap?(m.refCounter+=1,m):m.file?this.getFromFile(m.file):this.getFromUrl(m.url):null}getSvgUrl(d){const m=this.#n.get(d);return m?.isSvg?m.svgUrl:null}deleteId(d){this.#n||=new Map;const m=this.#n.get(d);m&&(m.refCounter-=1,m.refCounter===0&&(m.bitmap=null))}isValidId(d){return d.startsWith(`image_${this.#e}_`)}}class h{#e=[];#t=!1;#n;#r=-1;constructor(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;this.#n=d}add(d){let{cmd:m,undo:S,mustExec:x,type:T=NaN,overwriteIfSameType:j=!1,keepUndo:L=!1}=d;if(x&&m(),this.#t)return;const w={cmd:m,undo:S,type:T};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(w);return}if(j&&this.#e[this.#r].type===T){L&&(w.undo=this.#e[this.#r].undo),this.#e[this.#r]=w;return}const M=this.#r+1;M===this.#n?this.#e.splice(0,1):(this.#r=M,M<this.#e.length&&this.#e.splice(M)),this.#e.push(w)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}s.CommandManager=h;class c{constructor(d){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:m}=a.FeatureTest.platform;for(const[S,x,T={}]of d)for(const j of S){const L=j.startsWith("mac+");m&&L?(this.callbacks.set(j.slice(4),{callback:x,options:T}),this.allKeys.add(j.split("+").at(-1))):!m&&!L&&(this.callbacks.set(j,{callback:x,options:T}),this.allKeys.add(j.split("+").at(-1)))}}#e(d){d.altKey&&this.buffer.push("alt"),d.ctrlKey&&this.buffer.push("ctrl"),d.metaKey&&this.buffer.push("meta"),d.shiftKey&&this.buffer.push("shift"),this.buffer.push(d.key);const m=this.buffer.join("+");return this.buffer.length=0,m}exec(d,m){if(!this.allKeys.has(m.key))return;const S=this.callbacks.get(this.#e(m));if(!S)return;const{callback:x,options:{bubbles:T=!1,args:j=[],checker:L=null}}=S;L&&!L(d,m)||(x.bind(d,...j)(),T||(m.stopPropagation(),m.preventDefault()))}}s.KeyboardManager=c;class p{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const d=new Map([["CanvasText",null],["Canvas",null]]);return(0,l.getColorValues)(d),(0,a.shadow)(this,"_colors",d)}convert(d){const m=(0,l.getRGB)(d);if(!window.matchMedia("(forced-colors: active)").matches)return m;for(const[S,x]of this._colors)if(x.every((T,j)=>T===m[j]))return p._colorsMapping.get(S);return m}getHexCode(d){const m=this._colors.get(d);return m?a.Util.makeHexColor(...m):d}}s.ColorManager=p;class g{#e=null;#t=new Map;#n=new Map;#r=null;#o=null;#a=new h;#i=0;#l=new Set;#c=null;#s=null;#f=new Set;#d=null;#h=new b;#p=!1;#v=!1;#m=null;#g=a.AnnotationEditorType.NONE;#u=new Set;#y=null;#A=this.blur.bind(this);#b=this.focus.bind(this);#T=this.copy.bind(this);#R=this.cut.bind(this);#F=this.paste.bind(this);#L=this.keydown.bind(this);#N=this.onEditingAction.bind(this);#x=this.onPageChanging.bind(this);#I=this.onScaleChanging.bind(this);#P=this.onRotationChanging.bind(this);#D={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#E=[0,0];#k=null;#w=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const d=g.prototype,m=T=>{const{activeElement:j}=document;return j&&T.#w.contains(j)&&T.hasSomethingToControl()},S=this.TRANSLATE_SMALL,x=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new c([[["ctrl+a","mac+meta+a"],d.selectAll],[["ctrl+z","mac+meta+z"],d.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],d.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],d.delete],[["Escape","mac+Escape"],d.unselectAll],[["ArrowLeft","mac+ArrowLeft"],d.translateSelectedEditors,{args:[-S,0],checker:m}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],d.translateSelectedEditors,{args:[-x,0],checker:m}],[["ArrowRight","mac+ArrowRight"],d.translateSelectedEditors,{args:[S,0],checker:m}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],d.translateSelectedEditors,{args:[x,0],checker:m}],[["ArrowUp","mac+ArrowUp"],d.translateSelectedEditors,{args:[0,-S],checker:m}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],d.translateSelectedEditors,{args:[0,-x],checker:m}],[["ArrowDown","mac+ArrowDown"],d.translateSelectedEditors,{args:[0,S],checker:m}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],d.translateSelectedEditors,{args:[0,x],checker:m}]]))}constructor(d,m,S,x,T,j){this.#w=d,this.#j=m,this.#r=S,this._eventBus=x,this._eventBus._on("editingaction",this.#N),this._eventBus._on("pagechanging",this.#x),this._eventBus._on("scalechanging",this.#I),this._eventBus._on("rotationchanging",this.#P),this.#o=T.annotationStorage,this.#d=T.filterFactory,this.#y=j,this.viewParameters={realScale:l.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#O(),this.#B(),this._eventBus._off("editingaction",this.#N),this._eventBus._off("pagechanging",this.#x),this._eventBus._off("scalechanging",this.#I),this._eventBus._off("rotationchanging",this.#P);for(const d of this.#n.values())d.destroy();this.#n.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#u.clear(),this.#a.destroy(),this.#r.destroy()}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",this.#y?this.#d.addHCMFilter(this.#y.foreground,this.#y.background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle(this.#w).direction)}editAltText(d){this.#r?.editAltText(this,d)}onPageChanging(d){let{pageNumber:m}=d;this.#i=m-1}focusMainContainer(){this.#w.focus()}findParent(d,m){for(const S of this.#n.values()){const{x,y:T,width:j,height:L}=S.div.getBoundingClientRect();if(d>=x&&d<=x+j&&m>=T&&m<=T+L)return S}return null}disableUserSelect(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.#j.classList.toggle("noUserSelect",d)}addShouldRescale(d){this.#f.add(d)}removeShouldRescale(d){this.#f.delete(d)}onScaleChanging(d){let{scale:m}=d;this.commitOrRemove(),this.viewParameters.realScale=m*l.PixelsPerInch.PDF_TO_CSS_UNITS;for(const S of this.#f)S.onScaleChanging()}onRotationChanging(d){let{pagesRotation:m}=d;this.commitOrRemove(),this.viewParameters.rotation=m}addToAnnotationStorage(d){!d.isEmpty()&&this.#o&&!this.#o.has(d.id)&&this.#o.setValue(d.id,d)}#_(){window.addEventListener("focus",this.#b),window.addEventListener("blur",this.#A)}#B(){window.removeEventListener("focus",this.#b),window.removeEventListener("blur",this.#A)}blur(){if(!this.hasSelection)return;const{activeElement:d}=document;for(const m of this.#u)if(m.div.contains(d)){this.#m=[m,d],m._focusEventsAllowed=!1;break}}focus(){if(!this.#m)return;const[d,m]=this.#m;this.#m=null,m.addEventListener("focusin",()=>{d._focusEventsAllowed=!0},{once:!0}),m.focus()}#U(){window.addEventListener("keydown",this.#L,{capture:!0})}#O(){window.removeEventListener("keydown",this.#L,{capture:!0})}#M(){document.addEventListener("copy",this.#T),document.addEventListener("cut",this.#R),document.addEventListener("paste",this.#F)}#C(){document.removeEventListener("copy",this.#T),document.removeEventListener("cut",this.#R),document.removeEventListener("paste",this.#F)}addEditListeners(){this.#U(),this.#M()}removeEditListeners(){this.#O(),this.#C()}copy(d){if(d.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const m=[];for(const S of this.#u){const x=S.serialize(!0);x&&m.push(x)}m.length!==0&&d.clipboardData.setData("application/pdfjs",JSON.stringify(m))}cut(d){this.copy(d),this.delete()}paste(d){d.preventDefault();const{clipboardData:m}=d;for(const T of m.items)for(const j of this.#s)if(j.isHandlingMimeForPasting(T.type)){j.paste(T,this.currentLayer);return}let S=m.getData("application/pdfjs");if(!S)return;try{S=JSON.parse(S)}catch(T){(0,a.warn)(`paste: "${T.message}".`);return}if(!Array.isArray(S))return;this.unselectAll();const x=this.currentLayer;try{const T=[];for(const w of S){const M=x.deserialize(w);if(!M)return;T.push(M)}const j=()=>{for(const w of T)this.#W(w);this.#$(T)},L=()=>{for(const w of T)w.remove()};this.addCommands({cmd:j,undo:L,mustExec:!0})}catch(T){(0,a.warn)(`paste: "${T.message}".`)}}keydown(d){this.getActive()?.shouldGetKeyboardEvents()||g._keyboardManager.exec(this,d)}onEditingAction(d){["undo","redo","delete","selectAll"].includes(d.name)&&this[d.name]()}#S(d){Object.entries(d).some(S=>{let[x,T]=S;return this.#D[x]!==T})&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#D,d)})}#z(d){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:d})}setEditingState(d){d?(this.#_(),this.#U(),this.#M(),this.#S({isEditing:this.#g!==a.AnnotationEditorType.NONE,isEmpty:this.#H(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#B(),this.#O(),this.#C(),this.#S({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(d){if(!this.#s){this.#s=d;for(const m of this.#s)this.#z(m.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#i)}getLayer(d){return this.#n.get(d)}get currentPageIndex(){return this.#i}addLayer(d){this.#n.set(d.pageIndex,d),this.#p?d.enable():d.disable()}removeLayer(d){this.#n.delete(d.pageIndex)}updateMode(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.#g!==d){if(this.#g=d,d===a.AnnotationEditorType.NONE){this.setEditingState(!1),this.#G();return}this.setEditingState(!0),this.#V(),this.unselectAll();for(const S of this.#n.values())S.updateMode(d);if(m){for(const S of this.#t.values())if(S.annotationElementId===m){this.setSelected(S),S.enterInEditMode();break}}}}updateToolbar(d){d!==this.#g&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:d})}updateParams(d,m){if(this.#s){if(d===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(d);return}for(const S of this.#u)S.updateParams(d,m);for(const S of this.#s)S.updateDefaultParams(d,m)}}enableWaiting(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.#v!==d){this.#v=d;for(const m of this.#n.values())d?m.disableClick():m.enableClick(),m.div.classList.toggle("waiting",d)}}#V(){if(!this.#p){this.#p=!0;for(const d of this.#n.values())d.enable()}}#G(){if(this.unselectAll(),this.#p){this.#p=!1;for(const d of this.#n.values())d.disable()}}getEditors(d){const m=[];for(const S of this.#t.values())S.pageIndex===d&&m.push(S);return m}getEditor(d){return this.#t.get(d)}addEditor(d){this.#t.set(d.id,d)}removeEditor(d){this.#t.delete(d.id),this.unselect(d),(!d.annotationElementId||!this.#l.has(d.annotationElementId))&&this.#o?.remove(d.id)}addDeletedAnnotationElement(d){this.#l.add(d.annotationElementId),d.deleted=!0}isDeletedAnnotationElement(d){return this.#l.has(d)}removeDeletedAnnotationElement(d){this.#l.delete(d.annotationElementId),d.deleted=!1}#W(d){const m=this.#n.get(d.pageIndex);m?m.addOrRebuild(d):this.addEditor(d)}setActiveEditor(d){this.#e!==d&&(this.#e=d,d&&this.#z(d.propertiesToUpdate))}toggleSelected(d){if(this.#u.has(d)){this.#u.delete(d),d.unselect(),this.#S({hasSelectedEditor:this.hasSelection});return}this.#u.add(d),d.select(),this.#z(d.propertiesToUpdate),this.#S({hasSelectedEditor:!0})}setSelected(d){for(const m of this.#u)m!==d&&m.unselect();this.#u.clear(),this.#u.add(d),d.select(),this.#z(d.propertiesToUpdate),this.#S({hasSelectedEditor:!0})}isSelected(d){return this.#u.has(d)}unselect(d){d.unselect(),this.#u.delete(d),this.#S({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#a.undo(),this.#S({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#H()})}redo(){this.#a.redo(),this.#S({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#H()})}addCommands(d){this.#a.add(d),this.#S({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#H()})}#H(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const d of this.#t.values())return d.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const d=[...this.#u],m=()=>{for(const x of d)x.remove()},S=()=>{for(const x of d)this.#W(x)};this.addCommands({cmd:m,undo:S,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#$(d){this.#u.clear();for(const m of d)m.isEmpty()||(this.#u.add(m),m.select());this.#S({hasSelectedEditor:!0})}selectAll(){for(const d of this.#u)d.commit();this.#$(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const d of this.#u)d.unselect();this.#u.clear(),this.#S({hasSelectedEditor:!1})}}translateSelectedEditors(d,m){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1)||this.commitOrRemove(),!this.hasSelection)return;this.#E[0]+=d,this.#E[1]+=m;const[x,T]=this.#E,j=[...this.#u],L=1e3;this.#k&&clearTimeout(this.#k),this.#k=setTimeout(()=>{this.#k=null,this.#E[0]=this.#E[1]=0,this.addCommands({cmd:()=>{for(const w of j)this.#t.has(w.id)&&w.translateInPage(x,T)},undo:()=>{for(const w of j)this.#t.has(w.id)&&w.translateInPage(-x,-T)},mustExec:!1})},L);for(const w of j)w.translateInPage(d,m)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(const d of this.#u)this.#c.set(d,{savedX:d.x,savedY:d.y,savedPageIndex:d.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);const d=this.#c;this.#c=null;let m=!1;for(const[{x,y:T,pageIndex:j},L]of d)L.newX=x,L.newY=T,L.newPageIndex=j,m||=x!==L.savedX||T!==L.savedY||j!==L.savedPageIndex;if(!m)return!1;const S=(x,T,j,L)=>{if(this.#t.has(x.id)){const w=this.#n.get(L);w?x._setParentAndPosition(w,T,j):(x.pageIndex=L,x.x=T,x.y=j)}};return this.addCommands({cmd:()=>{for(const[x,{newX:T,newY:j,newPageIndex:L}]of d)S(x,T,j,L)},undo:()=>{for(const[x,{savedX:T,savedY:j,savedPageIndex:L}]of d)S(x,T,j,L)},mustExec:!0}),!0}dragSelectedEditors(d,m){if(this.#c)for(const S of this.#c.keys())S.drag(d,m)}rebuild(d){if(d.parent===null){const m=this.getLayer(d.pageIndex);m?(m.changeParent(d),m.addOrRebuild(d)):(this.addEditor(d),this.addToAnnotationStorage(d),d.rebuild())}else d.parent.addOrRebuild(d)}isActive(d){return this.#e===d}getActive(){return this.#e}getMode(){return this.#g}get imageManager(){return(0,a.shadow)(this,"imageManager",new k)}}s.AnnotationEditorUIManager=g}),((o,s,n)=>{var a=n(3),l=n(6),f=n(4),v=n(24),b=n(14),k=n(8),h=n(21),c=n(20),p=n(91),g=n(39),y=n(77),d=n(64),m=n(159),S=n(7),x=n(167),T=n(27),j=f.JSON,L=f.Number,w=f.SyntaxError,M=j&&j.parse,z=v("Object","keys"),$=Object.getOwnPropertyDescriptor,V=b("".charAt),K=b("".slice),J=b(/./.exec),te=b([].push),se=/^\d$/,de=/^[1-9]$/,pe=/^(?:-|\d)$/,ie=/^[\t\n\r ]$/,Y=0,I=1,R=function(A,O){A=y(A);var F=new W(A,0),_=F.parse(),N=_.value,X=F.skip(ie,_.end);if(X<A.length)throw w('Unexpected extra character: "'+V(A,X)+'" after the parsed data at: '+X);return h(O)?P({"":N},"",O,_):N},P=function(A,O,F,_){var N=A[O],X=_&&N===_.value,Z=X&&typeof _.source=="string"?{source:_.source}:{},ne,ye,oe,he,ge;if(c(N)){var me=p(N),ve=X?_.nodes:me?[]:{};if(me)for(ne=ve.length,oe=d(N),he=0;he<oe;he++)D(N,he,P(N,""+he,F,he<ne?ve[he]:void 0));else for(ye=z(N),oe=d(ye),he=0;he<oe;he++)ge=ye[he],D(N,ge,P(N,ge,F,g(ve,ge)?ve[ge]:void 0))}return k(F,A,O,N,Z)},D=function(A,O,F){if(l){var _=$(A,O);if(_&&!_.configurable)return}F===void 0?delete A[O]:m(A,O,F)},B=function(A,O,F,_){this.value=A,this.end=O,this.source=F,this.nodes=_},W=function(A,O){this.source=A,this.index=O};W.prototype={fork:function(A){return new W(this.source,A)},parse:function(){var A=this.source,O=this.skip(ie,this.index),F=this.fork(O),_=V(A,O);if(J(pe,_))return F.number();switch(_){case"{":return F.object();case"[":return F.array();case'"':return F.string();case"t":return F.keyword(!0);case"f":return F.keyword(!1);case"n":return F.keyword(null)}throw w('Unexpected character: "'+_+'" at: '+O)},node:function(A,O,F,_,N){return new B(O,_,A?null:K(this.source,F,_),N)},object:function(){for(var A=this.source,O=this.index+1,F=!1,_={},N={};O<A.length;){if(O=this.until(['"',"}"],O),V(A,O)==="}"&&!F){O++;break}var X=this.fork(O).string(),Z=X.value;O=X.end,O=this.until([":"],O)+1,O=this.skip(ie,O),X=this.fork(O).parse(),m(N,Z,X),m(_,Z,X.value),O=this.until([",","}"],X.end);var ne=V(A,O);if(ne===",")F=!0,O++;else if(ne==="}"){O++;break}}return this.node(I,_,this.index,O,N)},array:function(){for(var A=this.source,O=this.index+1,F=!1,_=[],N=[];O<A.length;){if(O=this.skip(ie,O),V(A,O)==="]"&&!F){O++;break}var X=this.fork(O).parse();if(te(N,X),te(_,X.value),O=this.until([",","]"],X.end),V(A,O)===",")F=!0,O++;else if(V(A,O)==="]"){O++;break}}return this.node(I,_,this.index,O,N)},string:function(){var A=this.index,O=x(this.source,this.index+1);return this.node(Y,O.value,A,O.end)},number:function(){var A=this.source,O=this.index,F=O;if(V(A,F)==="-"&&F++,V(A,F)==="0")F++;else if(J(de,V(A,F)))F=this.skip(se,++F);else throw w("Failed to parse number at: "+F);if(V(A,F)==="."&&(F=this.skip(se,++F)),V(A,F)==="e"||V(A,F)==="E"){F++,(V(A,F)==="+"||V(A,F)==="-")&&F++;var _=F;if(F=this.skip(se,F),_===F)throw w("Failed to parse number's exponent value at: "+F)}return this.node(Y,L(K(A,O,F)),O,F)},keyword:function(A){var O=""+A,F=this.index,_=F+O.length;if(K(this.source,F,_)!==O)throw w("Failed to parse value at: "+F);return this.node(Y,A,F,_)},skip:function(A,O){for(var F=this.source;O<F.length&&J(A,V(F,O));O++);return O},until:function(A,O){O=this.skip(ie,O);for(var F=V(this.source,O),_=0;_<A.length;_++)if(A[_]===F)return O;throw w('Unexpected character: "'+F+'" at: '+O)}};var G=S(function(){var A="9007199254740993",O;return M(A,function(F,_,N){O=N.source}),O!==A}),H=T&&!S(function(){return 1/M("-0 	")!==-1/0});a({target:"JSON",stat:!0,forced:G},{parse:function(O,F){return H&&!h(F)?M(O):R(O,F)}})}),((o,s,n)=>{var a=n(14),l=n(39),f=SyntaxError,v=parseInt,b=String.fromCharCode,k=a("".charAt),h=a("".slice),c=a(/./.exec),p={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},g=/^[\da-f]{4}$/i,y=/^[\u0000-\u001F]$/;o.exports=function(d,m){for(var S=!0,x="";m<d.length;){var T=k(d,m);if(T==="\\"){var j=h(d,m,m+2);if(l(p,j))x+=p[j],m+=2;else if(j==="\\u"){m+=2;var L=h(d,m,m+4);if(!c(g,L))throw f("Bad Unicode escape at: "+m);x+=b(v(L,16)),m+=4}else throw f('Unknown escape sequence: "'+j+'"')}else if(T==='"'){S=!1,m++;break}else{if(c(y,T))throw f("Bad control character in string literal at: "+m);x+=T,m++}}if(S)throw f("Unterminated string at: "+m);return{value:x,end:m}}}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=z,s.getColorValues=te,s.getCurrentTransform=se,s.getCurrentTransformInverse=de,s.getFilenameFromUrl=x,s.getPdfFilenameFromUrl=T,s.getRGB=J,s.getXfaPageViewport=K,s.isDataScheme=m,s.isPdfFile=S,s.isValidFetchUrl=L,s.loadScript=M,s.noContextMenu=w,s.setLayerDimensions=pe,n(2),n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123),n(89),n(84),n(86),n(87);var a=n(169),l=n(1);const f="http://www.w3.org/2000/svg";class v{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}s.PixelsPerInch=v;class b extends a.BaseFilterFactory{#e;#t;#n;#r;#o;#a;#i;#l;#c;#s;#f=0;constructor(){let{docId:Y,ownerDocument:I=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.#n=Y,this.#r=I}get#d(){return this.#e||=new Map}get#h(){if(!this.#t){const Y=this.#r.createElement("div"),{style:I}=Y;I.visibility="hidden",I.contain="strict",I.width=I.height=0,I.position="absolute",I.top=I.left=0,I.zIndex=-1;const R=this.#r.createElementNS(f,"svg");R.setAttribute("width",0),R.setAttribute("height",0),this.#t=this.#r.createElementNS(f,"defs"),Y.append(R),R.append(this.#t),this.#r.body.append(Y)}return this.#t}addFilter(Y){if(!Y)return"none";let I=this.#d.get(Y);if(I)return I;let R,P,D,B;if(Y.length===1){const A=Y[0],O=new Array(256);for(let F=0;F<256;F++)O[F]=A[F]/255;B=R=P=D=O.join(",")}else{const[A,O,F]=Y,_=new Array(256),N=new Array(256),X=new Array(256);for(let Z=0;Z<256;Z++)_[Z]=A[Z]/255,N[Z]=O[Z]/255,X[Z]=F[Z]/255;R=_.join(","),P=N.join(","),D=X.join(","),B=`${R}${P}${D}`}if(I=this.#d.get(B),I)return this.#d.set(Y,I),I;const W=`g_${this.#n}_transfer_map_${this.#f++}`,G=`url(#${W})`;this.#d.set(Y,G),this.#d.set(B,G);const H=this.#v(W);return this.#g(R,P,D,H),G}addHCMFilter(Y,I){const R=`${Y}-${I}`;if(this.#a===R)return this.#i;if(this.#a=R,this.#i="none",this.#o?.remove(),!Y||!I)return this.#i;const P=this.#u(Y);Y=l.Util.makeHexColor(...P);const D=this.#u(I);if(I=l.Util.makeHexColor(...D),this.#h.style.color="",Y==="#000000"&&I==="#ffffff"||Y===I)return this.#i;const B=new Array(256);for(let O=0;O<=255;O++){const F=O/255;B[O]=F<=.03928?F/12.92:((F+.055)/1.055)**2.4}const W=B.join(","),G=`g_${this.#n}_hcm_filter`,H=this.#l=this.#v(G);this.#g(W,W,W,H),this.#p(H);const A=(O,F)=>{const _=P[O]/255,N=D[O]/255,X=new Array(F+1);for(let Z=0;Z<=F;Z++)X[Z]=_+Z/F*(N-_);return X.join(",")};return this.#g(A(0,5),A(1,5),A(2,5),H),this.#i=`url(#${G})`,this.#i}addHighlightHCMFilter(Y,I,R,P){const D=`${Y}-${I}-${R}-${P}`;if(this.#c===D)return this.#s;if(this.#c=D,this.#s="none",this.#l?.remove(),!Y||!I)return this.#s;const[B,W]=[Y,I].map(this.#u.bind(this));let G=Math.round(.2126*B[0]+.7152*B[1]+.0722*B[2]),H=Math.round(.2126*W[0]+.7152*W[1]+.0722*W[2]),[A,O]=[R,P].map(this.#u.bind(this));H<G&&([G,H,A,O]=[H,G,O,A]),this.#h.style.color="";const F=(X,Z,ne)=>{const ye=new Array(256),oe=(H-G)/ne,he=X/255,ge=(Z-X)/(255*ne);let me=0;for(let ve=0;ve<=ne;ve++){const Ce=Math.round(G+ve*oe),Re=he+ve*ge;for(let Fe=me;Fe<=Ce;Fe++)ye[Fe]=Re;me=Ce+1}for(let ve=me;ve<256;ve++)ye[ve]=ye[me-1];return ye.join(",")},_=`g_${this.#n}_hcm_highlight_filter`,N=this.#l=this.#v(_);return this.#p(N),this.#g(F(A[0],O[0],5),F(A[1],O[1],5),F(A[2],O[2],5),N),this.#s=`url(#${_})`,this.#s}destroy(){arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&(this.#i||this.#s)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#p(Y){const I=this.#r.createElementNS(f,"feColorMatrix");I.setAttribute("type","matrix"),I.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Y.append(I)}#v(Y){const I=this.#r.createElementNS(f,"filter");return I.setAttribute("color-interpolation-filters","sRGB"),I.setAttribute("id",Y),this.#h.append(I),I}#m(Y,I,R){const P=this.#r.createElementNS(f,I);P.setAttribute("type","discrete"),P.setAttribute("tableValues",R),Y.append(P)}#g(Y,I,R,P){const D=this.#r.createElementNS(f,"feComponentTransfer");P.append(D),this.#m(D,"feFuncR",Y),this.#m(D,"feFuncG",I),this.#m(D,"feFuncB",R)}#u(Y){return this.#h.style.color=Y,J(getComputedStyle(this.#h).getPropertyValue("color"))}}s.DOMFilterFactory=b;class k extends a.BaseCanvasFactory{constructor(){let{ownerDocument:Y=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=Y}_createCanvas(Y,I){const R=this._document.createElement("canvas");return R.width=Y,R.height=I,R}}s.DOMCanvasFactory=k;async function h(ie){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L(ie,document.baseURI)){const I=await fetch(ie);if(!I.ok)throw new Error(I.statusText);return Y?new Uint8Array(await I.arrayBuffer()):(0,l.stringToBytes)(await I.text())}return new Promise((I,R)=>{const P=new XMLHttpRequest;P.open("GET",ie,!0),Y&&(P.responseType="arraybuffer"),P.onreadystatechange=()=>{if(P.readyState===XMLHttpRequest.DONE){if(P.status===200||P.status===0){let D;if(Y&&P.response?D=new Uint8Array(P.response):!Y&&P.responseText&&(D=(0,l.stringToBytes)(P.responseText)),D){I(D);return}}R(new Error(P.statusText))}},P.send(null)})}class c extends a.BaseCMapReaderFactory{_fetchData(Y,I){return h(Y,this.isCompressed).then(R=>({cMapData:R,compressionType:I}))}}s.DOMCMapReaderFactory=c;class p extends a.BaseStandardFontDataFactory{_fetchData(Y){return h(Y,!0)}}s.DOMStandardFontDataFactory=p;class g extends a.BaseSVGFactory{_createSVG(Y){return document.createElementNS(f,Y)}}s.DOMSVGFactory=g;class y{constructor(Y){let{viewBox:I,scale:R,rotation:P,offsetX:D=0,offsetY:B=0,dontFlip:W=!1}=Y;this.viewBox=I,this.scale=R,this.rotation=P,this.offsetX=D,this.offsetY=B;const G=(I[2]+I[0])/2,H=(I[3]+I[1])/2;let A,O,F,_;switch(P%=360,P<0&&(P+=360),P){case 180:A=-1,O=0,F=0,_=1;break;case 90:A=0,O=1,F=1,_=0;break;case 270:A=0,O=-1,F=-1,_=0;break;case 0:A=1,O=0,F=0,_=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}W&&(F=-F,_=-_);let N,X,Z,ne;A===0?(N=Math.abs(H-I[1])*R+D,X=Math.abs(G-I[0])*R+B,Z=(I[3]-I[1])*R,ne=(I[2]-I[0])*R):(N=Math.abs(G-I[0])*R+D,X=Math.abs(H-I[1])*R+B,Z=(I[2]-I[0])*R,ne=(I[3]-I[1])*R),this.transform=[A*R,O*R,F*R,_*R,N-A*R*G-F*R*H,X-O*R*G-_*R*H],this.width=Z,this.height=ne}get rawDims(){const{viewBox:Y}=this;return(0,l.shadow)(this,"rawDims",{pageWidth:Y[2]-Y[0],pageHeight:Y[3]-Y[1],pageX:Y[0],pageY:Y[1]})}clone(){let{scale:Y=this.scale,rotation:I=this.rotation,offsetX:R=this.offsetX,offsetY:P=this.offsetY,dontFlip:D=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new y({viewBox:this.viewBox.slice(),scale:Y,rotation:I,offsetX:R,offsetY:P,dontFlip:D})}convertToViewportPoint(Y,I){return l.Util.applyTransform([Y,I],this.transform)}convertToViewportRectangle(Y){const I=l.Util.applyTransform([Y[0],Y[1]],this.transform),R=l.Util.applyTransform([Y[2],Y[3]],this.transform);return[I[0],I[1],R[0],R[1]]}convertToPdfPoint(Y,I){return l.Util.applyInverseTransform([Y,I],this.transform)}}s.PageViewport=y;class d extends l.BaseException{constructor(Y){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;super(Y,"RenderingCancelledException"),this.extraDelay=I}}s.RenderingCancelledException=d;function m(ie){const Y=ie.length;let I=0;for(;I<Y&&ie[I].trim()==="";)I++;return ie.substring(I,I+5).toLowerCase()==="data:"}function S(ie){return typeof ie=="string"&&/\.pdf$/i.test(ie)}function x(ie){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||([ie]=ie.split(/[#?]/,1)),ie.substring(ie.lastIndexOf("/")+1)}function T(ie){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof ie!="string")return Y;if(m(ie))return(0,l.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Y;const I=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,R=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,P=I.exec(ie);let D=R.exec(P[1])||R.exec(P[2])||R.exec(P[3]);if(D&&(D=D[0],D.includes("%")))try{D=R.exec(decodeURIComponent(D))[0]}catch{}return D||Y}class j{started=Object.create(null);times=[];time(Y){Y in this.started&&(0,l.warn)(`Timer is already running for ${Y}`),this.started[Y]=Date.now()}timeEnd(Y){Y in this.started||(0,l.warn)(`Timer has not been started for ${Y}`),this.times.push({name:Y,start:this.started[Y],end:Date.now()}),delete this.started[Y]}toString(){const Y=[];let I=0;for(const{name:R}of this.times)I=Math.max(R.length,I);for(const{name:R,start:P,end:D}of this.times)Y.push(`${R.padEnd(I)} ${D-P}ms
`);return Y.join("")}}s.StatTimer=j;function L(ie,Y){try{const{protocol:I}=Y?new URL(ie,Y):new URL(ie);return I==="http:"||I==="https:"}catch{return!1}}function w(ie){ie.preventDefault()}function M(ie){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((I,R)=>{const P=document.createElement("script");P.src=ie,P.onload=function(D){Y&&P.remove(),I(D)},P.onerror=function(){R(new Error(`Cannot load script at: ${P.src}`))},(document.head||document.documentElement).append(P)})}function z(ie){console.log("Deprecated API usage: "+ie)}let $;class V{static toDateObject(Y){if(!Y||typeof Y!="string")return null;$||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const I=$.exec(Y);if(!I)return null;const R=parseInt(I[1],10);let P=parseInt(I[2],10);P=P>=1&&P<=12?P-1:0;let D=parseInt(I[3],10);D=D>=1&&D<=31?D:1;let B=parseInt(I[4],10);B=B>=0&&B<=23?B:0;let W=parseInt(I[5],10);W=W>=0&&W<=59?W:0;let G=parseInt(I[6],10);G=G>=0&&G<=59?G:0;const H=I[7]||"Z";let A=parseInt(I[8],10);A=A>=0&&A<=23?A:0;let O=parseInt(I[9],10)||0;return O=O>=0&&O<=59?O:0,H==="-"?(B+=A,W+=O):H==="+"&&(B-=A,W-=O),new Date(Date.UTC(R,P,D,B,W,G))}}s.PDFDateString=V;function K(ie,Y){let{scale:I=1,rotation:R=0}=Y;const{width:P,height:D}=ie.attributes.style,B=[0,0,parseInt(P),parseInt(D)];return new y({viewBox:B,scale:I,rotation:R})}function J(ie){if(ie.startsWith("#")){const Y=parseInt(ie.slice(1),16);return[(Y&16711680)>>16,(Y&65280)>>8,Y&255]}return ie.startsWith("rgb(")?ie.slice(4,-1).split(",").map(Y=>parseInt(Y)):ie.startsWith("rgba(")?ie.slice(5,-1).split(",").map(Y=>parseInt(Y)).slice(0,3):((0,l.warn)(`Not a valid color format: "${ie}"`),[0,0,0])}function te(ie){const Y=document.createElement("span");Y.style.visibility="hidden",document.body.append(Y);for(const I of ie.keys()){Y.style.color=I;const R=window.getComputedStyle(Y).color;ie.set(I,J(R))}Y.remove()}function se(ie){const{a:Y,b:I,c:R,d:P,e:D,f:B}=ie.getTransform();return[Y,I,R,P,D,B]}function de(ie){const{a:Y,b:I,c:R,d:P,e:D,f:B}=ie.getTransform().invertSelf();return[Y,I,R,P,D,B]}function pe(ie,Y){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(Y instanceof y){const{pageWidth:P,pageHeight:D}=Y.rawDims,{style:B}=ie,W=l.FeatureTest.isCSSRoundSupported,G=`var(--scale-factor) * ${P}px`,H=`var(--scale-factor) * ${D}px`,A=W?`round(${G}, 1px)`:`calc(${G})`,O=W?`round(${H}, 1px)`:`calc(${H})`;!I||Y.rotation%180===0?(B.width=A,B.height=O):(B.width=O,B.height=A)}R&&ie.setAttribute("data-main-rotation",Y.rotation)}}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0,n(2);var a=n(1);class l{constructor(){this.constructor===l&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(c){return"none"}addHCMFilter(c,p){return"none"}addHighlightHCMFilter(c,p,g,y){return"none"}destroy(){}}s.BaseFilterFactory=l;class f{constructor(){this.constructor===f&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(c,p){if(c<=0||p<=0)throw new Error("Invalid canvas size");const g=this._createCanvas(c,p);return{canvas:g,context:g.getContext("2d")}}reset(c,p,g){if(!c.canvas)throw new Error("Canvas is not specified");if(p<=0||g<=0)throw new Error("Invalid canvas size");c.canvas.width=p,c.canvas.height=g}destroy(c){if(!c.canvas)throw new Error("Canvas is not specified");c.canvas.width=0,c.canvas.height=0,c.canvas=null,c.context=null}_createCanvas(c,p){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=f;class v{constructor(c){let{baseUrl:p=null,isCompressed:g=!0}=c;this.constructor===v&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=p,this.isCompressed=g}async fetch(c){let{name:p}=c;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!p)throw new Error("CMap name must be specified.");const g=this.baseUrl+p+(this.isCompressed?".bcmap":""),y=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(g,y).catch(d=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${g}`)})}_fetchData(c,p){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=v;class b{constructor(c){let{baseUrl:p=null}=c;this.constructor===b&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=p}async fetch(c){let{filename:p}=c;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!p)throw new Error("Font filename must be specified.");const g=`${this.baseUrl}${p}`;return this._fetchData(g).catch(y=>{throw new Error(`Unable to load font data at: ${g}`)})}_fetchData(c){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=b;class k{constructor(){this.constructor===k&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(c,p){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(c<=0||p<=0)throw new Error("Invalid SVG dimensions");const y=this._createSVG("svg:svg");return y.setAttribute("version","1.1"),g||(y.setAttribute("width",`${c}px`),y.setAttribute("height",`${p}px`)),y.setAttribute("preserveAspectRatio","none"),y.setAttribute("viewBox",`0 0 ${c} ${p}`),y}createElement(c){if(typeof c!="string")throw new Error("Invalid SVG element type");return this._createSVG(c)}_createSVG(c){(0,a.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=k}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0,n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123),n(2);var a=n(1);const l=3285377520,f=4294901760,v=65535;class b{constructor(h){this.h1=h?h&4294967295:l,this.h2=h?h&4294967295:l}update(h){let c,p;if(typeof h=="string"){c=new Uint8Array(h.length*2),p=0;for(let z=0,$=h.length;z<$;z++){const V=h.charCodeAt(z);V<=255?c[p++]=V:(c[p++]=V>>>8,c[p++]=V&255)}}else if((0,a.isArrayBuffer)(h))c=h.slice(),p=c.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const g=p>>2,y=p-g*4,d=new Uint32Array(c.buffer,0,g);let m=0,S=0,x=this.h1,T=this.h2;const j=3432918353,L=461845907,w=j&v,M=L&v;for(let z=0;z<g;z++)z&1?(m=d[z],m=m*j&f|m*w&v,m=m<<15|m>>>17,m=m*L&f|m*M&v,x^=m,x=x<<13|x>>>19,x=x*5+3864292196):(S=d[z],S=S*j&f|S*w&v,S=S<<15|S>>>17,S=S*L&f|S*M&v,T^=S,T=T<<13|T>>>19,T=T*5+3864292196);switch(m=0,y){case 3:m^=c[g*4+2]<<16;case 2:m^=c[g*4+1]<<8;case 1:m^=c[g*4],m=m*j&f|m*w&v,m=m<<15|m>>>17,m=m*L&f|m*M&v,g&1?x^=m:T^=m}this.h1=x,this.h2=T}hexdigest(){let h=this.h1,c=this.h2;return h^=c>>>1,h=h*3981806797&f|h*36045&v,c=c*4283543511&f|((c<<16|h>>>16)*2950163797&f)>>>16,h^=c>>>1,h=h*444984403&f|h*60499&v,c=c*3301882366&f|((c<<16|h>>>16)*3120437893&f)>>>16,h^=c>>>1,(h>>>0).toString(16).padStart(8,"0")+(c>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=b}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0,n(125),n(136),n(138),n(141),n(143),n(145),n(147),n(89),n(149);var a=n(1);class l{#e=new Set;constructor(b){let{ownerDocument:k=globalThis.document,styleElement:h=null}=b;this._document=k,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(b){this.nativeFontFaces.add(b),this._document.fonts.add(b)}removeNativeFontFace(b){this.nativeFontFaces.delete(b),this._document.fonts.delete(b)}insertRule(b){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const k=this.styleElement.sheet;k.insertRule(b,k.cssRules.length)}clear(){for(const b of this.nativeFontFaces)this._document.fonts.delete(b);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(b){if(!(!b||this.#e.has(b.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:k,src:h,style:c}=b,p=new FontFace(k,h,c);this.addNativeFontFace(p);try{await p.load(),this.#e.add(k)}catch{(0,a.warn)(`Cannot load system font: ${b.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(p)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(b){if(b.attached||b.missingFile&&!b.systemFontInfo)return;if(b.attached=!0,b.systemFontInfo){await this.loadSystemFont(b.systemFontInfo);return}if(this.isFontLoadingAPISupported){const h=b.createNativeFontFace();if(h){this.addNativeFontFace(h);try{await h.loaded}catch(c){throw(0,a.warn)(`Failed to load font '${h.family}': '${c}'.`),b.disableFontFace=!0,c}}return}const k=b.createFontFaceRule();if(k){if(this.insertRule(k),this.isSyncFontLoadingSupported)return;await new Promise(h=>{const c=this._queueLoadingCallback(h);this._prepareFontLoadEvent(b,c)})}}get isFontLoadingAPISupported(){const b=!!this._document?.fonts;return(0,a.shadow)(this,"isFontLoadingAPISupported",b)}get isSyncFontLoadingSupported(){let b=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(b=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",b)}_queueLoadingCallback(b){function k(){for((0,a.assert)(!c.done,"completeRequest() cannot be called twice."),c.done=!0;h.length>0&&h[0].done;){const p=h.shift();setTimeout(p.callback,0)}}const{loadingRequests:h}=this,c={done:!1,complete:k,callback:b};return h.push(c),c}get _loadTestFont(){const b=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",b)}_prepareFontLoadEvent(b,k){function h(K,J){return K.charCodeAt(J)<<24|K.charCodeAt(J+1)<<16|K.charCodeAt(J+2)<<8|K.charCodeAt(J+3)&255}function c(K,J,te,se){const de=K.substring(0,J),pe=K.substring(J+te);return de+se+pe}let p,g;const y=this._document.createElement("canvas");y.width=1,y.height=1;const d=y.getContext("2d");let m=0;function S(K,J){if(++m>30){(0,a.warn)("Load test font never loaded."),J();return}if(d.font="30px "+K,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){J();return}setTimeout(S.bind(null,K,J))}const x=`lt${Date.now()}${this.loadTestFontId++}`;let T=this._loadTestFont;T=c(T,976,x.length,x);const L=16,w=1482184792;let M=h(T,L);for(p=0,g=x.length-3;p<g;p+=4)M=M-w+h(x,p)|0;p<x.length&&(M=M-w+h(x+"XXX",p)|0),T=c(T,L,4,(0,a.string32)(M));const z=`url(data:font/opentype;base64,${btoa(T)});`,$=`@font-face {font-family:"${x}";src:${z}}`;this.insertRule($);const V=this._document.createElement("div");V.style.visibility="hidden",V.style.width=V.style.height="10px",V.style.position="absolute",V.style.top=V.style.left="0px";for(const K of[b.loadedName,x]){const J=this._document.createElement("span");J.textContent="Hi",J.style.fontFamily=K,V.append(J)}this._document.body.append(V),S(x,()=>{V.remove(),k.complete()})}}s.FontLoader=l;class f{constructor(b,k){let{isEvalSupported:h=!0,disableFontFace:c=!1,ignoreErrors:p=!1,inspectFont:g=null}=k;this.compiledGlyphs=Object.create(null);for(const y in b)this[y]=b[y];this.isEvalSupported=h!==!1,this.disableFontFace=c===!0,this.ignoreErrors=p===!0,this._inspectFont=g}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let b;if(!this.cssFontInfo)b=new FontFace(this.loadedName,this.data,{});else{const k={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(k.style=`oblique ${this.cssFontInfo.italicAngle}deg`),b=new FontFace(this.cssFontInfo.fontFamily,this.data,k)}return this._inspectFont?.(this),b}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const b=(0,a.bytesToString)(this.data),k=`url(data:${this.mimetype};base64,${btoa(b)});`;let h;if(!this.cssFontInfo)h=`@font-face {font-family:"${this.loadedName}";src:${k}}`;else{let c=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(c+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),h=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${c}src:${k}}`}return this._inspectFont?.(this,k),h}getPathGenerator(b,k){if(this.compiledGlyphs[k]!==void 0)return this.compiledGlyphs[k];let h;try{h=b.get(this.loadedName+"_path_"+k)}catch(c){if(!this.ignoreErrors)throw c;return(0,a.warn)(`getPathGenerator - ignoring character: "${c}".`),this.compiledGlyphs[k]=function(p,g){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const c=[];for(const p of h){const g=p.args!==void 0?p.args.join(","):"";c.push("c.",p.cmd,"(",g,`);
`)}return this.compiledGlyphs[k]=new Function("c","size",c.join(""))}return this.compiledGlyphs[k]=function(c,p){for(const g of h)g.cmd==="scale"&&(g.args=[p,-p]),c[g.cmd].apply(c,g.args)}}}s.FontFaceObject=f}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0,n(2),n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123);var a=n(169),l=n(1);(function(){if(!(globalThis.DOMMatrix||!l.isNodeJS))try{globalThis.DOMMatrix=require$$5.DOMMatrix}catch(p){(0,l.warn)(`Cannot polyfill \`DOMMatrix\`, rendering may be broken: "${p}".`)}})(),(function(){if(!(globalThis.Path2D||!l.isNodeJS))try{const{CanvasRenderingContext2D:p}=require$$5,{polyfillPath2D:g}=requirePath2dPolyfill_esm();globalThis.CanvasRenderingContext2D=p,g(globalThis)}catch(p){(0,l.warn)(`Cannot polyfill \`Path2D\`, rendering may be broken: "${p}".`)}})();const f=function(c){return new Promise((p,g)=>{require$$5.readFile(c,(d,m)=>{if(d||!m){g(new Error(d));return}p(new Uint8Array(m))})})};class v extends a.BaseFilterFactory{}s.NodeFilterFactory=v;class b extends a.BaseCanvasFactory{_createCanvas(p,g){return require$$5.createCanvas(p,g)}}s.NodeCanvasFactory=b;class k extends a.BaseCMapReaderFactory{_fetchData(p,g){return f(p).then(y=>({cMapData:y,compressionType:g}))}}s.NodeCMapReaderFactory=k;class h extends a.BaseStandardFontDataFactory{_fetchData(p){return f(p)}}s.NodeStandardFontDataFactory=h}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0,n(2),n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123),n(89);var a=n(1),l=n(168),f=n(174),v=n(175);const b=16,k=100,h=4096,c=15,p=10,g=1e3,y=16;function d(I,R){if(I._removeMirroring)throw new Error("Context is already forwarding operations.");I.__originalSave=I.save,I.__originalRestore=I.restore,I.__originalRotate=I.rotate,I.__originalScale=I.scale,I.__originalTranslate=I.translate,I.__originalTransform=I.transform,I.__originalSetTransform=I.setTransform,I.__originalResetTransform=I.resetTransform,I.__originalClip=I.clip,I.__originalMoveTo=I.moveTo,I.__originalLineTo=I.lineTo,I.__originalBezierCurveTo=I.bezierCurveTo,I.__originalRect=I.rect,I.__originalClosePath=I.closePath,I.__originalBeginPath=I.beginPath,I._removeMirroring=()=>{I.save=I.__originalSave,I.restore=I.__originalRestore,I.rotate=I.__originalRotate,I.scale=I.__originalScale,I.translate=I.__originalTranslate,I.transform=I.__originalTransform,I.setTransform=I.__originalSetTransform,I.resetTransform=I.__originalResetTransform,I.clip=I.__originalClip,I.moveTo=I.__originalMoveTo,I.lineTo=I.__originalLineTo,I.bezierCurveTo=I.__originalBezierCurveTo,I.rect=I.__originalRect,I.closePath=I.__originalClosePath,I.beginPath=I.__originalBeginPath,delete I._removeMirroring},I.save=function(){R.save(),this.__originalSave()},I.restore=function(){R.restore(),this.__originalRestore()},I.translate=function(D,B){R.translate(D,B),this.__originalTranslate(D,B)},I.scale=function(D,B){R.scale(D,B),this.__originalScale(D,B)},I.transform=function(D,B,W,G,H,A){R.transform(D,B,W,G,H,A),this.__originalTransform(D,B,W,G,H,A)},I.setTransform=function(D,B,W,G,H,A){R.setTransform(D,B,W,G,H,A),this.__originalSetTransform(D,B,W,G,H,A)},I.resetTransform=function(){R.resetTransform(),this.__originalResetTransform()},I.rotate=function(D){R.rotate(D),this.__originalRotate(D)},I.clip=function(D){R.clip(D),this.__originalClip(D)},I.moveTo=function(P,D){R.moveTo(P,D),this.__originalMoveTo(P,D)},I.lineTo=function(P,D){R.lineTo(P,D),this.__originalLineTo(P,D)},I.bezierCurveTo=function(P,D,B,W,G,H){R.bezierCurveTo(P,D,B,W,G,H),this.__originalBezierCurveTo(P,D,B,W,G,H)},I.rect=function(P,D,B,W){R.rect(P,D,B,W),this.__originalRect(P,D,B,W)},I.closePath=function(){R.closePath(),this.__originalClosePath()},I.beginPath=function(){R.beginPath(),this.__originalBeginPath()}}class m{constructor(R){this.canvasFactory=R,this.cache=Object.create(null)}getCanvas(R,P,D){let B;return this.cache[R]!==void 0?(B=this.cache[R],this.canvasFactory.reset(B,P,D)):(B=this.canvasFactory.create(P,D),this.cache[R]=B),B}delete(R){delete this.cache[R]}clear(){for(const R in this.cache){const P=this.cache[R];this.canvasFactory.destroy(P),delete this.cache[R]}}}function S(I,R,P,D,B,W,G,H,A,O){const[F,_,N,X,Z,ne]=(0,l.getCurrentTransform)(I);if(_===0&&N===0){const he=G*F+Z,ge=Math.round(he),me=H*X+ne,ve=Math.round(me),Ce=(G+A)*F+Z,Re=Math.abs(Math.round(Ce)-ge)||1,Fe=(H+O)*X+ne,Ue=Math.abs(Math.round(Fe)-ve)||1;return I.setTransform(Math.sign(F),0,0,Math.sign(X),ge,ve),I.drawImage(R,P,D,B,W,0,0,Re,Ue),I.setTransform(F,_,N,X,Z,ne),[Re,Ue]}if(F===0&&X===0){const he=H*N+Z,ge=Math.round(he),me=G*_+ne,ve=Math.round(me),Ce=(H+O)*N+Z,Re=Math.abs(Math.round(Ce)-ge)||1,Fe=(G+A)*_+ne,Ue=Math.abs(Math.round(Fe)-ve)||1;return I.setTransform(0,Math.sign(_),Math.sign(N),0,ge,ve),I.drawImage(R,P,D,B,W,0,0,Ue,Re),I.setTransform(F,_,N,X,Z,ne),[Ue,Re]}I.drawImage(R,P,D,B,W,G,H,A,O);const ye=Math.hypot(F,_),oe=Math.hypot(N,X);return[ye*A,oe*O]}function x(I){const{width:R,height:P}=I;if(R>g||P>g)return null;const D=1e3,B=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),W=R+1;let G=new Uint8Array(W*(P+1)),H,A,O;const F=R+7&-8;let _=new Uint8Array(F*P),N=0;for(const oe of I.data){let he=128;for(;he>0;)_[N++]=oe&he?0:255,he>>=1}let X=0;for(N=0,_[N]!==0&&(G[0]=1,++X),A=1;A<R;A++)_[N]!==_[N+1]&&(G[A]=_[N]?2:1,++X),N++;for(_[N]!==0&&(G[A]=2,++X),H=1;H<P;H++){N=H*F,O=H*W,_[N-F]!==_[N]&&(G[O]=_[N]?1:8,++X);let oe=(_[N]?4:0)+(_[N-F]?8:0);for(A=1;A<R;A++)oe=(oe>>2)+(_[N+1]?4:0)+(_[N-F+1]?8:0),B[oe]&&(G[O+A]=B[oe],++X),N++;if(_[N-F]!==_[N]&&(G[O+A]=_[N]?2:4,++X),X>D)return null}for(N=F*(P-1),O=H*W,_[N]!==0&&(G[O]=8,++X),A=1;A<R;A++)_[N]!==_[N+1]&&(G[O+A]=_[N]?4:8,++X),N++;if(_[N]!==0&&(G[O+A]=4,++X),X>D)return null;const Z=new Int32Array([0,W,-1,0,-W,0,0,0,1]),ne=new Path2D;for(H=0;X&&H<=P;H++){let oe=H*W;const he=oe+R;for(;oe<he&&!G[oe];)oe++;if(oe===he)continue;ne.moveTo(oe%W,H);const ge=oe;let me=G[oe];do{const ve=Z[me];do oe+=ve;while(!G[oe]);const Ce=G[oe];Ce!==5&&Ce!==10?(me=Ce,G[oe]=0):(me=Ce&51*me>>4,G[oe]&=me>>2|me<<2),ne.lineTo(oe%W,oe/W|0),G[oe]||--X}while(ge!==oe);--H}return _=null,G=null,function(oe){oe.save(),oe.scale(1/R,-1/P),oe.translate(0,-P),oe.fill(ne),oe.beginPath(),oe.restore()}}class T{constructor(R,P){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,R,P])}clone(){const R=Object.create(this);return R.clipBox=this.clipBox.slice(),R}setCurrentPoint(R,P){this.x=R,this.y=P}updatePathMinMax(R,P,D){[P,D]=a.Util.applyTransform([P,D],R),this.minX=Math.min(this.minX,P),this.minY=Math.min(this.minY,D),this.maxX=Math.max(this.maxX,P),this.maxY=Math.max(this.maxY,D)}updateRectMinMax(R,P){const D=a.Util.applyTransform(P,R),B=a.Util.applyTransform(P.slice(2),R);this.minX=Math.min(this.minX,D[0],B[0]),this.minY=Math.min(this.minY,D[1],B[1]),this.maxX=Math.max(this.maxX,D[0],B[0]),this.maxY=Math.max(this.maxY,D[1],B[1])}updateScalingPathMinMax(R,P){a.Util.scaleMinMax(R,P),this.minX=Math.min(this.minX,P[0]),this.maxX=Math.max(this.maxX,P[1]),this.minY=Math.min(this.minY,P[2]),this.maxY=Math.max(this.maxY,P[3])}updateCurvePathMinMax(R,P,D,B,W,G,H,A,O,F){const _=a.Util.bezierBoundingBox(P,D,B,W,G,H,A,O);if(F){F[0]=Math.min(F[0],_[0],_[2]),F[1]=Math.max(F[1],_[0],_[2]),F[2]=Math.min(F[2],_[1],_[3]),F[3]=Math.max(F[3],_[1],_[3]);return}this.updateRectMinMax(R,_)}getPathBoundingBox(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.PathType.FILL,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const D=[this.minX,this.minY,this.maxX,this.maxY];if(R===f.PathType.STROKE){P||(0,a.unreachable)("Stroke bounding box must include transform.");const B=a.Util.singularValueDecompose2dScale(P),W=B[0]*this.lineWidth/2,G=B[1]*this.lineWidth/2;D[0]-=W,D[1]-=G,D[2]+=W,D[3]+=G}return D}updateClipFromPath(){const R=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(R||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(R){this.clipBox=R,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.PathType.FILL,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return a.Util.intersect(this.clipBox,this.getPathBoundingBox(R,P))}}function j(I,R){if(typeof ImageData<"u"&&R instanceof ImageData){I.putImageData(R,0,0);return}const P=R.height,D=R.width,B=P%y,W=(P-B)/y,G=B===0?W:W+1,H=I.createImageData(D,y);let A=0,O;const F=R.data,_=H.data;let N,X,Z,ne;if(R.kind===a.ImageKind.GRAYSCALE_1BPP){const ye=F.byteLength,oe=new Uint32Array(_.buffer,0,_.byteLength>>2),he=oe.length,ge=D+7>>3,me=4294967295,ve=a.FeatureTest.isLittleEndian?4278190080:255;for(N=0;N<G;N++){for(Z=N<W?y:B,O=0,X=0;X<Z;X++){const Ce=ye-A;let Re=0;const Fe=Ce>ge?D:Ce*8-7,Ue=Fe&-8;let He=0,Ye=0;for(;Re<Ue;Re+=8)Ye=F[A++],oe[O++]=Ye&128?me:ve,oe[O++]=Ye&64?me:ve,oe[O++]=Ye&32?me:ve,oe[O++]=Ye&16?me:ve,oe[O++]=Ye&8?me:ve,oe[O++]=Ye&4?me:ve,oe[O++]=Ye&2?me:ve,oe[O++]=Ye&1?me:ve;for(;Re<Fe;Re++)He===0&&(Ye=F[A++],He=128),oe[O++]=Ye&He?me:ve,He>>=1}for(;O<he;)oe[O++]=0;I.putImageData(H,0,N*y)}}else if(R.kind===a.ImageKind.RGBA_32BPP){for(X=0,ne=D*y*4,N=0;N<W;N++)_.set(F.subarray(A,A+ne)),A+=ne,I.putImageData(H,0,X),X+=y;N<G&&(ne=D*B*4,_.set(F.subarray(A,A+ne)),I.putImageData(H,0,X))}else if(R.kind===a.ImageKind.RGB_24BPP)for(Z=y,ne=D*Z,N=0;N<G;N++){for(N>=W&&(Z=B,ne=D*Z),O=0,X=ne;X--;)_[O++]=F[A++],_[O++]=F[A++],_[O++]=F[A++],_[O++]=255;I.putImageData(H,0,N*y)}else throw new Error(`bad image kind: ${R.kind}`)}function L(I,R){if(R.bitmap){I.drawImage(R.bitmap,0,0);return}const P=R.height,D=R.width,B=P%y,W=(P-B)/y,G=B===0?W:W+1,H=I.createImageData(D,y);let A=0;const O=R.data,F=H.data;for(let _=0;_<G;_++){const N=_<W?y:B;({srcPos:A}=(0,v.convertBlackAndWhiteToRGBA)({src:O,srcPos:A,dest:F,width:D,height:N,nonBlackColor:0})),I.putImageData(H,0,_*y)}}function w(I,R){const P=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const D of P)I[D]!==void 0&&(R[D]=I[D]);I.setLineDash!==void 0&&(R.setLineDash(I.getLineDash()),R.lineDashOffset=I.lineDashOffset)}function M(I){if(I.strokeStyle=I.fillStyle="#000000",I.fillRule="nonzero",I.globalAlpha=1,I.lineWidth=1,I.lineCap="butt",I.lineJoin="miter",I.miterLimit=10,I.globalCompositeOperation="source-over",I.font="10px sans-serif",I.setLineDash!==void 0&&(I.setLineDash([]),I.lineDashOffset=0),!a.isNodeJS){const{filter:R}=I;R!=="none"&&R!==""&&(I.filter="none")}}function z(I,R,P,D){const B=I.length;for(let W=3;W<B;W+=4){const G=I[W];if(G===0)I[W-3]=R,I[W-2]=P,I[W-1]=D;else if(G<255){const H=255-G;I[W-3]=I[W-3]*G+R*H>>8,I[W-2]=I[W-2]*G+P*H>>8,I[W-1]=I[W-1]*G+D*H>>8}}}function $(I,R,P){const D=I.length,B=1/255;for(let W=3;W<D;W+=4){const G=P?P[I[W]]:I[W];R[W]=R[W]*G*B|0}}function V(I,R,P){const D=I.length;for(let B=3;B<D;B+=4){const W=I[B-3]*77+I[B-2]*152+I[B-1]*28;R[B]=P?R[B]*P[W>>8]>>8:R[B]*W>>16}}function K(I,R,P,D,B,W,G,H,A,O,F){const _=!!W,N=_?W[0]:0,X=_?W[1]:0,Z=_?W[2]:0,ne=B==="Luminosity"?V:$,oe=Math.min(D,Math.ceil(1048576/P));for(let he=0;he<D;he+=oe){const ge=Math.min(oe,D-he),me=I.getImageData(H-O,he+(A-F),P,ge),ve=R.getImageData(H,he+A,P,ge);_&&z(me.data,N,X,Z),ne(me.data,ve.data,G),R.putImageData(ve,H,he+A)}}function J(I,R,P,D){const B=D[0],W=D[1],G=D[2]-B,H=D[3]-W;G===0||H===0||(K(R.context,P,G,H,R.subtype,R.backdrop,R.transferMap,B,W,R.offsetX,R.offsetY),I.save(),I.globalAlpha=1,I.globalCompositeOperation="source-over",I.setTransform(1,0,0,1,0,0),I.drawImage(P.canvas,0,0),I.restore())}function te(I,R){const P=a.Util.singularValueDecompose2dScale(I);P[0]=Math.fround(P[0]),P[1]=Math.fround(P[1]);const D=Math.fround((globalThis.devicePixelRatio||1)*l.PixelsPerInch.PDF_TO_CSS_UNITS);return R!==void 0?R:P[0]<=D||P[1]<=D}const se=["butt","round","square"],de=["miter","round","bevel"],pe={},ie={};class Y{constructor(R,P,D,B,W,G,H,A){let{optionalContentConfig:O,markedContentStack:F=null}=G;this.ctx=R,this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=P,this.objs=D,this.canvasFactory=B,this.filterFactory=W,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=F||[],this.optionalContentConfig=O,this.cachedCanvases=new m(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=H,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=A,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(R){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof R=="string"?R.startsWith("g_")?this.commonObjs.get(R):this.objs.get(R):P}beginDrawing(R){let{transform:P,viewport:D,transparency:B=!1,background:W=null}=R;const G=this.ctx.canvas.width,H=this.ctx.canvas.height,A=this.ctx.fillStyle;if(this.ctx.fillStyle=W||"#ffffff",this.ctx.fillRect(0,0,G,H),this.ctx.fillStyle=A,B){const O=this.cachedCanvases.getCanvas("transparent",G,H);this.compositeCtx=this.ctx,this.transparentCanvas=O.canvas,this.ctx=O.context,this.ctx.save(),this.ctx.transform(...(0,l.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),M(this.ctx),P&&(this.ctx.transform(...P),this.outputScaleX=P[0],this.outputScaleY=P[0]),this.ctx.transform(...D.transform),this.viewportScale=D.scale,this.baseTransform=(0,l.getCurrentTransform)(this.ctx)}executeOperatorList(R,P,D,B){const W=R.argsArray,G=R.fnArray;let H=P||0;const A=W.length;if(A===H)return H;const O=A-H>p&&typeof D=="function",F=O?Date.now()+c:0;let _=0;const N=this.commonObjs,X=this.objs;let Z;for(;;){if(B!==void 0&&H===B.nextBreakPoint)return B.breakIt(H,D),H;if(Z=G[H],Z!==a.OPS.dependency)this[Z].apply(this,W[H]);else for(const ne of W[H]){const ye=ne.startsWith("g_")?N:X;if(!ye.has(ne))return ye.get(ne,D),H}if(H++,H===A)return H;if(O&&++_>p){if(Date.now()>F)return D(),H;_=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const R of this._cachedBitmapsMap.values()){for(const P of R.values())typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement&&(P.width=P.height=0);R.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const R=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(R!=="none"){const P=this.ctx.filter;this.ctx.filter=R,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=P}}}_scaleImage(R,P){const D=R.width,B=R.height;let W=Math.max(Math.hypot(P[0],P[1]),1),G=Math.max(Math.hypot(P[2],P[3]),1),H=D,A=B,O="prescale1",F,_;for(;W>2&&H>1||G>2&&A>1;){let N=H,X=A;W>2&&H>1&&(N=H>=16384?Math.floor(H/2)-1||1:Math.ceil(H/2),W/=H/N),G>2&&A>1&&(X=A>=16384?Math.floor(A/2)-1||1:Math.ceil(A)/2,G/=A/X),F=this.cachedCanvases.getCanvas(O,N,X),_=F.context,_.clearRect(0,0,N,X),_.drawImage(R,0,0,H,A,0,0,N,X),R=F.canvas,H=N,A=X,O=O==="prescale1"?"prescale2":"prescale1"}return{img:R,paintWidth:H,paintHeight:A}}_createMaskCanvas(R){const P=this.ctx,{width:D,height:B}=R,W=this.current.fillColor,G=this.current.patternFill,H=(0,l.getCurrentTransform)(P);let A,O,F,_;if((R.bitmap||R.data)&&R.count>1){const Re=R.bitmap||R.data.buffer;O=JSON.stringify(G?H:[H.slice(0,4),W]),A=this._cachedBitmapsMap.get(Re),A||(A=new Map,this._cachedBitmapsMap.set(Re,A));const Fe=A.get(O);if(Fe&&!G){const Ue=Math.round(Math.min(H[0],H[2])+H[4]),He=Math.round(Math.min(H[1],H[3])+H[5]);return{canvas:Fe,offsetX:Ue,offsetY:He}}F=Fe}F||(_=this.cachedCanvases.getCanvas("maskCanvas",D,B),L(_.context,R));let N=a.Util.transform(H,[1/D,0,0,-1/B,0,0]);N=a.Util.transform(N,[1,0,0,1,0,-B]);const X=a.Util.applyTransform([0,0],N),Z=a.Util.applyTransform([D,B],N),ne=a.Util.normalizeRect([X[0],X[1],Z[0],Z[1]]),ye=Math.round(ne[2]-ne[0])||1,oe=Math.round(ne[3]-ne[1])||1,he=this.cachedCanvases.getCanvas("fillCanvas",ye,oe),ge=he.context,me=Math.min(X[0],Z[0]),ve=Math.min(X[1],Z[1]);ge.translate(-me,-ve),ge.transform(...N),F||(F=this._scaleImage(_.canvas,(0,l.getCurrentTransformInverse)(ge)),F=F.img,A&&G&&A.set(O,F)),ge.imageSmoothingEnabled=te((0,l.getCurrentTransform)(ge),R.interpolate),S(ge,F,0,0,F.width,F.height,0,0,D,B),ge.globalCompositeOperation="source-in";const Ce=a.Util.transform((0,l.getCurrentTransformInverse)(ge),[1,0,0,1,-me,-ve]);return ge.fillStyle=G?W.getPattern(P,this,Ce,f.PathType.FILL):W,ge.fillRect(0,0,D,B),A&&!G&&(this.cachedCanvases.delete("fillCanvas"),A.set(O,he.canvas)),{canvas:he.canvas,offsetX:Math.round(me),offsetY:Math.round(ve)}}setLineWidth(R){R!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=R,this.ctx.lineWidth=R}setLineCap(R){this.ctx.lineCap=se[R]}setLineJoin(R){this.ctx.lineJoin=de[R]}setMiterLimit(R){this.ctx.miterLimit=R}setDash(R,P){const D=this.ctx;D.setLineDash!==void 0&&(D.setLineDash(R),D.lineDashOffset=P)}setRenderingIntent(R){}setFlatness(R){}setGState(R){for(const[P,D]of R)switch(P){case"LW":this.setLineWidth(D);break;case"LC":this.setLineCap(D);break;case"LJ":this.setLineJoin(D);break;case"ML":this.setMiterLimit(D);break;case"D":this.setDash(D[0],D[1]);break;case"RI":this.setRenderingIntent(D);break;case"FL":this.setFlatness(D);break;case"Font":this.setFont(D[0],D[1]);break;case"CA":this.current.strokeAlpha=D;break;case"ca":this.current.fillAlpha=D,this.ctx.globalAlpha=D;break;case"BM":this.ctx.globalCompositeOperation=D;break;case"SMask":this.current.activeSMask=D?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(D);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const R=this.inSMaskMode;this.current.activeSMask&&!R?this.beginSMaskMode():!this.current.activeSMask&&R&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const R=this.ctx.canvas.width,P=this.ctx.canvas.height,D="smaskGroupAt"+this.groupLevel,B=this.cachedCanvases.getCanvas(D,R,P);this.suspendedCtx=this.ctx,this.ctx=B.context;const W=this.ctx;W.setTransform(...(0,l.getCurrentTransform)(this.suspendedCtx)),w(this.suspendedCtx,W),d(W,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),w(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(R){if(!this.current.activeSMask)return;R?(R[0]=Math.floor(R[0]),R[1]=Math.floor(R[1]),R[2]=Math.ceil(R[2]),R[3]=Math.ceil(R[3])):R=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const P=this.current.activeSMask,D=this.suspendedCtx;J(D,P,this.ctx,R),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(w(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const R=this.current;this.stateStack.push(R),this.current=R.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),w(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(R,P,D,B,W,G){this.ctx.transform(R,P,D,B,W,G),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(R,P,D){const B=this.ctx,W=this.current;let G=W.x,H=W.y,A,O;const F=(0,l.getCurrentTransform)(B),_=F[0]===0&&F[3]===0||F[1]===0&&F[2]===0,N=_?D.slice(0):null;for(let X=0,Z=0,ne=R.length;X<ne;X++)switch(R[X]|0){case a.OPS.rectangle:G=P[Z++],H=P[Z++];const ye=P[Z++],oe=P[Z++],he=G+ye,ge=H+oe;B.moveTo(G,H),ye===0||oe===0?B.lineTo(he,ge):(B.lineTo(he,H),B.lineTo(he,ge),B.lineTo(G,ge)),_||W.updateRectMinMax(F,[G,H,he,ge]),B.closePath();break;case a.OPS.moveTo:G=P[Z++],H=P[Z++],B.moveTo(G,H),_||W.updatePathMinMax(F,G,H);break;case a.OPS.lineTo:G=P[Z++],H=P[Z++],B.lineTo(G,H),_||W.updatePathMinMax(F,G,H);break;case a.OPS.curveTo:A=G,O=H,G=P[Z+4],H=P[Z+5],B.bezierCurveTo(P[Z],P[Z+1],P[Z+2],P[Z+3],G,H),W.updateCurvePathMinMax(F,A,O,P[Z],P[Z+1],P[Z+2],P[Z+3],G,H,N),Z+=6;break;case a.OPS.curveTo2:A=G,O=H,B.bezierCurveTo(G,H,P[Z],P[Z+1],P[Z+2],P[Z+3]),W.updateCurvePathMinMax(F,A,O,G,H,P[Z],P[Z+1],P[Z+2],P[Z+3],N),G=P[Z+2],H=P[Z+3],Z+=4;break;case a.OPS.curveTo3:A=G,O=H,G=P[Z+2],H=P[Z+3],B.bezierCurveTo(P[Z],P[Z+1],G,H,G,H),W.updateCurvePathMinMax(F,A,O,P[Z],P[Z+1],G,H,G,H,N),Z+=4;break;case a.OPS.closePath:B.closePath();break}_&&W.updateScalingPathMinMax(F,N),W.setCurrentPoint(G,H)}closePath(){this.ctx.closePath()}stroke(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const P=this.ctx,D=this.current.strokeColor;P.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof D=="object"&&D?.getPattern?(P.save(),P.strokeStyle=D.getPattern(P,this,(0,l.getCurrentTransformInverse)(P),f.PathType.STROKE),this.rescaleAndStroke(!1),P.restore()):this.rescaleAndStroke(!0)),R&&this.consumePath(this.current.getClippedPathBoundingBox()),P.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const P=this.ctx,D=this.current.fillColor,B=this.current.patternFill;let W=!1;B&&(P.save(),P.fillStyle=D.getPattern(P,this,(0,l.getCurrentTransformInverse)(P),f.PathType.FILL),W=!0);const G=this.current.getClippedPathBoundingBox();this.contentVisible&&G!==null&&(this.pendingEOFill?(P.fill("evenodd"),this.pendingEOFill=!1):P.fill()),W&&P.restore(),R&&this.consumePath(G)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=pe}eoClip(){this.pendingClip=ie}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const R=this.pendingTextPaths,P=this.ctx;if(R===void 0){P.beginPath();return}P.save(),P.beginPath();for(const D of R)P.setTransform(...D.transform),P.translate(D.x,D.y),D.addToPath(P,D.fontSize);P.restore(),P.clip(),P.beginPath(),delete this.pendingTextPaths}setCharSpacing(R){this.current.charSpacing=R}setWordSpacing(R){this.current.wordSpacing=R}setHScale(R){this.current.textHScale=R/100}setLeading(R){this.current.leading=-R}setFont(R,P){const D=this.commonObjs.get(R),B=this.current;if(!D)throw new Error(`Can't find font for ${R}`);if(B.fontMatrix=D.fontMatrix||a.FONT_IDENTITY_MATRIX,(B.fontMatrix[0]===0||B.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+R),P<0?(P=-P,B.fontDirection=-1):B.fontDirection=1,this.current.font=D,this.current.fontSize=P,D.isType3Font)return;const W=D.loadedName||"sans-serif",G=D.systemFontInfo?.css||`"${W}", ${D.fallbackName}`;let H="normal";D.black?H="900":D.bold&&(H="bold");const A=D.italic?"italic":"normal";let O=P;P<b?O=b:P>k&&(O=k),this.current.fontSizeScale=P/O,this.ctx.font=`${A} ${H} ${O}px ${G}`}setTextRenderingMode(R){this.current.textRenderingMode=R}setTextRise(R){this.current.textRise=R}moveText(R,P){this.current.x=this.current.lineX+=R,this.current.y=this.current.lineY+=P}setLeadingMoveText(R,P){this.setLeading(-P),this.moveText(R,P)}setTextMatrix(R,P,D,B,W,G){this.current.textMatrix=[R,P,D,B,W,G],this.current.textMatrixScale=Math.hypot(R,P),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(R,P,D,B){const W=this.ctx,G=this.current,H=G.font,A=G.textRenderingMode,O=G.fontSize/G.fontSizeScale,F=A&a.TextRenderingMode.FILL_STROKE_MASK,_=!!(A&a.TextRenderingMode.ADD_TO_PATH_FLAG),N=G.patternFill&&!H.missingFile;let X;(H.disableFontFace||_||N)&&(X=H.getPathGenerator(this.commonObjs,R)),H.disableFontFace||N?(W.save(),W.translate(P,D),W.beginPath(),X(W,O),B&&W.setTransform(...B),(F===a.TextRenderingMode.FILL||F===a.TextRenderingMode.FILL_STROKE)&&W.fill(),(F===a.TextRenderingMode.STROKE||F===a.TextRenderingMode.FILL_STROKE)&&W.stroke(),W.restore()):((F===a.TextRenderingMode.FILL||F===a.TextRenderingMode.FILL_STROKE)&&W.fillText(R,P,D),(F===a.TextRenderingMode.STROKE||F===a.TextRenderingMode.FILL_STROKE)&&W.strokeText(R,P,D)),_&&(this.pendingTextPaths||=[]).push({transform:(0,l.getCurrentTransform)(W),x:P,y:D,fontSize:O,addToPath:X})}get isFontSubpixelAAEnabled(){const{context:R}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);R.scale(1.5,1),R.fillText("I",0,10);const P=R.getImageData(0,0,10,10).data;let D=!1;for(let B=3;B<P.length;B+=4)if(P[B]>0&&P[B]<255){D=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",D)}showText(R){const P=this.current,D=P.font;if(D.isType3Font)return this.showType3Text(R);const B=P.fontSize;if(B===0)return;const W=this.ctx,G=P.fontSizeScale,H=P.charSpacing,A=P.wordSpacing,O=P.fontDirection,F=P.textHScale*O,_=R.length,N=D.vertical,X=N?1:-1,Z=D.defaultVMetrics,ne=B*P.fontMatrix[0],ye=P.textRenderingMode===a.TextRenderingMode.FILL&&!D.disableFontFace&&!P.patternFill;W.save(),W.transform(...P.textMatrix),W.translate(P.x,P.y+P.textRise),O>0?W.scale(F,-1):W.scale(F,1);let oe;if(P.patternFill){W.save();const Ce=P.fillColor.getPattern(W,this,(0,l.getCurrentTransformInverse)(W),f.PathType.FILL);oe=(0,l.getCurrentTransform)(W),W.restore(),W.fillStyle=Ce}let he=P.lineWidth;const ge=P.textMatrixScale;if(ge===0||he===0){const Ce=P.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(Ce===a.TextRenderingMode.STROKE||Ce===a.TextRenderingMode.FILL_STROKE)&&(he=this.getSinglePixelWidth())}else he/=ge;if(G!==1&&(W.scale(G,G),he/=G),W.lineWidth=he,D.isInvalidPDFjsFont){const Ce=[];let Re=0;for(const Fe of R)Ce.push(Fe.unicode),Re+=Fe.width;W.fillText(Ce.join(""),0,0),P.x+=Re*ne*F,W.restore(),this.compose();return}let me=0,ve;for(ve=0;ve<_;++ve){const Ce=R[ve];if(typeof Ce=="number"){me+=X*Ce*B/1e3;continue}let Re=!1;const Fe=(Ce.isSpace?A:0)+H,Ue=Ce.fontChar,He=Ce.accent;let Ye,rt,dt=Ce.width;if(N){const qe=Ce.vmetric||Z,pt=-(Ce.vmetric?qe[1]:dt*.5)*ne,et=qe[2]*ne;dt=qe?-qe[0]:dt,Ye=pt/G,rt=(me+et)/G}else Ye=me/G,rt=0;if(D.remeasure&&dt>0){const qe=W.measureText(Ue).width*1e3/B*G;if(dt<qe&&this.isFontSubpixelAAEnabled){const pt=dt/qe;Re=!0,W.save(),W.scale(pt,1),Ye/=pt}else dt!==qe&&(Ye+=(dt-qe)/2e3*B/G)}if(this.contentVisible&&(Ce.isInFont||D.missingFile)){if(ye&&!He)W.fillText(Ue,Ye,rt);else if(this.paintChar(Ue,Ye,rt,oe),He){const qe=Ye+B*He.offset.x/G,pt=rt-B*He.offset.y/G;this.paintChar(He.fontChar,qe,pt,oe)}}const Nt=N?dt*ne-Fe*O:dt*ne+Fe*O;me+=Nt,Re&&W.restore()}N?P.y-=me:P.x+=me*F,W.restore(),this.compose()}showType3Text(R){const P=this.ctx,D=this.current,B=D.font,W=D.fontSize,G=D.fontDirection,H=B.vertical?1:-1,A=D.charSpacing,O=D.wordSpacing,F=D.textHScale*G,_=D.fontMatrix||a.FONT_IDENTITY_MATRIX,N=R.length,X=D.textRenderingMode===a.TextRenderingMode.INVISIBLE;let Z,ne,ye,oe;if(!(X||W===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,P.save(),P.transform(...D.textMatrix),P.translate(D.x,D.y),P.scale(F,G),Z=0;Z<N;++Z){if(ne=R[Z],typeof ne=="number"){oe=H*ne*W/1e3,this.ctx.translate(oe,0),D.x+=oe*F;continue}const he=(ne.isSpace?O:0)+A,ge=B.charProcOperatorList[ne.operatorListId];if(!ge){(0,a.warn)(`Type3 character "${ne.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ne,this.save(),P.scale(W,W),P.transform(..._),this.executeOperatorList(ge),this.restore()),ye=a.Util.applyTransform([ne.width,0],_)[0]*W+he,P.translate(ye,0),D.x+=ye*F}P.restore(),this.processingType3=null}}setCharWidth(R,P){}setCharWidthAndBounds(R,P,D,B,W,G){this.ctx.rect(D,B,W-D,G-B),this.ctx.clip(),this.endPath()}getColorN_Pattern(R){let P;if(R[0]==="TilingPattern"){const D=R[1],B=this.baseTransform||(0,l.getCurrentTransform)(this.ctx),W={createCanvasGraphics:G=>new Y(G,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};P=new f.TilingPattern(R,D,this.ctx,W,B)}else P=this._getPattern(R[1],R[2]);return P}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(R,P,D){const B=a.Util.makeHexColor(R,P,D);this.ctx.strokeStyle=B,this.current.strokeColor=B}setFillRGBColor(R,P,D){const B=a.Util.makeHexColor(R,P,D);this.ctx.fillStyle=B,this.current.fillColor=B,this.current.patternFill=!1}_getPattern(R){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,D;return this.cachedPatterns.has(R)?D=this.cachedPatterns.get(R):(D=(0,f.getShadingPattern)(this.getObject(R)),this.cachedPatterns.set(R,D)),P&&(D.matrix=P),D}shadingFill(R){if(!this.contentVisible)return;const P=this.ctx;this.save();const D=this._getPattern(R);P.fillStyle=D.getPattern(P,this,(0,l.getCurrentTransformInverse)(P),f.PathType.SHADING);const B=(0,l.getCurrentTransformInverse)(P);if(B){const{width:W,height:G}=P.canvas,[H,A,O,F]=a.Util.getAxialAlignedBoundingBox([0,0,W,G],B);this.ctx.fillRect(H,A,O-H,F-A)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(R,P){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(R)&&R.length===6&&this.transform(...R),this.baseTransform=(0,l.getCurrentTransform)(this.ctx),P)){const D=P[2]-P[0],B=P[3]-P[1];this.ctx.rect(P[0],P[1],D,B),this.current.updateRectMinMax((0,l.getCurrentTransform)(this.ctx),P),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(R){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const P=this.ctx;R.isolated||(0,a.info)("TODO: Support non-isolated groups."),R.knockout&&(0,a.warn)("Knockout groups not supported.");const D=(0,l.getCurrentTransform)(P);if(R.matrix&&P.transform(...R.matrix),!R.bbox)throw new Error("Bounding box is required.");let B=a.Util.getAxialAlignedBoundingBox(R.bbox,(0,l.getCurrentTransform)(P));const W=[0,0,P.canvas.width,P.canvas.height];B=a.Util.intersect(B,W)||[0,0,0,0];const G=Math.floor(B[0]),H=Math.floor(B[1]);let A=Math.max(Math.ceil(B[2])-G,1),O=Math.max(Math.ceil(B[3])-H,1),F=1,_=1;A>h&&(F=A/h,A=h),O>h&&(_=O/h,O=h),this.current.startNewPathAndClipBox([0,0,A,O]);let N="groupAt"+this.groupLevel;R.smask&&(N+="_smask_"+this.smaskCounter++%2);const X=this.cachedCanvases.getCanvas(N,A,O),Z=X.context;Z.scale(1/F,1/_),Z.translate(-G,-H),Z.transform(...D),R.smask?this.smaskStack.push({canvas:X.canvas,context:Z,offsetX:G,offsetY:H,scaleX:F,scaleY:_,subtype:R.smask.subtype,backdrop:R.smask.backdrop,transferMap:R.smask.transferMap||null,startTransformInverse:null}):(P.setTransform(1,0,0,1,0,0),P.translate(G,H),P.scale(F,_),P.save()),w(P,Z),this.ctx=Z,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(P),this.groupLevel++}endGroup(R){if(!this.contentVisible)return;this.groupLevel--;const P=this.ctx,D=this.groupStack.pop();if(this.ctx=D,this.ctx.imageSmoothingEnabled=!1,R.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const B=(0,l.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...B);const W=a.Util.getAxialAlignedBoundingBox([0,0,P.canvas.width,P.canvas.height],B);this.ctx.drawImage(P.canvas,0,0),this.ctx.restore(),this.compose(W)}}beginAnnotation(R,P,D,B,W){if(this.#e(),M(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(P)&&P.length===4){const G=P[2]-P[0],H=P[3]-P[1];if(W&&this.annotationCanvasMap){D=D.slice(),D[4]-=P[0],D[5]-=P[1],P=P.slice(),P[0]=P[1]=0,P[2]=G,P[3]=H;const[A,O]=a.Util.singularValueDecompose2dScale((0,l.getCurrentTransform)(this.ctx)),{viewportScale:F}=this,_=Math.ceil(G*this.outputScaleX*F),N=Math.ceil(H*this.outputScaleY*F);this.annotationCanvas=this.canvasFactory.create(_,N);const{canvas:X,context:Z}=this.annotationCanvas;this.annotationCanvasMap.set(R,X),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Z,this.ctx.save(),this.ctx.setTransform(A,0,0,-O,0,H*O),M(this.ctx)}else M(this.ctx),this.ctx.rect(P[0],P[1],G,H),this.ctx.clip(),this.endPath()}this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...D),this.transform(...B)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(R){if(!this.contentVisible)return;const P=R.count;R=this.getObject(R.data,R),R.count=P;const D=this.ctx,B=this.processingType3;if(B&&(B.compiled===void 0&&(B.compiled=x(R)),B.compiled)){B.compiled(D);return}const W=this._createMaskCanvas(R),G=W.canvas;D.save(),D.setTransform(1,0,0,1,0,0),D.drawImage(G,W.offsetX,W.offsetY),D.restore(),this.compose()}paintImageMaskXObjectRepeat(R,P){let D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,W=arguments.length>4?arguments[4]:void 0,G=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;R=this.getObject(R.data,R);const H=this.ctx;H.save();const A=(0,l.getCurrentTransform)(H);H.transform(P,D,B,W,0,0);const O=this._createMaskCanvas(R);H.setTransform(1,0,0,1,O.offsetX-A[4],O.offsetY-A[5]);for(let F=0,_=G.length;F<_;F+=2){const N=a.Util.transform(A,[P,D,B,W,G[F],G[F+1]]),[X,Z]=a.Util.applyTransform([0,0],N);H.drawImage(O.canvas,X,Z)}H.restore(),this.compose()}paintImageMaskXObjectGroup(R){if(!this.contentVisible)return;const P=this.ctx,D=this.current.fillColor,B=this.current.patternFill;for(const W of R){const{data:G,width:H,height:A,transform:O}=W,F=this.cachedCanvases.getCanvas("maskCanvas",H,A),_=F.context;_.save();const N=this.getObject(G,W);L(_,N),_.globalCompositeOperation="source-in",_.fillStyle=B?D.getPattern(_,this,(0,l.getCurrentTransformInverse)(P),f.PathType.FILL):D,_.fillRect(0,0,H,A),_.restore(),P.save(),P.transform(...O),P.scale(1,-1),S(P,F.canvas,0,0,H,A,0,-1,1,1),P.restore()}this.compose()}paintImageXObject(R){if(!this.contentVisible)return;const P=this.getObject(R);if(!P){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(P)}paintImageXObjectRepeat(R,P,D,B){if(!this.contentVisible)return;const W=this.getObject(R);if(!W){(0,a.warn)("Dependent image isn't ready yet");return}const G=W.width,H=W.height,A=[];for(let O=0,F=B.length;O<F;O+=2)A.push({transform:[P,0,0,D,B[O],B[O+1]],x:0,y:0,w:G,h:H});this.paintInlineImageXObjectGroup(W,A)}applyTransferMapsToCanvas(R){return this.current.transferMaps!=="none"&&(R.filter=this.current.transferMaps,R.drawImage(R.canvas,0,0),R.filter="none"),R.canvas}applyTransferMapsToBitmap(R){if(this.current.transferMaps==="none")return R.bitmap;const{bitmap:P,width:D,height:B}=R,W=this.cachedCanvases.getCanvas("inlineImage",D,B),G=W.context;return G.filter=this.current.transferMaps,G.drawImage(P,0,0),G.filter="none",W.canvas}paintInlineImageXObject(R){if(!this.contentVisible)return;const P=R.width,D=R.height,B=this.ctx;if(this.save(),!a.isNodeJS){const{filter:H}=B;H!=="none"&&H!==""&&(B.filter="none")}B.scale(1/P,-1/D);let W;if(R.bitmap)W=this.applyTransferMapsToBitmap(R);else if(typeof HTMLElement=="function"&&R instanceof HTMLElement||!R.data)W=R;else{const A=this.cachedCanvases.getCanvas("inlineImage",P,D).context;j(A,R),W=this.applyTransferMapsToCanvas(A)}const G=this._scaleImage(W,(0,l.getCurrentTransformInverse)(B));B.imageSmoothingEnabled=te((0,l.getCurrentTransform)(B),R.interpolate),S(B,G.img,0,0,G.paintWidth,G.paintHeight,0,-D,P,D),this.compose(),this.restore()}paintInlineImageXObjectGroup(R,P){if(!this.contentVisible)return;const D=this.ctx;let B;if(R.bitmap)B=R.bitmap;else{const W=R.width,G=R.height,A=this.cachedCanvases.getCanvas("inlineImage",W,G).context;j(A,R),B=this.applyTransferMapsToCanvas(A)}for(const W of P)D.save(),D.transform(...W.transform),D.scale(1,-1),S(D,B,W.x,W.y,W.w,W.h,0,-1,1,1),D.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(R){}markPointProps(R,P){}beginMarkedContent(R){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(R,P){R==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(P)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(R){const P=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(R);const D=this.ctx;this.pendingClip&&(P||(this.pendingClip===ie?D.clip("evenodd"):D.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),D.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const R=(0,l.getCurrentTransform)(this.ctx);if(R[1]===0&&R[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(R[0]),Math.abs(R[3]));else{const P=Math.abs(R[0]*R[3]-R[2]*R[1]),D=Math.hypot(R[0],R[2]),B=Math.hypot(R[1],R[3]);this._cachedGetSinglePixelWidth=Math.max(D,B)/P}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:R}=this.current,{a:P,b:D,c:B,d:W}=this.ctx.getTransform();let G,H;if(D===0&&B===0){const A=Math.abs(P),O=Math.abs(W);if(A===O)if(R===0)G=H=1/A;else{const F=A*R;G=H=F<1?1/F:1}else if(R===0)G=1/A,H=1/O;else{const F=A*R,_=O*R;G=F<1?1/F:1,H=_<1?1/_:1}}else{const A=Math.abs(P*W-D*B),O=Math.hypot(P,D),F=Math.hypot(B,W);if(R===0)G=F/A,H=O/A;else{const _=R*A;G=F>_?F/_:1,H=O>_?O/_:1}}this._cachedScaleForStroking[0]=G,this._cachedScaleForStroking[1]=H}return this._cachedScaleForStroking}rescaleAndStroke(R){const{ctx:P}=this,{lineWidth:D}=this.current,[B,W]=this.getScaleForStroking();if(P.lineWidth=D||1,B===1&&W===1){P.stroke();return}const G=P.getLineDash();if(R&&P.save(),P.scale(B,W),G.length>0){const H=Math.max(B,W);P.setLineDash(G.map(A=>A/H)),P.lineDashOffset/=H}P.stroke(),R&&P.restore()}isContentVisible(){for(let R=this.markedContentStack.length-1;R>=0;R--)if(!this.markedContentStack[R].visible)return!1;return!0}}s.CanvasGraphics=Y;for(const I in a.OPS)Y.prototype[I]!==void 0&&(Y.prototype[a.OPS[I]]=Y.prototype[I])}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=y,n(2);var a=n(1),l=n(168);const f={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=f;function v(S,x){if(!x)return;const T=x[2]-x[0],j=x[3]-x[1],L=new Path2D;L.rect(x[0],x[1],T,j),S.clip(L)}class b{constructor(){this.constructor===b&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class k extends b{constructor(x){super(),this._type=x[1],this._bbox=x[2],this._colorStops=x[3],this._p0=x[4],this._p1=x[5],this._r0=x[6],this._r1=x[7],this.matrix=null}_createGradient(x){let T;this._type==="axial"?T=x.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(T=x.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const j of this._colorStops)T.addColorStop(j[0],j[1]);return T}getPattern(x,T,j,L){let w;if(L===f.STROKE||L===f.FILL){const M=T.current.getClippedPathBoundingBox(L,(0,l.getCurrentTransform)(x))||[0,0,0,0],z=Math.ceil(M[2]-M[0])||1,$=Math.ceil(M[3]-M[1])||1,V=T.cachedCanvases.getCanvas("pattern",z,$,!0),K=V.context;K.clearRect(0,0,K.canvas.width,K.canvas.height),K.beginPath(),K.rect(0,0,K.canvas.width,K.canvas.height),K.translate(-M[0],-M[1]),j=a.Util.transform(j,[1,0,0,1,M[0],M[1]]),K.transform(...T.baseTransform),this.matrix&&K.transform(...this.matrix),v(K,this._bbox),K.fillStyle=this._createGradient(K),K.fill(),w=x.createPattern(V.canvas,"no-repeat");const J=new DOMMatrix(j);w.setTransform(J)}else v(x,this._bbox),w=this._createGradient(x);return w}}function h(S,x,T,j,L,w,M,z){const $=x.coords,V=x.colors,K=S.data,J=S.width*4;let te;$[T+1]>$[j+1]&&(te=T,T=j,j=te,te=w,w=M,M=te),$[j+1]>$[L+1]&&(te=j,j=L,L=te,te=M,M=z,z=te),$[T+1]>$[j+1]&&(te=T,T=j,j=te,te=w,w=M,M=te);const se=($[T]+x.offsetX)*x.scaleX,de=($[T+1]+x.offsetY)*x.scaleY,pe=($[j]+x.offsetX)*x.scaleX,ie=($[j+1]+x.offsetY)*x.scaleY,Y=($[L]+x.offsetX)*x.scaleX,I=($[L+1]+x.offsetY)*x.scaleY;if(de>=I)return;const R=V[w],P=V[w+1],D=V[w+2],B=V[M],W=V[M+1],G=V[M+2],H=V[z],A=V[z+1],O=V[z+2],F=Math.round(de),_=Math.round(I);let N,X,Z,ne,ye,oe,he,ge;for(let me=F;me<=_;me++){if(me<ie){const Ue=me<de?0:(de-me)/(de-ie);N=se-(se-pe)*Ue,X=R-(R-B)*Ue,Z=P-(P-W)*Ue,ne=D-(D-G)*Ue}else{let Ue;me>I?Ue=1:ie===I?Ue=0:Ue=(ie-me)/(ie-I),N=pe-(pe-Y)*Ue,X=B-(B-H)*Ue,Z=W-(W-A)*Ue,ne=G-(G-O)*Ue}let ve;me<de?ve=0:me>I?ve=1:ve=(de-me)/(de-I),ye=se-(se-Y)*ve,oe=R-(R-H)*ve,he=P-(P-A)*ve,ge=D-(D-O)*ve;const Ce=Math.round(Math.min(N,ye)),Re=Math.round(Math.max(N,ye));let Fe=J*me+Ce*4;for(let Ue=Ce;Ue<=Re;Ue++)ve=(N-Ue)/(N-ye),ve<0?ve=0:ve>1&&(ve=1),K[Fe++]=X-(X-oe)*ve|0,K[Fe++]=Z-(Z-he)*ve|0,K[Fe++]=ne-(ne-ge)*ve|0,K[Fe++]=255}}function c(S,x,T){const j=x.coords,L=x.colors;let w,M;switch(x.type){case"lattice":const z=x.verticesPerRow,$=Math.floor(j.length/z)-1,V=z-1;for(w=0;w<$;w++){let K=w*z;for(let J=0;J<V;J++,K++)h(S,T,j[K],j[K+1],j[K+z],L[K],L[K+1],L[K+z]),h(S,T,j[K+z+1],j[K+1],j[K+z],L[K+z+1],L[K+1],L[K+z])}break;case"triangles":for(w=0,M=j.length;w<M;w+=3)h(S,T,j[w],j[w+1],j[w+2],L[w],L[w+1],L[w+2]);break;default:throw new Error("illegal figure")}}class p extends b{constructor(x){super(),this._coords=x[2],this._colors=x[3],this._figures=x[4],this._bounds=x[5],this._bbox=x[7],this._background=x[8],this.matrix=null}_createMeshCanvas(x,T,j){const z=Math.floor(this._bounds[0]),$=Math.floor(this._bounds[1]),V=Math.ceil(this._bounds[2])-z,K=Math.ceil(this._bounds[3])-$,J=Math.min(Math.ceil(Math.abs(V*x[0]*1.1)),3e3),te=Math.min(Math.ceil(Math.abs(K*x[1]*1.1)),3e3),se=V/J,de=K/te,pe={coords:this._coords,colors:this._colors,offsetX:-z,offsetY:-$,scaleX:1/se,scaleY:1/de},ie=J+4,Y=te+4,I=j.getCanvas("mesh",ie,Y,!1),R=I.context,P=R.createImageData(J,te);if(T){const B=P.data;for(let W=0,G=B.length;W<G;W+=4)B[W]=T[0],B[W+1]=T[1],B[W+2]=T[2],B[W+3]=255}for(const B of this._figures)c(P,B,pe);return R.putImageData(P,2,2),{canvas:I.canvas,offsetX:z-2*se,offsetY:$-2*de,scaleX:se,scaleY:de}}getPattern(x,T,j,L){v(x,this._bbox);let w;if(L===f.SHADING)w=a.Util.singularValueDecompose2dScale((0,l.getCurrentTransform)(x));else if(w=a.Util.singularValueDecompose2dScale(T.baseTransform),this.matrix){const z=a.Util.singularValueDecompose2dScale(this.matrix);w=[w[0]*z[0],w[1]*z[1]]}const M=this._createMeshCanvas(w,L===f.SHADING?null:this._background,T.cachedCanvases);return L!==f.SHADING&&(x.setTransform(...T.baseTransform),this.matrix&&x.transform(...this.matrix)),x.translate(M.offsetX,M.offsetY),x.scale(M.scaleX,M.scaleY),x.createPattern(M.canvas,"no-repeat")}}class g extends b{getPattern(){return"hotpink"}}function y(S){switch(S[0]){case"RadialAxial":return new k(S);case"Mesh":return new p(S);case"Dummy":return new g}throw new Error(`Unknown IR type: ${S[0]}`)}const d={COLORED:1,UNCOLORED:2};class m{static MAX_PATTERN_SIZE=3e3;constructor(x,T,j,L,w){this.operatorList=x[2],this.matrix=x[3]||[1,0,0,1,0,0],this.bbox=x[4],this.xstep=x[5],this.ystep=x[6],this.paintType=x[7],this.tilingType=x[8],this.color=T,this.ctx=j,this.canvasGraphicsFactory=L,this.baseTransform=w}createPatternCanvas(x){const T=this.operatorList,j=this.bbox,L=this.xstep,w=this.ystep,M=this.paintType,z=this.tilingType,$=this.color,V=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+z);const K=j[0],J=j[1],te=j[2],se=j[3],de=a.Util.singularValueDecompose2dScale(this.matrix),pe=a.Util.singularValueDecompose2dScale(this.baseTransform),ie=[de[0]*pe[0],de[1]*pe[1]],Y=this.getSizeAndScale(L,this.ctx.canvas.width,ie[0]),I=this.getSizeAndScale(w,this.ctx.canvas.height,ie[1]),R=x.cachedCanvases.getCanvas("pattern",Y.size,I.size,!0),P=R.context,D=V.createCanvasGraphics(P);D.groupLevel=x.groupLevel,this.setFillAndStrokeStyleToContext(D,M,$);let B=K,W=J,G=te,H=se;return K<0&&(B=0,G+=Math.abs(K)),J<0&&(W=0,H+=Math.abs(J)),P.translate(-(Y.scale*B),-(I.scale*W)),D.transform(Y.scale,0,0,I.scale,0,0),P.save(),this.clipBbox(D,B,W,G,H),D.baseTransform=(0,l.getCurrentTransform)(D.ctx),D.executeOperatorList(T),D.endDrawing(),{canvas:R.canvas,scaleX:Y.scale,scaleY:I.scale,offsetX:B,offsetY:W}}getSizeAndScale(x,T,j){x=Math.abs(x);const L=Math.max(m.MAX_PATTERN_SIZE,T);let w=Math.ceil(x*j);return w>=L?w=L:j=w/x,{scale:j,size:w}}clipBbox(x,T,j,L,w){const M=L-T,z=w-j;x.ctx.rect(T,j,M,z),x.current.updateRectMinMax((0,l.getCurrentTransform)(x.ctx),[T,j,L,w]),x.clip(),x.endPath()}setFillAndStrokeStyleToContext(x,T,j){const L=x.ctx,w=x.current;switch(T){case d.COLORED:const M=this.ctx;L.fillStyle=M.fillStyle,L.strokeStyle=M.strokeStyle,w.fillColor=M.fillStyle,w.strokeColor=M.strokeStyle;break;case d.UNCOLORED:const z=a.Util.makeHexColor(j[0],j[1],j[2]);L.fillStyle=z,L.strokeStyle=z,w.fillColor=z,w.strokeColor=z;break;default:throw new a.FormatError(`Unsupported paint type: ${T}`)}}getPattern(x,T,j,L){let w=j;L!==f.SHADING&&(w=a.Util.transform(w,T.baseTransform),this.matrix&&(w=a.Util.transform(w,this.matrix)));const M=this.createPatternCanvas(T);let z=new DOMMatrix(w);z=z.translate(M.offsetX,M.offsetY),z=z.scale(1/M.scaleX,1/M.scaleY);const $=x.createPattern(M.canvas,"repeat");return $.setTransform(z),$}}s.TilingPattern=m}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=f,s.convertToRGBA=l,s.grayToRGBA=b,n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123);var a=n(1);function l(k){switch(k.kind){case a.ImageKind.GRAYSCALE_1BPP:return f(k);case a.ImageKind.RGB_24BPP:return v(k)}return null}function f(k){let{src:h,srcPos:c=0,dest:p,width:g,height:y,nonBlackColor:d=4294967295,inverseDecode:m=!1}=k;const S=a.FeatureTest.isLittleEndian?4278190080:255,[x,T]=m?[d,S]:[S,d],j=g>>3,L=g&7,w=h.length;p=new Uint32Array(p.buffer);let M=0;for(let z=0;z<y;z++){for(const V=c+j;c<V;c++){const K=c<w?h[c]:255;p[M++]=K&128?T:x,p[M++]=K&64?T:x,p[M++]=K&32?T:x,p[M++]=K&16?T:x,p[M++]=K&8?T:x,p[M++]=K&4?T:x,p[M++]=K&2?T:x,p[M++]=K&1?T:x}if(L===0)continue;const $=c<w?h[c++]:255;for(let V=0;V<L;V++)p[M++]=$&1<<7-V?T:x}return{srcPos:c,destPos:M}}function v(k){let{src:h,srcPos:c=0,dest:p,destPos:g=0,width:y,height:d}=k,m=0;const S=h.length>>2,x=new Uint32Array(h.buffer,c,S);if(a.FeatureTest.isLittleEndian){for(;m<S-2;m+=3,g+=4){const T=x[m],j=x[m+1],L=x[m+2];p[g]=T|4278190080,p[g+1]=T>>>24|j<<8|4278190080,p[g+2]=j>>>16|L<<16|4278190080,p[g+3]=L>>>8|4278190080}for(let T=m*4,j=h.length;T<j;T+=3)p[g++]=h[T]|h[T+1]<<8|h[T+2]<<16|4278190080}else{for(;m<S-2;m+=3,g+=4){const T=x[m],j=x[m+1],L=x[m+2];p[g]=T|255,p[g+1]=T<<24|j>>>8|255,p[g+2]=j<<16|L>>>16|255,p[g+3]=L<<8|255}for(let T=m*4,j=h.length;T<j;T+=3)p[g++]=h[T]<<24|h[T+1]<<16|h[T+2]<<8|255}return{srcPos:c,destPos:g}}function b(k,h){if(a.FeatureTest.isLittleEndian)for(let c=0,p=k.length;c<p;c++)h[c]=k[c]*65793|4278190080;else for(let c=0,p=k.length;c<p;c++)h[c]=k[c]*16843008|255}}),((o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const n=Object.create(null);s.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0,n(2);var a=n(1);const l={DATA:1,ERROR:2},f={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function v(k){switch(k instanceof Error||typeof k=="object"&&k!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),k.name){case"AbortException":return new a.AbortException(k.message);case"MissingPDFException":return new a.MissingPDFException(k.message);case"PasswordException":return new a.PasswordException(k.message,k.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(k.message,k.status);case"UnknownErrorException":return new a.UnknownErrorException(k.message,k.details);default:return new a.UnknownErrorException(k.message,k.toString())}}class b{constructor(h,c,p){this.sourceName=h,this.targetName=c,this.comObj=p,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=g=>{const y=g.data;if(y.targetName!==this.sourceName)return;if(y.stream){this.#t(y);return}if(y.callback){const m=y.callbackId,S=this.callbackCapabilities[m];if(!S)throw new Error(`Cannot resolve callback ${m}`);if(delete this.callbackCapabilities[m],y.callback===l.DATA)S.resolve(y.data);else if(y.callback===l.ERROR)S.reject(v(y.reason));else throw new Error("Unexpected callback case");return}const d=this.actionHandler[y.action];if(!d)throw new Error(`Unknown action from worker: ${y.action}`);if(y.callbackId){const m=this.sourceName,S=y.sourceName;new Promise(function(x){x(d(y.data))}).then(function(x){p.postMessage({sourceName:m,targetName:S,callback:l.DATA,callbackId:y.callbackId,data:x})},function(x){p.postMessage({sourceName:m,targetName:S,callback:l.ERROR,callbackId:y.callbackId,reason:v(x)})});return}if(y.streamId){this.#e(y);return}d(y.data)},p.addEventListener("message",this._onComObjOnMessage)}on(h,c){const p=this.actionHandler;if(p[h])throw new Error(`There is already an actionName called "${h}"`);p[h]=c}send(h,c,p){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,data:c},p)}sendWithPromise(h,c,p){const g=this.callbackId++,y=new a.PromiseCapability;this.callbackCapabilities[g]=y;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,callbackId:g,data:c},p)}catch(d){y.reject(d)}return y.promise}sendWithStream(h,c,p,g){const y=this.streamId++,d=this.sourceName,m=this.targetName,S=this.comObj;return new ReadableStream({start:x=>{const T=new a.PromiseCapability;return this.streamControllers[y]={controller:x,startCall:T,pullCall:null,cancelCall:null,isClosed:!1},S.postMessage({sourceName:d,targetName:m,action:h,streamId:y,data:c,desiredSize:x.desiredSize},g),T.promise},pull:x=>{const T=new a.PromiseCapability;return this.streamControllers[y].pullCall=T,S.postMessage({sourceName:d,targetName:m,stream:f.PULL,streamId:y,desiredSize:x.desiredSize}),T.promise},cancel:x=>{(0,a.assert)(x instanceof Error,"cancel must have a valid reason");const T=new a.PromiseCapability;return this.streamControllers[y].cancelCall=T,this.streamControllers[y].isClosed=!0,S.postMessage({sourceName:d,targetName:m,stream:f.CANCEL,streamId:y,reason:v(x)}),T.promise}},p)}#e(h){const c=h.streamId,p=this.sourceName,g=h.sourceName,y=this.comObj,d=this,m=this.actionHandler[h.action],S={enqueue(x){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,j=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const L=this.desiredSize;this.desiredSize-=T,L>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),y.postMessage({sourceName:p,targetName:g,stream:f.ENQUEUE,streamId:c,chunk:x},j)},close(){this.isCancelled||(this.isCancelled=!0,y.postMessage({sourceName:p,targetName:g,stream:f.CLOSE,streamId:c}),delete d.streamSinks[c])},error(x){(0,a.assert)(x instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,y.postMessage({sourceName:p,targetName:g,stream:f.ERROR,streamId:c,reason:v(x)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:h.desiredSize,ready:null};S.sinkCapability.resolve(),S.ready=S.sinkCapability.promise,this.streamSinks[c]=S,new Promise(function(x){x(m(h.data,S))}).then(function(){y.postMessage({sourceName:p,targetName:g,stream:f.START_COMPLETE,streamId:c,success:!0})},function(x){y.postMessage({sourceName:p,targetName:g,stream:f.START_COMPLETE,streamId:c,reason:v(x)})})}#t(h){const c=h.streamId,p=this.sourceName,g=h.sourceName,y=this.comObj,d=this.streamControllers[c],m=this.streamSinks[c];switch(h.stream){case f.START_COMPLETE:h.success?d.startCall.resolve():d.startCall.reject(v(h.reason));break;case f.PULL_COMPLETE:h.success?d.pullCall.resolve():d.pullCall.reject(v(h.reason));break;case f.PULL:if(!m){y.postMessage({sourceName:p,targetName:g,stream:f.PULL_COMPLETE,streamId:c,success:!0});break}m.desiredSize<=0&&h.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=h.desiredSize,new Promise(function(S){S(m.onPull?.())}).then(function(){y.postMessage({sourceName:p,targetName:g,stream:f.PULL_COMPLETE,streamId:c,success:!0})},function(S){y.postMessage({sourceName:p,targetName:g,stream:f.PULL_COMPLETE,streamId:c,reason:v(S)})});break;case f.ENQUEUE:if((0,a.assert)(d,"enqueue should have stream controller"),d.isClosed)break;d.controller.enqueue(h.chunk);break;case f.CLOSE:if((0,a.assert)(d,"close should have stream controller"),d.isClosed)break;d.isClosed=!0,d.controller.close(),this.#n(d,c);break;case f.ERROR:(0,a.assert)(d,"error should have stream controller"),d.controller.error(v(h.reason)),this.#n(d,c);break;case f.CANCEL_COMPLETE:h.success?d.cancelCall.resolve():d.cancelCall.reject(v(h.reason)),this.#n(d,c);break;case f.CANCEL:if(!m)break;new Promise(function(S){S(m.onCancel?.(v(h.reason)))}).then(function(){y.postMessage({sourceName:p,targetName:g,stream:f.CANCEL_COMPLETE,streamId:c,success:!0})},function(S){y.postMessage({sourceName:p,targetName:g,stream:f.CANCEL_COMPLETE,streamId:c,reason:v(S)})}),m.sinkCapability.reject(v(h.reason)),m.isCancelled=!0,delete this.streamSinks[c];break;default:throw new Error("Unexpected stream case")}}async#n(h,c){await Promise.allSettled([h.startCall?.promise,h.pullCall?.promise,h.cancelCall?.promise]),delete this.streamControllers[c]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}s.MessageHandler=b}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var a=n(1);class l{#e;#t;constructor(v){let{parsedData:b,rawData:k}=v;this.#e=b,this.#t=k}getRaw(){return this.#t}get(v){return this.#e.get(v)??null}getAll(){return(0,a.objectFromMap)(this.#e)}has(v){return this.#e.has(v)}}s.Metadata=l}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var a=n(1),l=n(170);const f=Symbol("INTERNAL");class v{#e=!0;constructor(h,c){this.name=h,this.intent=c}get visible(){return this.#e}_setVisible(h,c){h!==f&&(0,a.unreachable)("Internal method `_setVisible` called."),this.#e=c}}class b{#e=null;#t=new Map;#n=null;#r=null;constructor(h){if(this.name=null,this.creator=null,h!==null){this.name=h.name,this.creator=h.creator,this.#r=h.order;for(const c of h.groups)this.#t.set(c.id,new v(c.name,c.intent));if(h.baseState==="OFF")for(const c of this.#t.values())c._setVisible(f,!1);for(const c of h.on)this.#t.get(c)._setVisible(f,!0);for(const c of h.off)this.#t.get(c)._setVisible(f,!1);this.#n=this.getHash()}}#o(h){const c=h.length;if(c<2)return!0;const p=h[0];for(let g=1;g<c;g++){const y=h[g];let d;if(Array.isArray(y))d=this.#o(y);else if(this.#t.has(y))d=this.#t.get(y).visible;else return(0,a.warn)(`Optional content group not found: ${y}`),!0;switch(p){case"And":if(!d)return!1;break;case"Or":if(d)return!0;break;case"Not":return!d;default:return!0}}return p==="And"}isVisible(h){if(this.#t.size===0)return!0;if(!h)return(0,a.warn)("Optional content group not defined."),!0;if(h.type==="OCG")return this.#t.has(h.id)?this.#t.get(h.id).visible:((0,a.warn)(`Optional content group not found: ${h.id}`),!0);if(h.type==="OCMD"){if(h.expression)return this.#o(h.expression);if(!h.policy||h.policy==="AnyOn"){for(const c of h.ids){if(!this.#t.has(c))return(0,a.warn)(`Optional content group not found: ${c}`),!0;if(this.#t.get(c).visible)return!0}return!1}else if(h.policy==="AllOn"){for(const c of h.ids){if(!this.#t.has(c))return(0,a.warn)(`Optional content group not found: ${c}`),!0;if(!this.#t.get(c).visible)return!1}return!0}else if(h.policy==="AnyOff"){for(const c of h.ids){if(!this.#t.has(c))return(0,a.warn)(`Optional content group not found: ${c}`),!0;if(!this.#t.get(c).visible)return!0}return!1}else if(h.policy==="AllOff"){for(const c of h.ids){if(!this.#t.has(c))return(0,a.warn)(`Optional content group not found: ${c}`),!0;if(this.#t.get(c).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${h.policy}.`),!0}return(0,a.warn)(`Unknown group type ${h.type}.`),!0}setVisibility(h){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.#t.has(h)){(0,a.warn)(`Optional content group not found: ${h}`);return}this.#t.get(h)._setVisible(f,!!c),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,a.objectFromMap)(this.#t):null}getGroup(h){return this.#t.get(h)||null}getHash(){if(this.#e!==null)return this.#e;const h=new l.MurmurHash3_64;for(const[c,p]of this.#t)h.update(`${c}:${p.visible}`);return this.#e=h.hexdigest()}}s.OptionalContentConfig=b}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0,n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123),n(89);var a=n(1),l=n(168);class f{constructor(h,c){let{length:p,initialData:g,progressiveDone:y=!1,contentDispositionFilename:d=null,disableRange:m=!1,disableStream:S=!1}=h;if((0,a.assert)(c,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=y,this._contentDispositionFilename=d,g?.length>0){const x=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;this._queuedChunks.push(x)}this._pdfDataRangeTransport=c,this._isStreamingSupported=!S,this._isRangeSupported=!m,this._contentLength=p,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((x,T)=>{this._onReceiveData({begin:x,chunk:T})}),this._pdfDataRangeTransport.addProgressListener((x,T)=>{this._onProgress({loaded:x,total:T})}),this._pdfDataRangeTransport.addProgressiveReadListener(x=>{this._onReceiveData({chunk:x})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(h){let{begin:c,chunk:p}=h;const g=p instanceof Uint8Array&&p.byteLength===p.buffer.byteLength?p.buffer:new Uint8Array(p).buffer;if(c===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(g):this._queuedChunks.push(g);else{const y=this._rangeReaders.some(function(d){return d._begin!==c?!1:(d._enqueue(g),!0)});(0,a.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(h){h.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:h.loaded}):this._fullRequestReader?.onProgress?.({loaded:h.loaded,total:h.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(h){const c=this._rangeReaders.indexOf(h);c>=0&&this._rangeReaders.splice(c,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const h=this._queuedChunks;return this._queuedChunks=null,new v(this,h,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(h,c){if(c<=this._progressiveDataLength)return null;const p=new b(this,h,c);return this._pdfDataRangeTransport.requestDataRange(h,c),this._rangeReaders.push(p),p}cancelAllRequests(h){this._fullRequestReader?.cancel(h);for(const c of this._rangeReaders.slice(0))c.cancel(h);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=f;class v{constructor(h,c){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=h,this._done=p||!1,this._filename=(0,l.isPdfFile)(g)?g:null,this._queuedChunks=c||[],this._loaded=0;for(const y of this._queuedChunks)this._loaded+=y.byteLength;this._requests=[],this._headersReady=Promise.resolve(),h._fullRequestReader=this,this.onProgress=null}_enqueue(h){this._done||(this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunks.push(h),this._loaded+=h.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const h=new a.PromiseCapability;return this._requests.push(h),h.promise}cancel(h){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class b{constructor(h,c,p){this._stream=h,this._begin=c,this._end=p,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(h){if(!this._done){if(this._requests.length===0)this._queuedChunk=h;else{this._requests.shift().resolve({value:h,done:!1});for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const c=this._queuedChunk;return this._queuedChunk=null,{value:c,done:!1}}if(this._done)return{value:void 0,done:!0};const h=new a.PromiseCapability;return this._requests.push(h),h.promise}cancel(h){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0,n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123),n(89);var a=n(1),l=n(182);function f(p,g,y){return{method:"GET",headers:p,signal:y.signal,mode:"cors",credentials:g?"include":"same-origin",redirect:"follow"}}function v(p){const g=new Headers;for(const y in p){const d=p[y];d!==void 0&&g.append(y,d)}return g}function b(p){return p instanceof Uint8Array?p.buffer:p instanceof ArrayBuffer?p:((0,a.warn)(`getArrayBuffer - unexpected data format: ${p}`),new Uint8Array(p).buffer)}class k{constructor(g){this.source=g,this.isHttp=/^https?:/i.test(g.url),this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new h(this),this._fullRequestReader}getRangeReader(g,y){if(y<=this._progressiveDataLength)return null;const d=new c(this,g,y);return this._rangeRequestReaders.push(d),d}cancelAllRequests(g){this._fullRequestReader?.cancel(g);for(const y of this._rangeRequestReaders.slice(0))y.cancel(g)}}s.PDFFetchStream=k;class h{constructor(g){this._stream=g,this._reader=null,this._loaded=0,this._filename=null;const y=g.source;this._withCredentials=y.withCredentials||!1,this._contentLength=y.length,this._headersCapability=new a.PromiseCapability,this._disableRange=y.disableRange||!1,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!y.disableStream,this._isRangeSupported=!y.disableRange,this._headers=v(this._stream.httpHeaders);const d=y.url;fetch(d,f(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,l.validateResponseStatus)(m.status))throw(0,l.createResponseStatusError)(m.status,d);this._reader=m.body.getReader(),this._headersCapability.resolve();const S=j=>m.headers.get(j),{allowRangeRequests:x,suggestedLength:T}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=x,this._contentLength=T||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(S),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:g,done:y}=await this._reader.read();return y?{value:g,done:y}:(this._loaded+=g.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:b(g),done:!1})}cancel(g){this._reader?.cancel(g),this._abortController.abort()}}class c{constructor(g,y,d){this._stream=g,this._reader=null,this._loaded=0;const m=g.source;this._withCredentials=m.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!m.disableStream,this._abortController=new AbortController,this._headers=v(this._stream.httpHeaders),this._headers.append("Range",`bytes=${y}-${d-1}`);const S=m.url;fetch(S,f(this._headers,this._withCredentials,this._abortController)).then(x=>{if(!(0,l.validateResponseStatus)(x.status))throw(0,l.createResponseStatusError)(x.status,S);this._readCapability.resolve(),this._reader=x.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:g,done:y}=await this._reader.read();return y?{value:g,done:y}:(this._loaded+=g.byteLength,this.onProgress?.({loaded:this._loaded}),{value:b(g),done:!1})}cancel(g){this._reader?.cancel(g),this._abortController.abort()}}}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=k,s.extractFilenameFromHeader=b,s.validateRangeRequestCapabilities=v,s.validateResponseStatus=h;var a=n(1),l=n(183),f=n(168);function v(c){let{getResponseHeader:p,isHttp:g,rangeChunkSize:y,disableRange:d}=c;const m={allowRangeRequests:!1,suggestedLength:void 0},S=parseInt(p("Content-Length"),10);return!Number.isInteger(S)||(m.suggestedLength=S,S<=2*y)||d||!g||p("Accept-Ranges")!=="bytes"||(p("Content-Encoding")||"identity")!=="identity"||(m.allowRangeRequests=!0),m}function b(c){const p=c("Content-Disposition");if(p){let g=(0,l.getFilenameFromContentDispositionHeader)(p);if(g.includes("%"))try{g=decodeURIComponent(g)}catch{}if((0,f.isPdfFile)(g))return g}return null}function k(c,p){return c===404||c===0&&p.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+p+'".'):new a.UnexpectedResponseException(`Unexpected server response (${c}) while retrieving PDF "${p}".`,c)}function h(c){return c===200||c===206}}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=l,n(89),n(149);var a=n(1);function l(f){let v=!0,b=k("filename\\*","i").exec(f);if(b){b=b[1];let m=g(b);return m=unescape(m),m=y(m),m=d(m),c(m)}if(b=p(f),b){const m=d(b);return c(m)}if(b=k("filename","i").exec(f),b){b=b[1];let m=g(b);return m=d(m),c(m)}function k(m,S){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',S)}function h(m,S){if(m){if(!/^[\x00-\xFF]+$/.test(S))return S;try{const x=new TextDecoder(m,{fatal:!0}),T=(0,a.stringToBytes)(S);S=x.decode(T),v=!1}catch{}}return S}function c(m){return v&&/[\x80-\xff]/.test(m)&&(m=h("utf-8",m),v&&(m=h("iso-8859-1",m))),m}function p(m){const S=[];let x;const T=k("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(x=T.exec(m))!==null;){let[,L,w,M]=x;if(L=parseInt(L,10),L in S){if(L===0)break;continue}S[L]=[w,M]}const j=[];for(let L=0;L<S.length&&L in S;++L){let[w,M]=S[L];M=g(M),w&&(M=unescape(M),L===0&&(M=y(M))),j.push(M)}return j.join("")}function g(m){if(m.startsWith('"')){const S=m.slice(1).split('\\"');for(let x=0;x<S.length;++x){const T=S[x].indexOf('"');T!==-1&&(S[x]=S[x].slice(0,T),S.length=x+1),S[x]=S[x].replaceAll(/\\(.)/g,"$1")}m=S.join('"')}return m}function y(m){const S=m.indexOf("'");if(S===-1)return m;const x=m.slice(0,S),j=m.slice(S+1).replace(/^[^']*'/,"");return h(x,j)}function d(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(S,x,T,j){if(T==="q"||T==="Q")return j=j.replaceAll("_"," "),j=j.replaceAll(/=([0-9a-fA-F]{2})/g,function(L,w){return String.fromCharCode(parseInt(w,16))}),h(x,j);try{j=atob(j)}catch{}return h(x,j)})}return""}}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0,n(89);var a=n(1),l=n(182);const f=200,v=206;function b(g){const y=g.response;return typeof y!="string"?y:(0,a.stringToBytes)(y).buffer}class k{constructor(y){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=y,this.isHttp=/^https?:/i.test(y),this.httpHeaders=this.isHttp&&d.httpHeaders||Object.create(null),this.withCredentials=d.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(y,d,m){const S={begin:y,end:d};for(const x in m)S[x]=m[x];return this.request(S)}requestFull(y){return this.request(y)}request(y){const d=new XMLHttpRequest,m=this.currXhrId++,S=this.pendingRequests[m]={xhr:d};d.open("GET",this.url),d.withCredentials=this.withCredentials;for(const x in this.httpHeaders){const T=this.httpHeaders[x];T!==void 0&&d.setRequestHeader(x,T)}return this.isHttp&&"begin"in y&&"end"in y?(d.setRequestHeader("Range",`bytes=${y.begin}-${y.end-1}`),S.expectedStatus=v):S.expectedStatus=f,d.responseType="arraybuffer",y.onError&&(d.onerror=function(x){y.onError(d.status)}),d.onreadystatechange=this.onStateChange.bind(this,m),d.onprogress=this.onProgress.bind(this,m),S.onHeadersReceived=y.onHeadersReceived,S.onDone=y.onDone,S.onError=y.onError,S.onProgress=y.onProgress,d.send(null),m}onProgress(y,d){const m=this.pendingRequests[y];m&&m.onProgress?.(d)}onStateChange(y,d){const m=this.pendingRequests[y];if(!m)return;const S=m.xhr;if(S.readyState>=2&&m.onHeadersReceived&&(m.onHeadersReceived(),delete m.onHeadersReceived),S.readyState!==4||!(y in this.pendingRequests))return;if(delete this.pendingRequests[y],S.status===0&&this.isHttp){m.onError?.(S.status);return}const x=S.status||f;if(!(x===f&&m.expectedStatus===v)&&x!==m.expectedStatus){m.onError?.(S.status);return}const j=b(S);if(x===v){const L=S.getResponseHeader("Content-Range"),w=/bytes (\d+)-(\d+)\/(\d+)/.exec(L);m.onDone({begin:parseInt(w[1],10),chunk:j})}else j?m.onDone({begin:0,chunk:j}):m.onError?.(S.status)}getRequestXhr(y){return this.pendingRequests[y].xhr}isPendingRequest(y){return y in this.pendingRequests}abortRequest(y){const d=this.pendingRequests[y].xhr;delete this.pendingRequests[y],d.abort()}}class h{constructor(y){this._source=y,this._manager=new k(y.url,{httpHeaders:y.httpHeaders,withCredentials:y.withCredentials}),this._rangeChunkSize=y.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(y){const d=this._rangeRequestReaders.indexOf(y);d>=0&&this._rangeRequestReaders.splice(d,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new c(this._manager,this._source),this._fullRequestReader}getRangeReader(y,d){const m=new p(this._manager,y,d);return m.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(m),m}cancelAllRequests(y){this._fullRequestReader?.cancel(y);for(const d of this._rangeRequestReaders.slice(0))d.cancel(y)}}s.PDFNetworkStream=h;class c{constructor(y,d){this._manager=y;const m={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=d.url,this._fullRequestId=y.requestFull(m),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=d.disableRange||!1,this._contentLength=d.length,this._rangeChunkSize=d.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const y=this._fullRequestId,d=this._manager.getRequestXhr(y),m=T=>d.getResponseHeader(T),{allowRangeRequests:S,suggestedLength:x}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});S&&(this._isRangeSupported=!0),this._contentLength=x||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(m),this._isRangeSupported&&this._manager.abortRequest(y),this._headersReceivedCapability.resolve()}_onDone(y){if(y&&(this._requests.length>0?this._requests.shift().resolve({value:y.chunk,done:!1}):this._cachedChunks.push(y.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(y){this._storedError=(0,l.createResponseStatusError)(y,this._url),this._headersReceivedCapability.reject(this._storedError);for(const d of this._requests)d.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(y){this.onProgress?.({loaded:y.loaded,total:y.lengthComputable?y.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const y=new a.PromiseCapability;return this._requests.push(y),y.promise}cancel(y){this._done=!0,this._headersReceivedCapability.reject(y);for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class p{constructor(y,d,m){this._manager=y;const S={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=y.url,this._requestId=y.requestRange(d,m,S),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(y){const d=y.chunk;this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunk=d,this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(y){this._storedError=(0,l.createResponseStatusError)(y,this._url);for(const d of this._requests)d.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(y){this.isStreamingSupported||this.onProgress?.({loaded:y.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const d=this._queuedChunk;return this._queuedChunk=null,{value:d,done:!1}}if(this._done)return{value:void 0,done:!0};const y=new a.PromiseCapability;return this._requests.push(y),y.promise}cancel(y){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0,n(89),n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123);var a=n(1),l=n(182);const f=/^file:\/\/\/[a-zA-Z]:\//;function v(m){const S=require$$5,x=S.parse(m);return x.protocol==="file:"||x.host?x:/^[a-z]:[/\\]/i.test(m)?S.parse(`file:///${m}`):(x.host||(x.protocol="file:"),x)}class b{constructor(S){this.source=S,this.url=v(S.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&S.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new y(this):new p(this),this._fullRequestReader}getRangeReader(S,x){if(x<=this._progressiveDataLength)return null;const T=this.isFsUrl?new d(this,S,x):new g(this,S,x);return this._rangeRequestReaders.push(T),T}cancelAllRequests(S){this._fullRequestReader?.cancel(S);for(const x of this._rangeRequestReaders.slice(0))x.cancel(S)}}s.PDFNodeStream=b;class k{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null;const x=S.source;this._contentLength=x.length,this._loaded=0,this._filename=null,this._disableRange=x.disableRange||!1,this._rangeChunkSize=x.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!x.disableStream,this._isRangeSupported=!x.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const S=this._readableStream.read();return S===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=S.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(S).buffer,done:!1})}cancel(S){if(!this._readableStream){this._error(S);return}this._readableStream.destroy(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",x=>{this._error(x)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class h{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const x=S.source;this._isStreamingSupported=!x.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const S=this._readableStream.read();return S===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=S.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(S).buffer,done:!1})}cancel(S){if(!this._readableStream){this._error(S);return}this._readableStream.destroy(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",x=>{this._error(x)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function c(m,S){return{protocol:m.protocol,auth:m.auth,host:m.hostname,port:m.port,path:m.path,method:"GET",headers:S}}class p extends k{constructor(S){super(S);const x=T=>{if(T.statusCode===404){const M=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=M,this._headersCapability.reject(M);return}this._headersCapability.resolve(),this._setReadableStream(T);const j=M=>this._readableStream.headers[M.toLowerCase()],{allowRangeRequests:L,suggestedLength:w}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:j,isHttp:S.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=L,this._contentLength=w||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(j)};if(this._request=null,this._url.protocol==="http:"){const T=require$$5;this._request=T.request(c(this._url,S.httpHeaders),x)}else{const T=require$$5;this._request=T.request(c(this._url,S.httpHeaders),x)}this._request.on("error",T=>{this._storedError=T,this._headersCapability.reject(T)}),this._request.end()}}class g extends h{constructor(S,x,T){super(S),this._httpHeaders={};for(const L in S.httpHeaders){const w=S.httpHeaders[L];w!==void 0&&(this._httpHeaders[L]=w)}this._httpHeaders.Range=`bytes=${x}-${T-1}`;const j=L=>{if(L.statusCode===404){const w=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=w;return}this._setReadableStream(L)};if(this._request=null,this._url.protocol==="http:"){const L=require$$5;this._request=L.request(c(this._url,this._httpHeaders),j)}else{const L=require$$5;this._request=L.request(c(this._url,this._httpHeaders),j)}this._request.on("error",L=>{this._storedError=L}),this._request.end()}}class y extends k{constructor(S){super(S);let x=decodeURIComponent(this._url.path);f.test(this._url.href)&&(x=x.replace(/^\//,""));const T=require$$5;T.lstat(x,(j,L)=>{if(j){j.code==="ENOENT"&&(j=new a.MissingPDFException(`Missing PDF "${x}".`)),this._storedError=j,this._headersCapability.reject(j);return}this._contentLength=L.size,this._setReadableStream(T.createReadStream(x)),this._headersCapability.resolve()})}}class d extends h{constructor(S,x,T){super(S);let j=decodeURIComponent(this._url.path);f.test(this._url.href)&&(j=j.replace(/^\//,""));const L=require$$5;this._setReadableStream(L.createReadStream(j,{start:x,end:T-1}))}}}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0,n(84),n(86),n(87),n(93),n(101),n(102),n(105),n(107),n(109),n(113),n(116),n(123),n(2),n(89),n(187);var a=n(168),l=n(1);const f={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},v="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/1999/xlink",k=["butt","round","square"],h=["miter","round","bevel"],c=function(L){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!M)return URL.createObjectURL(new Blob([L],{type:w}));const z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let $=`data:${w};base64,`;for(let V=0,K=L.length;V<K;V+=3){const J=L[V]&255,te=L[V+1]&255,se=L[V+2]&255,de=J>>2,pe=(J&3)<<4|te>>4,ie=V+1<K?(te&15)<<2|se>>6:64,Y=V+2<K?se&63:64;$+=z[de]+z[pe]+z[ie]+z[Y]}return $},p=(function(){const L=new Uint8Array([137,80,78,71,13,10,26,10]),w=12,M=new Int32Array(256);for(let se=0;se<256;se++){let de=se;for(let pe=0;pe<8;pe++)de=de&1?3988292384^de>>1&2147483647:de>>1&2147483647;M[se]=de}function z(se,de,pe){let ie=-1;for(let Y=de;Y<pe;Y++){const I=(ie^se[Y])&255,R=M[I];ie=ie>>>8^R}return ie^-1}function $(se,de,pe,ie){let Y=ie;const I=de.length;pe[Y]=I>>24&255,pe[Y+1]=I>>16&255,pe[Y+2]=I>>8&255,pe[Y+3]=I&255,Y+=4,pe[Y]=se.charCodeAt(0)&255,pe[Y+1]=se.charCodeAt(1)&255,pe[Y+2]=se.charCodeAt(2)&255,pe[Y+3]=se.charCodeAt(3)&255,Y+=4,pe.set(de,Y),Y+=de.length;const R=z(pe,ie+4,Y);pe[Y]=R>>24&255,pe[Y+1]=R>>16&255,pe[Y+2]=R>>8&255,pe[Y+3]=R&255}function V(se,de,pe){let ie=1,Y=0;for(let I=de;I<pe;++I)ie=(ie+(se[I]&255))%65521,Y=(Y+ie)%65521;return Y<<16|ie}function K(se){if(!l.isNodeJS)return J(se);try{const de=parseInt(process.versions.node)>=8?se:Buffer.from(se),pe=require$$5.deflateSync(de,{level:9});return pe instanceof Uint8Array?pe:new Uint8Array(pe)}catch(de){(0,l.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+de)}return J(se)}function J(se){let de=se.length;const pe=65535,ie=Math.ceil(de/pe),Y=new Uint8Array(2+de+ie*5+4);let I=0;Y[I++]=120,Y[I++]=156;let R=0;for(;de>pe;)Y[I++]=0,Y[I++]=255,Y[I++]=255,Y[I++]=0,Y[I++]=0,Y.set(se.subarray(R,R+pe),I),I+=pe,R+=pe,de-=pe;Y[I++]=1,Y[I++]=de&255,Y[I++]=de>>8&255,Y[I++]=~de&65535&255,Y[I++]=(~de&65535)>>8&255,Y.set(se.subarray(R),I),I+=se.length-R;const P=V(se,0,se.length);return Y[I++]=P>>24&255,Y[I++]=P>>16&255,Y[I++]=P>>8&255,Y[I++]=P&255,Y}function te(se,de,pe,ie){const Y=se.width,I=se.height;let R,P,D;const B=se.data;switch(de){case l.ImageKind.GRAYSCALE_1BPP:P=0,R=1,D=Y+7>>3;break;case l.ImageKind.RGB_24BPP:P=2,R=8,D=Y*3;break;case l.ImageKind.RGBA_32BPP:P=6,R=8,D=Y*4;break;default:throw new Error("invalid format")}const W=new Uint8Array((1+D)*I);let G=0,H=0;for(let X=0;X<I;++X)W[G++]=0,W.set(B.subarray(H,H+D),G),H+=D,G+=D;if(de===l.ImageKind.GRAYSCALE_1BPP&&ie){G=0;for(let X=0;X<I;X++){G++;for(let Z=0;Z<D;Z++)W[G++]^=255}}const A=new Uint8Array([Y>>24&255,Y>>16&255,Y>>8&255,Y&255,I>>24&255,I>>16&255,I>>8&255,I&255,R,P,0,0,0]),O=K(W),F=L.length+w*3+A.length+O.length,_=new Uint8Array(F);let N=0;return _.set(L,N),N+=L.length,$("IHDR",A,_,N),N+=w+A.length,$("IDATA",O,_,N),N+=w+O.length,$("IEND",new Uint8Array(0),_,N),c(_,"image/png",pe)}return function(de,pe,ie){const Y=de.kind===void 0?l.ImageKind.GRAYSCALE_1BPP:de.kind;return te(de,Y,pe,ie)}})();class g{constructor(){this.fontSizeScale=1,this.fontWeight=f.fontWeight,this.fontSize=0,this.textMatrix=l.IDENTITY_MATRIX,this.fontMatrix=l.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=l.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=f.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(w,M){this.x=w,this.y=M}}function y(L){let w=[];const M=[];for(const z of L){if(z.fn==="save"){w.push({fnId:92,fn:"group",items:[]}),M.push(w),w=w.at(-1).items;continue}z.fn==="restore"?w=M.pop():w.push(z)}return w}function d(L){if(Number.isInteger(L))return L.toString();const w=L.toFixed(10);let M=w.length-1;if(w[M]!=="0")return w;do M--;while(w[M]==="0");return w.substring(0,w[M]==="."?M:M+1)}function m(L){if(L[4]===0&&L[5]===0){if(L[1]===0&&L[2]===0)return L[0]===1&&L[3]===1?"":`scale(${d(L[0])} ${d(L[3])})`;if(L[0]===L[3]&&L[1]===-L[2]){const w=Math.acos(L[0])*180/Math.PI;return`rotate(${d(w)})`}}else if(L[0]===1&&L[1]===0&&L[2]===0&&L[3]===1)return`translate(${d(L[4])} ${d(L[5])})`;return`matrix(${d(L[0])} ${d(L[1])} ${d(L[2])} ${d(L[3])} ${d(L[4])} ${d(L[5])})`}let S=0,x=0,T=0;class j{constructor(w,M){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new g,this.transformMatrix=l.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=w,this.objs=M,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!z,this._operatorIdMapping=[];for(const $ in l.OPS)this._operatorIdMapping[l.OPS[$]]=$}getObject(w){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof w=="string"?w.startsWith("g_")?this.commonObjs.get(w):this.objs.get(w):M}save(){this.transformStack.push(this.transformMatrix);const w=this.current;this.extraStack.push(w),this.current=w.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(w){this.save(),this.executeOpTree(w),this.restore()}loadDependencies(w){const M=w.fnArray,z=w.argsArray;for(let $=0,V=M.length;$<V;$++)if(M[$]===l.OPS.dependency)for(const K of z[$]){const J=K.startsWith("g_")?this.commonObjs:this.objs,te=new Promise(se=>{J.get(K,se)});this.current.dependencies.push(te)}return Promise.all(this.current.dependencies)}transform(w,M,z,$,V,K){const J=[w,M,z,$,V,K];this.transformMatrix=l.Util.transform(this.transformMatrix,J),this.tgrp=null}getSVG(w,M){this.viewport=M;const z=this._initialize(M);return this.loadDependencies(w).then(()=>(this.transformMatrix=l.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(w)),z))}convertOpList(w){const M=this._operatorIdMapping,z=w.argsArray,$=w.fnArray,V=[];for(let K=0,J=$.length;K<J;K++){const te=$[K];V.push({fnId:te,fn:M[te],args:z[K]})}return y(V)}executeOpTree(w){for(const M of w){const z=M.fn,$=M.fnId,V=M.args;switch($|0){case l.OPS.beginText:this.beginText();break;case l.OPS.dependency:break;case l.OPS.setLeading:this.setLeading(V);break;case l.OPS.setLeadingMoveText:this.setLeadingMoveText(V[0],V[1]);break;case l.OPS.setFont:this.setFont(V);break;case l.OPS.showText:this.showText(V[0]);break;case l.OPS.showSpacedText:this.showText(V[0]);break;case l.OPS.endText:this.endText();break;case l.OPS.moveText:this.moveText(V[0],V[1]);break;case l.OPS.setCharSpacing:this.setCharSpacing(V[0]);break;case l.OPS.setWordSpacing:this.setWordSpacing(V[0]);break;case l.OPS.setHScale:this.setHScale(V[0]);break;case l.OPS.setTextMatrix:this.setTextMatrix(V[0],V[1],V[2],V[3],V[4],V[5]);break;case l.OPS.setTextRise:this.setTextRise(V[0]);break;case l.OPS.setTextRenderingMode:this.setTextRenderingMode(V[0]);break;case l.OPS.setLineWidth:this.setLineWidth(V[0]);break;case l.OPS.setLineJoin:this.setLineJoin(V[0]);break;case l.OPS.setLineCap:this.setLineCap(V[0]);break;case l.OPS.setMiterLimit:this.setMiterLimit(V[0]);break;case l.OPS.setFillRGBColor:this.setFillRGBColor(V[0],V[1],V[2]);break;case l.OPS.setStrokeRGBColor:this.setStrokeRGBColor(V[0],V[1],V[2]);break;case l.OPS.setStrokeColorN:this.setStrokeColorN(V);break;case l.OPS.setFillColorN:this.setFillColorN(V);break;case l.OPS.shadingFill:this.shadingFill(V[0]);break;case l.OPS.setDash:this.setDash(V[0],V[1]);break;case l.OPS.setRenderingIntent:this.setRenderingIntent(V[0]);break;case l.OPS.setFlatness:this.setFlatness(V[0]);break;case l.OPS.setGState:this.setGState(V[0]);break;case l.OPS.fill:this.fill();break;case l.OPS.eoFill:this.eoFill();break;case l.OPS.stroke:this.stroke();break;case l.OPS.fillStroke:this.fillStroke();break;case l.OPS.eoFillStroke:this.eoFillStroke();break;case l.OPS.clip:this.clip("nonzero");break;case l.OPS.eoClip:this.clip("evenodd");break;case l.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case l.OPS.paintImageXObject:this.paintImageXObject(V[0]);break;case l.OPS.paintInlineImageXObject:this.paintInlineImageXObject(V[0]);break;case l.OPS.paintImageMaskXObject:this.paintImageMaskXObject(V[0]);break;case l.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(V[0],V[1]);break;case l.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case l.OPS.closePath:this.closePath();break;case l.OPS.closeStroke:this.closeStroke();break;case l.OPS.closeFillStroke:this.closeFillStroke();break;case l.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case l.OPS.nextLine:this.nextLine();break;case l.OPS.transform:this.transform(V[0],V[1],V[2],V[3],V[4],V[5]);break;case l.OPS.constructPath:this.constructPath(V[0],V[1]);break;case l.OPS.endPath:this.endPath();break;case 92:this.group(M.items);break;default:(0,l.warn)(`Unimplemented operator ${z}`);break}}}setWordSpacing(w){this.current.wordSpacing=w}setCharSpacing(w){this.current.charSpacing=w}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(w,M,z,$,V,K){const J=this.current;J.textMatrix=J.lineMatrix=[w,M,z,$,V,K],J.textMatrixScale=Math.hypot(w,M),J.x=J.lineX=0,J.y=J.lineY=0,J.xcoords=[],J.ycoords=[],J.tspan=this.svgFactory.createElement("svg:tspan"),J.tspan.setAttributeNS(null,"font-family",J.fontFamily),J.tspan.setAttributeNS(null,"font-size",`${d(J.fontSize)}px`),J.tspan.setAttributeNS(null,"y",d(-J.y)),J.txtElement=this.svgFactory.createElement("svg:text"),J.txtElement.append(J.tspan)}beginText(){const w=this.current;w.x=w.lineX=0,w.y=w.lineY=0,w.textMatrix=l.IDENTITY_MATRIX,w.lineMatrix=l.IDENTITY_MATRIX,w.textMatrixScale=1,w.tspan=this.svgFactory.createElement("svg:tspan"),w.txtElement=this.svgFactory.createElement("svg:text"),w.txtgrp=this.svgFactory.createElement("svg:g"),w.xcoords=[],w.ycoords=[]}moveText(w,M){const z=this.current;z.x=z.lineX+=w,z.y=z.lineY+=M,z.xcoords=[],z.ycoords=[],z.tspan=this.svgFactory.createElement("svg:tspan"),z.tspan.setAttributeNS(null,"font-family",z.fontFamily),z.tspan.setAttributeNS(null,"font-size",`${d(z.fontSize)}px`),z.tspan.setAttributeNS(null,"y",d(-z.y))}showText(w){const M=this.current,z=M.font,$=M.fontSize;if($===0)return;const V=M.fontSizeScale,K=M.charSpacing,J=M.wordSpacing,te=M.fontDirection,se=M.textHScale*te,de=z.vertical,pe=de?1:-1,ie=z.defaultVMetrics,Y=$*M.fontMatrix[0];let I=0;for(const D of w){if(D===null){I+=te*J;continue}else if(typeof D=="number"){I+=pe*D*$/1e3;continue}const B=(D.isSpace?J:0)+K,W=D.fontChar;let G,H,A=D.width;if(de){let F;const _=D.vmetric||ie;F=D.vmetric?_[1]:A*.5,F=-F*Y;const N=_[2]*Y;A=_?-_[0]:A,G=F/V,H=(I+N)/V}else G=I/V,H=0;(D.isInFont||z.missingFile)&&(M.xcoords.push(M.x+G),de&&M.ycoords.push(-M.y+H),M.tspan.textContent+=W);const O=de?A*Y-B*te:A*Y+B*te;I+=O}M.tspan.setAttributeNS(null,"x",M.xcoords.map(d).join(" ")),de?M.tspan.setAttributeNS(null,"y",M.ycoords.map(d).join(" ")):M.tspan.setAttributeNS(null,"y",d(-M.y)),de?M.y-=I:M.x+=I*se,M.tspan.setAttributeNS(null,"font-family",M.fontFamily),M.tspan.setAttributeNS(null,"font-size",`${d(M.fontSize)}px`),M.fontStyle!==f.fontStyle&&M.tspan.setAttributeNS(null,"font-style",M.fontStyle),M.fontWeight!==f.fontWeight&&M.tspan.setAttributeNS(null,"font-weight",M.fontWeight);const R=M.textRenderingMode&l.TextRenderingMode.FILL_STROKE_MASK;if(R===l.TextRenderingMode.FILL||R===l.TextRenderingMode.FILL_STROKE?(M.fillColor!==f.fillColor&&M.tspan.setAttributeNS(null,"fill",M.fillColor),M.fillAlpha<1&&M.tspan.setAttributeNS(null,"fill-opacity",M.fillAlpha)):M.textRenderingMode===l.TextRenderingMode.ADD_TO_PATH?M.tspan.setAttributeNS(null,"fill","transparent"):M.tspan.setAttributeNS(null,"fill","none"),R===l.TextRenderingMode.STROKE||R===l.TextRenderingMode.FILL_STROKE){const D=1/(M.textMatrixScale||1);this._setStrokeAttributes(M.tspan,D)}let P=M.textMatrix;M.textRise!==0&&(P=P.slice(),P[5]+=M.textRise),M.txtElement.setAttributeNS(null,"transform",`${m(P)} scale(${d(se)}, -1)`),M.txtElement.setAttributeNS(v,"xml:space","preserve"),M.txtElement.append(M.tspan),M.txtgrp.append(M.txtElement),this._ensureTransformGroup().append(M.txtElement)}setLeadingMoveText(w,M){this.setLeading(-M),this.moveText(w,M)}addFontStyle(w){if(!w.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const M=c(w.data,w.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${w.loadedName}"; src: url(${M}); }
`}setFont(w){const M=this.current,z=this.commonObjs.get(w[0]);let $=w[1];M.font=z,this.embedFonts&&!z.missingFile&&!this.embeddedFonts[z.loadedName]&&(this.addFontStyle(z),this.embeddedFonts[z.loadedName]=z),M.fontMatrix=z.fontMatrix||l.FONT_IDENTITY_MATRIX;let V="normal";z.black?V="900":z.bold&&(V="bold");const K=z.italic?"italic":"normal";$<0?($=-$,M.fontDirection=-1):M.fontDirection=1,M.fontSize=$,M.fontFamily=z.loadedName,M.fontWeight=V,M.fontStyle=K,M.tspan=this.svgFactory.createElement("svg:tspan"),M.tspan.setAttributeNS(null,"y",d(-M.y)),M.xcoords=[],M.ycoords=[]}endText(){const w=this.current;w.textRenderingMode&l.TextRenderingMode.ADD_TO_PATH_FLAG&&w.txtElement?.hasChildNodes()&&(w.element=w.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(w){w>0&&(this.current.lineWidth=w)}setLineCap(w){this.current.lineCap=k[w]}setLineJoin(w){this.current.lineJoin=h[w]}setMiterLimit(w){this.current.miterLimit=w}setStrokeAlpha(w){this.current.strokeAlpha=w}setStrokeRGBColor(w,M,z){this.current.strokeColor=l.Util.makeHexColor(w,M,z)}setFillAlpha(w){this.current.fillAlpha=w}setFillRGBColor(w,M,z){this.current.fillColor=l.Util.makeHexColor(w,M,z),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(w){this.current.strokeColor=this._makeColorN_Pattern(w)}setFillColorN(w){this.current.fillColor=this._makeColorN_Pattern(w)}shadingFill(w){const{width:M,height:z}=this.viewport,$=l.Util.inverseTransform(this.transformMatrix),[V,K,J,te]=l.Util.getAxialAlignedBoundingBox([0,0,M,z],$),se=this.svgFactory.createElement("svg:rect");se.setAttributeNS(null,"x",V),se.setAttributeNS(null,"y",K),se.setAttributeNS(null,"width",J-V),se.setAttributeNS(null,"height",te-K),se.setAttributeNS(null,"fill",this._makeShadingPattern(w)),this.current.fillAlpha<1&&se.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(se)}_makeColorN_Pattern(w){return w[0]==="TilingPattern"?this._makeTilingPattern(w):this._makeShadingPattern(w)}_makeTilingPattern(w){const M=w[1],z=w[2],$=w[3]||l.IDENTITY_MATRIX,[V,K,J,te]=w[4],se=w[5],de=w[6],pe=w[7],ie=`shading${T++}`,[Y,I,R,P]=l.Util.normalizeRect([...l.Util.applyTransform([V,K],$),...l.Util.applyTransform([J,te],$)]),[D,B]=l.Util.singularValueDecompose2dScale($),W=se*D,G=de*B,H=this.svgFactory.createElement("svg:pattern");H.setAttributeNS(null,"id",ie),H.setAttributeNS(null,"patternUnits","userSpaceOnUse"),H.setAttributeNS(null,"width",W),H.setAttributeNS(null,"height",G),H.setAttributeNS(null,"x",`${Y}`),H.setAttributeNS(null,"y",`${I}`);const A=this.svg,O=this.transformMatrix,F=this.current.fillColor,_=this.current.strokeColor,N=this.svgFactory.create(R-Y,P-I);if(this.svg=N,this.transformMatrix=$,pe===2){const X=l.Util.makeHexColor(...M);this.current.fillColor=X,this.current.strokeColor=X}return this.executeOpTree(this.convertOpList(z)),this.svg=A,this.transformMatrix=O,this.current.fillColor=F,this.current.strokeColor=_,H.append(N.childNodes[0]),this.defs.append(H),`url(#${ie})`}_makeShadingPattern(w){switch(typeof w=="string"&&(w=this.objs.get(w)),w[0]){case"RadialAxial":const M=`shading${T++}`,z=w[3];let $;switch(w[1]){case"axial":const V=w[4],K=w[5];$=this.svgFactory.createElement("svg:linearGradient"),$.setAttributeNS(null,"id",M),$.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),$.setAttributeNS(null,"x1",V[0]),$.setAttributeNS(null,"y1",V[1]),$.setAttributeNS(null,"x2",K[0]),$.setAttributeNS(null,"y2",K[1]);break;case"radial":const J=w[4],te=w[5],se=w[6],de=w[7];$=this.svgFactory.createElement("svg:radialGradient"),$.setAttributeNS(null,"id",M),$.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),$.setAttributeNS(null,"cx",te[0]),$.setAttributeNS(null,"cy",te[1]),$.setAttributeNS(null,"r",de),$.setAttributeNS(null,"fx",J[0]),$.setAttributeNS(null,"fy",J[1]),$.setAttributeNS(null,"fr",se);break;default:throw new Error(`Unknown RadialAxial type: ${w[1]}`)}for(const V of z){const K=this.svgFactory.createElement("svg:stop");K.setAttributeNS(null,"offset",V[0]),K.setAttributeNS(null,"stop-color",V[1]),$.append(K)}return this.defs.append($),`url(#${M})`;case"Mesh":return(0,l.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${w[0]}`)}}setDash(w,M){this.current.dashArray=w,this.current.dashPhase=M}constructPath(w,M){const z=this.current;let $=z.x,V=z.y,K=[],J=0;for(const te of w)switch(te|0){case l.OPS.rectangle:$=M[J++],V=M[J++];const se=M[J++],de=M[J++],pe=$+se,ie=V+de;K.push("M",d($),d(V),"L",d(pe),d(V),"L",d(pe),d(ie),"L",d($),d(ie),"Z");break;case l.OPS.moveTo:$=M[J++],V=M[J++],K.push("M",d($),d(V));break;case l.OPS.lineTo:$=M[J++],V=M[J++],K.push("L",d($),d(V));break;case l.OPS.curveTo:$=M[J+4],V=M[J+5],K.push("C",d(M[J]),d(M[J+1]),d(M[J+2]),d(M[J+3]),d($),d(V)),J+=6;break;case l.OPS.curveTo2:K.push("C",d($),d(V),d(M[J]),d(M[J+1]),d(M[J+2]),d(M[J+3])),$=M[J+2],V=M[J+3],J+=4;break;case l.OPS.curveTo3:$=M[J+2],V=M[J+3],K.push("C",d(M[J]),d(M[J+1]),d($),d(V),d($),d(V)),J+=4;break;case l.OPS.closePath:K.push("Z");break}K=K.join(" "),z.path&&w.length>0&&w[0]!==l.OPS.rectangle&&w[0]!==l.OPS.moveTo?K=z.path.getAttributeNS(null,"d")+K:(z.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(z.path)),z.path.setAttributeNS(null,"d",K),z.path.setAttributeNS(null,"fill","none"),z.element=z.path,z.setCurrentPoint($,V)}endPath(){const w=this.current;if(w.path=null,!this.pendingClip)return;if(!w.element){this.pendingClip=null;return}const M=`clippath${S++}`,z=this.svgFactory.createElement("svg:clipPath");z.setAttributeNS(null,"id",M),z.setAttributeNS(null,"transform",m(this.transformMatrix));const $=w.element.cloneNode(!0);if(this.pendingClip==="evenodd"?$.setAttributeNS(null,"clip-rule","evenodd"):$.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,z.append($),this.defs.append(z),w.activeClipUrl){w.clipGroup=null;for(const V of this.extraStack)V.clipGroup=null;z.setAttributeNS(null,"clip-path",w.activeClipUrl)}w.activeClipUrl=`url(#${M})`,this.tgrp=null}clip(w){this.pendingClip=w}closePath(){const w=this.current;if(w.path){const M=`${w.path.getAttributeNS(null,"d")}Z`;w.path.setAttributeNS(null,"d",M)}}setLeading(w){this.current.leading=-w}setTextRise(w){this.current.textRise=w}setTextRenderingMode(w){this.current.textRenderingMode=w}setHScale(w){this.current.textHScale=w/100}setRenderingIntent(w){}setFlatness(w){}setGState(w){for(const[M,z]of w)switch(M){case"LW":this.setLineWidth(z);break;case"LC":this.setLineCap(z);break;case"LJ":this.setLineJoin(z);break;case"ML":this.setMiterLimit(z);break;case"D":this.setDash(z[0],z[1]);break;case"RI":this.setRenderingIntent(z);break;case"FL":this.setFlatness(z);break;case"Font":this.setFont(z);break;case"CA":this.setStrokeAlpha(z);break;case"ca":this.setFillAlpha(z);break;default:(0,l.warn)(`Unimplemented graphic state operator ${M}`);break}}fill(){const w=this.current;w.element&&(w.element.setAttributeNS(null,"fill",w.fillColor),w.element.setAttributeNS(null,"fill-opacity",w.fillAlpha),this.endPath())}stroke(){const w=this.current;w.element&&(this._setStrokeAttributes(w.element),w.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(w){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const z=this.current;let $=z.dashArray;M!==1&&$.length>0&&($=$.map(function(V){return M*V})),w.setAttributeNS(null,"stroke",z.strokeColor),w.setAttributeNS(null,"stroke-opacity",z.strokeAlpha),w.setAttributeNS(null,"stroke-miterlimit",d(z.miterLimit)),w.setAttributeNS(null,"stroke-linecap",z.lineCap),w.setAttributeNS(null,"stroke-linejoin",z.lineJoin),w.setAttributeNS(null,"stroke-width",d(M*z.lineWidth)+"px"),w.setAttributeNS(null,"stroke-dasharray",$.map(d).join(" ")),w.setAttributeNS(null,"stroke-dashoffset",d(M*z.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y","0"),w.setAttributeNS(null,"width","1px"),w.setAttributeNS(null,"height","1px"),w.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(w)}paintImageXObject(w){const M=this.getObject(w);if(!M){(0,l.warn)(`Dependent image with object ID ${w} is not ready yet`);return}this.paintInlineImageXObject(M)}paintInlineImageXObject(w,M){const z=w.width,$=w.height,V=p(w,this.forceDataSchema,!!M),K=this.svgFactory.createElement("svg:rect");K.setAttributeNS(null,"x","0"),K.setAttributeNS(null,"y","0"),K.setAttributeNS(null,"width",d(z)),K.setAttributeNS(null,"height",d($)),this.current.element=K,this.clip("nonzero");const J=this.svgFactory.createElement("svg:image");J.setAttributeNS(b,"xlink:href",V),J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y",d(-$)),J.setAttributeNS(null,"width",d(z)+"px"),J.setAttributeNS(null,"height",d($)+"px"),J.setAttributeNS(null,"transform",`scale(${d(1/z)} ${d(-1/$)})`),M?M.append(J):this._ensureTransformGroup().append(J)}paintImageMaskXObject(w){const M=this.getObject(w.data,w);if(M.bitmap){(0,l.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const z=this.current,$=M.width,V=M.height,K=z.fillColor;z.maskId=`mask${x++}`;const J=this.svgFactory.createElement("svg:mask");J.setAttributeNS(null,"id",z.maskId);const te=this.svgFactory.createElement("svg:rect");te.setAttributeNS(null,"x","0"),te.setAttributeNS(null,"y","0"),te.setAttributeNS(null,"width",d($)),te.setAttributeNS(null,"height",d(V)),te.setAttributeNS(null,"fill",K),te.setAttributeNS(null,"mask",`url(#${z.maskId})`),this.defs.append(J),this._ensureTransformGroup().append(te),this.paintInlineImageXObject(M,J)}paintFormXObjectBegin(w,M){if(Array.isArray(w)&&w.length===6&&this.transform(w[0],w[1],w[2],w[3],w[4],w[5]),M){const z=M[2]-M[0],$=M[3]-M[1],V=this.svgFactory.createElement("svg:rect");V.setAttributeNS(null,"x",M[0]),V.setAttributeNS(null,"y",M[1]),V.setAttributeNS(null,"width",d(z)),V.setAttributeNS(null,"height",d($)),this.current.element=V,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(w){const M=this.svgFactory.create(w.width,w.height),z=this.svgFactory.createElement("svg:defs");M.append(z),this.defs=z;const $=this.svgFactory.createElement("svg:g");return $.setAttributeNS(null,"transform",m(w.transform)),M.append($),this.svg=$,M}_ensureClipGroup(){if(!this.current.clipGroup){const w=this.svgFactory.createElement("svg:g");w.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(w),this.current.clipGroup=w}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",m(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=j}),((o,s,n)=>{var a=n(3),l=n(188),f=n(193);a({target:"Array",proto:!0},{group:function(b){var k=arguments.length>1?arguments[1]:void 0;return l(this,b,k)}}),f("group")}),((o,s,n)=>{var a=n(99),l=n(14),f=n(13),v=n(40),b=n(18),k=n(64),h=n(189),c=n(108),p=Array,g=l([].push);o.exports=function(y,d,m,S){for(var x=v(y),T=f(x),j=a(d,m),L=h(null),w=k(T),M=0,z,$,V;w>M;M++)V=T[M],$=b(j(V,M,x)),$ in L?g(L[$],V):L[$]=[V];if(S&&(z=S(x),z!==p))for($ in L)L[$]=c(z,L[$]);return L}}),((o,s,n)=>{var a=n(47),l=n(190),f=n(66),v=n(55),b=n(192),k=n(43),h=n(54),c=">",p="<",g="prototype",y="script",d=h("IE_PROTO"),m=function(){},S=function(w){return p+y+c+w+p+"/"+y+c},x=function(w){w.write(S("")),w.close();var M=w.parentWindow.Object;return w=null,M},T=function(){var w=k("iframe"),M="java"+y+":",z;return w.style.display="none",b.appendChild(w),w.src=String(M),z=w.contentWindow.document,z.open(),z.write(S("document.F=Object")),z.close(),z.F},j,L=function(){try{j=new ActiveXObject("htmlfile")}catch{}L=typeof document<"u"?document.domain&&j?x(j):T():x(j);for(var w=f.length;w--;)delete L[g][f[w]];return L()};v[d]=!0,o.exports=Object.create||function(M,z){var $;return M!==null?(m[g]=a(M),$=new m,m[g]=null,$[d]=M):$=L(),z===void 0?$:l.f($,z)}}),((o,s,n)=>{var a=n(6),l=n(46),f=n(45),v=n(47),b=n(12),k=n(191);s.f=a&&!l?Object.defineProperties:function(c,p){v(c);for(var g=b(p),y=k(p),d=y.length,m=0,S;d>m;)f.f(c,S=y[m++],g[S]);return c}}),((o,s,n)=>{var a=n(59),l=n(66);o.exports=Object.keys||function(v){return a(v,l)}}),((o,s,n)=>{var a=n(24);o.exports=a("document","documentElement")}),((o,s,n)=>{var a=n(34),l=n(189),f=n(45).f,v=a("unscopables"),b=Array.prototype;b[v]===void 0&&f(b,v,{configurable:!0,value:l(null)}),o.exports=function(k){b[v][k]=!0}}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0,n(89);class a{static textContent(f){const v=[],b={items:v,styles:Object.create(null)};function k(h){if(!h)return;let c=null;const p=h.name;if(p==="#text")c=h.value;else if(a.shouldBuildText(p))h?.attributes?.textContent?c=h.attributes.textContent:h.value&&(c=h.value);else return;if(c!==null&&v.push({str:c}),!!h.children)for(const g of h.children)k(g)}return k(f),b}static shouldBuildText(f){return!(f==="textarea"||f==="input"||f==="option"||f==="select")}}s.XfaText=a}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=m,s.updateTextLayer=S,n(89),n(2);var a=n(1),l=n(168);const f=1e5,v=30,b=.8,k=new Map;function h(x,T){let j;if(T&&a.FeatureTest.isOffscreenCanvasSupported)j=new OffscreenCanvas(x,x).getContext("2d",{alpha:!1});else{const L=document.createElement("canvas");L.width=L.height=x,j=L.getContext("2d",{alpha:!1})}return j}function c(x,T){const j=k.get(x);if(j)return j;const L=h(v,T);L.font=`${v}px ${x}`;const w=L.measureText("");let M=w.fontBoundingBoxAscent,z=Math.abs(w.fontBoundingBoxDescent);if(M){const V=M/(M+z);return k.set(x,V),L.canvas.width=L.canvas.height=0,V}L.strokeStyle="red",L.clearRect(0,0,v,v),L.strokeText("g",0,0);let $=L.getImageData(0,0,v,v).data;z=0;for(let V=$.length-1-3;V>=0;V-=4)if($[V]>0){z=Math.ceil(V/4/v);break}L.clearRect(0,0,v,v),L.strokeText("A",0,v),$=L.getImageData(0,0,v,v).data,M=0;for(let V=0,K=$.length;V<K;V+=4)if($[V]>0){M=v-Math.floor(V/4/v);break}if(L.canvas.width=L.canvas.height=0,M){const V=M/(M+z);return k.set(x,V),V}return k.set(x,b),b}function p(x,T,j){const L=document.createElement("span"),w={angle:0,canvasWidth:0,hasText:T.str!=="",hasEOL:T.hasEOL,fontSize:0};x._textDivs.push(L);const M=a.Util.transform(x._transform,T.transform);let z=Math.atan2(M[1],M[0]);const $=j[T.fontName];$.vertical&&(z+=Math.PI/2);const V=Math.hypot(M[2],M[3]),K=V*c($.fontFamily,x._isOffscreenCanvasSupported);let J,te;z===0?(J=M[4],te=M[5]-K):(J=M[4]+K*Math.sin(z),te=M[5]-K*Math.cos(z));const se="calc(var(--scale-factor)*",de=L.style;x._container===x._rootContainer?(de.left=`${(100*J/x._pageWidth).toFixed(2)}%`,de.top=`${(100*te/x._pageHeight).toFixed(2)}%`):(de.left=`${se}${J.toFixed(2)}px)`,de.top=`${se}${te.toFixed(2)}px)`),de.fontSize=`${se}${V.toFixed(2)}px)`,de.fontFamily=$.fontFamily,w.fontSize=V,L.setAttribute("role","presentation"),L.textContent=T.str,L.dir=T.dir,x._fontInspectorEnabled&&(L.dataset.fontName=T.fontName),z!==0&&(w.angle=z*(180/Math.PI));let pe=!1;if(T.str.length>1)pe=!0;else if(T.str!==" "&&T.transform[0]!==T.transform[3]){const ie=Math.abs(T.transform[0]),Y=Math.abs(T.transform[3]);ie!==Y&&Math.max(ie,Y)/Math.min(ie,Y)>1.5&&(pe=!0)}pe&&(w.canvasWidth=$.vertical?T.height:T.width),x._textDivProperties.set(L,w),x._isReadableStream&&x._layoutText(L)}function g(x){const{div:T,scale:j,properties:L,ctx:w,prevFontSize:M,prevFontFamily:z}=x,{style:$}=T;let V="";if(L.canvasWidth!==0&&L.hasText){const{fontFamily:K}=$,{canvasWidth:J,fontSize:te}=L;(M!==te||z!==K)&&(w.font=`${te*j}px ${K}`,x.prevFontSize=te,x.prevFontFamily=K);const{width:se}=w.measureText(T.textContent);se>0&&(V=`scaleX(${J*j/se})`)}L.angle!==0&&(V=`rotate(${L.angle}deg) ${V}`),V.length>0&&($.transform=V)}function y(x){if(x._canceled)return;const T=x._textDivs,j=x._capability;if(T.length>f){j.resolve();return}if(!x._isReadableStream)for(const w of T)x._layoutText(w);j.resolve()}class d{constructor(T){let{textContentSource:j,container:L,viewport:w,textDivs:M,textDivProperties:z,textContentItemsStr:$,isOffscreenCanvasSupported:V}=T;this._textContentSource=j,this._isReadableStream=j instanceof ReadableStream,this._container=this._rootContainer=L,this._textDivs=M||[],this._textContentItemsStr=$||[],this._isOffscreenCanvasSupported=V,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=z||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:w.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:h(0,V)};const{pageWidth:K,pageHeight:J,pageX:te,pageY:se}=w.rawDims;this._transform=[1,0,0,-1,-te,se+J],this._pageWidth=K,this._pageHeight=J,(0,l.setLayerDimensions)(L,w),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(T,j){for(const L of T){if(L.str===void 0){if(L.type==="beginMarkedContentProps"||L.type==="beginMarkedContent"){const w=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),L.id!==null&&this._container.setAttribute("id",`${L.id}`),w.append(this._container)}else L.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(L.str),p(this,L,j)}}_layoutText(T){const j=this._layoutTextParams.properties=this._textDivProperties.get(T);if(this._layoutTextParams.div=T,g(this._layoutTextParams),j.hasText&&this._container.append(T),j.hasEOL){const L=document.createElement("br");L.setAttribute("role","presentation"),this._container.append(L)}}_render(){const T=new a.PromiseCapability;let j=Object.create(null);if(this._isReadableStream){const L=()=>{this._reader.read().then(w=>{let{value:M,done:z}=w;if(z){T.resolve();return}Object.assign(j,M.styles),this._processItems(M.items,j),L()},T.reject)};this._reader=this._textContentSource.getReader(),L()}else if(this._textContentSource){const{items:L,styles:w}=this._textContentSource;this._processItems(L,w),T.resolve()}else throw new Error('No "textContentSource" parameter specified.');T.promise.then(()=>{j=null,y(this)},this._capability.reject)}}s.TextLayerRenderTask=d;function m(x){!x.textContentSource&&(x.textContent||x.textContentStream)&&((0,l.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),x.textContentSource=x.textContent||x.textContentStream);const{container:T,viewport:j}=x,L=getComputedStyle(T),w=L.getPropertyValue("visibility"),M=parseFloat(L.getPropertyValue("--scale-factor"));w==="visible"&&(!M||Math.abs(M-j.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const z=new d(x);return z._render(),z}function S(x){let{container:T,viewport:j,textDivs:L,textDivProperties:w,isOffscreenCanvasSupported:M,mustRotate:z=!0,mustRescale:$=!0}=x;if(z&&(0,l.setLayerDimensions)(T,{rotation:j.rotation}),$){const V=h(0,M),J={prevFontSize:null,prevFontFamily:null,div:null,scale:j.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:V};for(const te of L)J.properties=w.get(te),J.div=te,g(J)}}}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0,n(125),n(136),n(138),n(141),n(143),n(145),n(147);var a=n(1),l=n(164),f=n(197),v=n(202),b=n(168),k=n(203);class h{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#o=this.pointerdown.bind(this);#a=new Map;#i=!1;#l=!1;#c=!1;#s;static _initialized=!1;constructor(p){let{uiManager:g,pageIndex:y,div:d,accessibilityManager:m,annotationLayer:S,viewport:x,l10n:T}=p;const j=[f.FreeTextEditor,v.InkEditor,k.StampEditor];if(!h._initialized){h._initialized=!0;for(const L of j)L.initialize(T)}g.registerEditorTypes(j),this.#s=g,this.pageIndex=y,this.div=d,this.#e=m,this.#n=S,this.viewport=x,this.#s.addLayer(this)}get isEmpty(){return this.#a.size===0}updateToolbar(p){this.#s.updateToolbar(p)}updateMode(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.#s.getMode();this.#p(),p===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),p!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",p===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",p===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",p===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(p){if(!p&&this.#s.getMode()!==a.AnnotationEditorType.INK)return;if(!p){for(const y of this.#a.values())if(y.isEmpty()){y.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(p){this.#s.setEditingState(p)}addCommands(p){this.#s.addCommands(p)}enable(){this.div.style.pointerEvents="auto";const p=new Set;for(const y of this.#a.values())y.enableEditing(),y.annotationElementId&&p.add(y.annotationElementId);if(!this.#n)return;const g=this.#n.getEditableAnnotations();for(const y of g){if(y.hide(),this.#s.isDeletedAnnotationElement(y.data.id)||p.has(y.data.id))continue;const d=this.deserialize(y);d&&(this.addOrRebuild(d),d.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";const p=new Set;for(const g of this.#a.values()){if(g.disableEditing(),!g.annotationElementId||g.serialize()!==null){p.add(g.annotationElementId);continue}this.getEditableAnnotation(g.annotationElementId)?.show(),g.remove()}if(this.#n){const g=this.#n.getEditableAnnotations();for(const y of g){const{id:d}=y.data;p.has(d)||this.#s.isDeletedAnnotationElement(d)||y.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(p){return this.#n?.getEditableAnnotation(p)||null}setActiveEditor(p){this.#s.getActive()!==p&&this.#s.setActiveEditor(p)}enableClick(){this.div.addEventListener("pointerdown",this.#o),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#o),this.div.removeEventListener("pointerup",this.#r)}attach(p){this.#a.set(p.id,p);const{annotationElementId:g}=p;g&&this.#s.isDeletedAnnotationElement(g)&&this.#s.removeDeletedAnnotationElement(p)}detach(p){this.#a.delete(p.id),this.#e?.removePointerInTextLayer(p.contentDiv),!this.#c&&p.annotationElementId&&this.#s.addDeletedAnnotationElement(p)}remove(p){this.detach(p),this.#s.removeEditor(p),p.div.contains(document.activeElement)&&setTimeout(()=>{this.#s.focusMainContainer()},0),p.div.remove(),p.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(p){p.parent!==this&&(p.annotationElementId&&(this.#s.addDeletedAnnotationElement(p.annotationElementId),l.AnnotationEditor.deleteAnnotationElement(p),p.annotationElementId=null),this.attach(p),p.parent?.detach(p),p.setParent(this),p.div&&p.isAttachedToDOM&&(p.div.remove(),this.div.append(p.div)))}add(p){if(this.changeParent(p),this.#s.addEditor(p),this.attach(p),!p.isAttachedToDOM){const g=p.render();this.div.append(g),p.isAttachedToDOM=!0}p.fixAndSetPosition(),p.onceAdded(),this.#s.addToAnnotationStorage(p)}moveEditorInDOM(p){if(!p.isAttachedToDOM)return;const{activeElement:g}=document;p.div.contains(g)&&(p._focusEventsAllowed=!1,setTimeout(()=>{p.div.contains(document.activeElement)?p._focusEventsAllowed=!0:(p.div.addEventListener("focusin",()=>{p._focusEventsAllowed=!0},{once:!0}),g.focus())},0)),p._structTreeParentId=this.#e?.moveElementInDOM(this.div,p.div,p.contentDiv,!0)}addOrRebuild(p){p.needsToBeRebuilt()?p.rebuild():this.add(p)}addUndoableEditor(p){const g=()=>p._uiManager.rebuild(p),y=()=>{p.remove()};this.addCommands({cmd:g,undo:y,mustExec:!1})}getNextId(){return this.#s.getId()}#f(p){switch(this.#s.getMode()){case a.AnnotationEditorType.FREETEXT:return new f.FreeTextEditor(p);case a.AnnotationEditorType.INK:return new v.InkEditor(p);case a.AnnotationEditorType.STAMP:return new k.StampEditor(p)}return null}pasteEditor(p,g){this.#s.updateToolbar(p),this.#s.updateMode(p);const{offsetX:y,offsetY:d}=this.#h(),m=this.getNextId(),S=this.#f({parent:this,id:m,x:y,y:d,uiManager:this.#s,isCentered:!0,...g});S&&this.add(S)}deserialize(p){switch(p.annotationType??p.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return f.FreeTextEditor.deserialize(p,this,this.#s);case a.AnnotationEditorType.INK:return v.InkEditor.deserialize(p,this,this.#s);case a.AnnotationEditorType.STAMP:return k.StampEditor.deserialize(p,this,this.#s)}return null}#d(p,g){const y=this.getNextId(),d=this.#f({parent:this,id:y,x:p.offsetX,y:p.offsetY,uiManager:this.#s,isCentered:g});return d&&this.add(d),d}#h(){const{x:p,y:g,width:y,height:d}=this.div.getBoundingClientRect(),m=Math.max(0,p),S=Math.max(0,g),x=Math.min(window.innerWidth,p+y),T=Math.min(window.innerHeight,g+d),j=(m+x)/2-p,L=(S+T)/2-g,[w,M]=this.viewport.rotation%180===0?[j,L]:[L,j];return{offsetX:w,offsetY:M}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(p){this.#s.setSelected(p)}toggleSelected(p){this.#s.toggleSelected(p)}isSelected(p){return this.#s.isSelected(p)}unselect(p){this.#s.unselect(p)}pointerup(p){const{isMac:g}=a.FeatureTest.platform;if(!(p.button!==0||p.ctrlKey&&g)&&p.target===this.div&&this.#i){if(this.#i=!1,!this.#t){this.#t=!0;return}if(this.#s.getMode()===a.AnnotationEditorType.STAMP){this.#s.unselectAll();return}this.#d(p,!1)}}pointerdown(p){if(this.#i){this.#i=!1;return}const{isMac:g}=a.FeatureTest.platform;if(p.button!==0||p.ctrlKey&&g||p.target!==this.div)return;this.#i=!0;const y=this.#s.getActive();this.#t=!y||y.isEmpty()}findNewParent(p,g,y){const d=this.#s.findParent(g,y);return d===null||d===this?!1:(d.changeParent(p),!0)}destroy(){this.#s.getActive()?.parent===this&&(this.#s.commitOrRemove(),this.#s.setActiveEditor(null));for(const p of this.#a.values())this.#e?.removePointerInTextLayer(p.contentDiv),p.setParent(null),p.isAttachedToDOM=!1,p.div.remove();this.div=null,this.#a.clear(),this.#s.removeLayer(this)}#p(){this.#l=!0;for(const p of this.#a.values())p.isEmpty()&&p.remove();this.#l=!1}render(p){let{viewport:g}=p;this.viewport=g,(0,b.setLayerDimensions)(this.div,g);for(const y of this.#s.getEditors(this.pageIndex))this.add(y);this.updateMode()}update(p){let{viewport:g}=p;this.#s.commitOrRemove(),this.viewport=g,(0,b.setLayerDimensions)(this.div,{rotation:g.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:p,pageHeight:g}=this.viewport.rawDims;return[p,g]}}s.AnnotationEditorLayer=h}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0,n(89);var a=n(1),l=n(165),f=n(164),v=n(198);class b extends f.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#o;#a="";#i=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const h=b.prototype,c=y=>y.isEmpty(),p=l.AnnotationEditorUIManager.TRANSLATE_SMALL,g=l.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new l.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],h.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],h.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],h._translateEmpty,{args:[-p,0],checker:c}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],h._translateEmpty,{args:[-g,0],checker:c}],[["ArrowRight","mac+ArrowRight"],h._translateEmpty,{args:[p,0],checker:c}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],h._translateEmpty,{args:[g,0],checker:c}],[["ArrowUp","mac+ArrowUp"],h._translateEmpty,{args:[0,-p],checker:c}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],h._translateEmpty,{args:[0,-g],checker:c}],[["ArrowDown","mac+ArrowDown"],h._translateEmpty,{args:[0,p],checker:c}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],h._translateEmpty,{args:[0,g],checker:c}]]))}static _type="freetext";constructor(h){super({...h,name:"freeTextEditor"}),this.#o=h.color||b._defaultColor||f.AnnotationEditor._defaultLineColor,this.#l=h.fontSize||b._defaultFontSize}static initialize(h){f.AnnotationEditor.initialize(h,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const c=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(c.getPropertyValue("--freetext-padding"))}static updateDefaultParams(h,c){switch(h){case a.AnnotationEditorParamsType.FREETEXT_SIZE:b._defaultFontSize=c;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:b._defaultColor=c;break}}updateParams(h,c){switch(h){case a.AnnotationEditorParamsType.FREETEXT_SIZE:this.#s(c);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(c);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,b._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,b._defaultColor||f.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[a.AnnotationEditorParamsType.FREETEXT_COLOR,this.#o]]}#s(h){const c=g=>{this.editorDiv.style.fontSize=`calc(${g}px * var(--scale-factor))`,this.translate(0,-(g-this.#l)*this.parentScale),this.#l=g,this.#h()},p=this.#l;this.addCommands({cmd:()=>{c(h)},undo:()=>{c(p)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(h){const c=this.#o;this.addCommands({cmd:()=>{this.#o=this.editorDiv.style.color=h},undo:()=>{this.#o=this.editorDiv.style.color=c},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(h,c){this._uiManager.translateSelectedEditors(h,c,!0)}getInitialTranslation(){const h=this.parentScale;return[-b._internalPadding*h,-(b._internalPadding+this.#l)*h]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#i),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(h){this._focusEventsAllowed&&(super.focusin(h),h.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#m();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const h=this.editorDiv.getElementsByTagName("div");if(h.length===0)return this.editorDiv.innerText;const c=[];for(const p of h)c.push(p.innerText.replace(/\r\n?|\n/,""));return c.join(`
`)}#h(){const[h,c]=this.parentDimensions;let p;if(this.isAttachedToDOM)p=this.div.getBoundingClientRect();else{const{currentLayer:g,div:y}=this,d=y.style.display;y.style.display="hidden",g.div.append(this.div),p=y.getBoundingClientRect(),y.remove(),y.style.display=d}this.rotation%180===this.parentRotation%180?(this.width=p.width/h,this.height=p.height/c):(this.width=p.height/h,this.height=p.width/c),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const h=this.#a,c=this.#a=this.#d().trimEnd();if(h===c)return;const p=g=>{if(this.#a=g,!g){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{p(c)},undo:()=>{p(h)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(h){this.enterInEditMode()}keydown(h){h.target===this.div&&h.key==="Enter"&&(this.enterInEditMode(),h.preventDefault())}editorDivKeydown(h){b._keyboardManager.exec(this,h)}editorDivFocus(h){this.isEditing=!0}editorDivBlur(h){this.isEditing=!1}editorDivInput(h){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let h,c;this.width&&(h=this.x,c=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#i),this.enableEditing(),f.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(g=>this.editorDiv?.setAttribute("aria-label",g)),f.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(g=>this.editorDiv?.setAttribute("default-content",g)),this.editorDiv.contentEditable=!0;const{style:p}=this.editorDiv;if(p.fontSize=`calc(${this.#l}px * var(--scale-factor))`,p.color=this.#o,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,l.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[g,y]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this.#c;let[m,S]=this.getInitialTranslation();[m,S]=this.pageTranslationToScreen(m,S);const[x,T]=this.pageDimensions,[j,L]=this.pageTranslation;let w,M;switch(this.rotation){case 0:w=h+(d[0]-j)/x,M=c+this.height-(d[1]-L)/T;break;case 90:w=h+(d[0]-j)/x,M=c-(d[1]-L)/T,[m,S]=[S,-m];break;case 180:w=h-this.width+(d[0]-j)/x,M=c-(d[1]-L)/T,[m,S]=[-m,-S];break;case 270:w=h+(d[0]-j-this.height*T)/x,M=c+(d[1]-L-this.width*x)/T,[m,S]=[-S,m];break}this.setAt(w*g,M*y,m,S)}else this.setAt(h*g,c*y,this.width*g,this.height*y);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#a)for(const h of this.#a.split(`
`)){const c=document.createElement("div");c.append(h?document.createTextNode(h):document.createElement("br")),this.editorDiv.append(c)}}get contentDiv(){return this.editorDiv}static deserialize(h,c,p){let g=null;if(h instanceof v.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:d,fontColor:m},rect:S,rotation:x,id:T},textContent:j,textPosition:L,parent:{page:{pageNumber:w}}}=h;if(!j||j.length===0)return null;g=h={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(m),fontSize:d,value:j.join(`
`),position:L,pageIndex:w-1,rect:S,rotation:x,id:T,deleted:!1}}const y=super.deserialize(h,c,p);return y.#l=h.fontSize,y.#o=a.Util.makeHexColor(...h.color),y.#a=h.value,y.annotationElementId=h.id||null,y.#c=g,y}serialize(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const c=b._internalPadding*this.parentScale,p=this.getRect(c,c),g=f.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#o),y={annotationType:a.AnnotationEditorType.FREETEXT,color:g,fontSize:this.#l,value:this.#a,pageIndex:this.pageIndex,rect:p,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return h?y:this.annotationElementId&&!this.#v(y)?null:(y.id=this.annotationElementId,y)}#v(h){const{value:c,fontSize:p,color:g,rect:y,pageIndex:d}=this.#c;return h.value!==c||h.fontSize!==p||h.rect.some((m,S)=>Math.abs(m-y[S])>=1)||h.color.some((m,S)=>m!==g[S])||h.pageIndex!==d}#m(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.annotationElementId)return;if(this.#h(),!h&&(this.width===0||this.height===0)){setTimeout(()=>this.#m(!0),0);return}const c=b._internalPadding*this.parentScale;this.#c.rect=this.getRect(c,c)}}s.FreeTextEditor=b}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0,n(89),n(125),n(136),n(138),n(141),n(143),n(145),n(147);var a=n(1),l=n(168),f=n(163),v=n(199),b=n(200),k=n(201);const h=1e3,c=9,p=new WeakSet;function g(H){return{width:H[2]-H[0],height:H[3]-H[1]}}class y{static create(A){switch(A.data.annotationType){case a.AnnotationType.LINK:return new m(A);case a.AnnotationType.TEXT:return new S(A);case a.AnnotationType.WIDGET:switch(A.data.fieldType){case"Tx":return new T(A);case"Btn":return A.data.radioButton?new w(A):A.data.checkBox?new L(A):new M(A);case"Ch":return new z(A);case"Sig":return new j(A)}return new x(A);case a.AnnotationType.POPUP:return new $(A);case a.AnnotationType.FREETEXT:return new K(A);case a.AnnotationType.LINE:return new J(A);case a.AnnotationType.SQUARE:return new te(A);case a.AnnotationType.CIRCLE:return new se(A);case a.AnnotationType.POLYLINE:return new de(A);case a.AnnotationType.CARET:return new ie(A);case a.AnnotationType.INK:return new Y(A);case a.AnnotationType.POLYGON:return new pe(A);case a.AnnotationType.HIGHLIGHT:return new I(A);case a.AnnotationType.UNDERLINE:return new R(A);case a.AnnotationType.SQUIGGLY:return new P(A);case a.AnnotationType.STRIKEOUT:return new D(A);case a.AnnotationType.STAMP:return new B(A);case a.AnnotationType.FILEATTACHMENT:return new W(A);default:return new d(A)}}}class d{#e=!1;constructor(A){let{isRenderable:O=!1,ignoreBorder:F=!1,createQuadrilaterals:_=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=O,this.data=A.data,this.layer=A.layer,this.linkService=A.linkService,this.downloadManager=A.downloadManager,this.imageResourcesPath=A.imageResourcesPath,this.renderForms=A.renderForms,this.svgFactory=A.svgFactory,this.annotationStorage=A.annotationStorage,this.enableScripting=A.enableScripting,this.hasJSActions=A.hasJSActions,this._fieldObjects=A.fieldObjects,this.parent=A.parent,O&&(this.container=this._createContainer(F)),_&&this._createQuadrilaterals()}static _hasPopupData(A){let{titleObj:O,contentsObj:F,richText:_}=A;return!!(O?.str||F?.str||_?.str)}get hasPopupData(){return d._hasPopupData(this.data)}_createContainer(A){const{data:O,parent:{page:F,viewport:_}}=this,N=document.createElement("section");N.setAttribute("data-annotation-id",O.id),this instanceof x||(N.tabIndex=h),N.style.zIndex=this.parent.zIndex++,this.data.popupRef&&N.setAttribute("aria-haspopup","dialog"),O.noRotate&&N.classList.add("norotate");const{pageWidth:X,pageHeight:Z,pageX:ne,pageY:ye}=_.rawDims;if(!O.rect||this instanceof $){const{rotation:ve}=O;return!O.hasOwnCanvas&&ve!==0&&this.setRotation(ve,N),N}const{width:oe,height:he}=g(O.rect),ge=a.Util.normalizeRect([O.rect[0],F.view[3]-O.rect[1]+F.view[1],O.rect[2],F.view[3]-O.rect[3]+F.view[1]]);if(!A&&O.borderStyle.width>0){N.style.borderWidth=`${O.borderStyle.width}px`;const ve=O.borderStyle.horizontalCornerRadius,Ce=O.borderStyle.verticalCornerRadius;if(ve>0||Ce>0){const Fe=`calc(${ve}px * var(--scale-factor)) / calc(${Ce}px * var(--scale-factor))`;N.style.borderRadius=Fe}else if(this instanceof w){const Fe=`calc(${oe}px * var(--scale-factor)) / calc(${he}px * var(--scale-factor))`;N.style.borderRadius=Fe}switch(O.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:N.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:N.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:N.style.borderBottomStyle="solid";break}const Re=O.borderColor||null;Re?(this.#e=!0,N.style.borderColor=a.Util.makeHexColor(Re[0]|0,Re[1]|0,Re[2]|0)):N.style.borderWidth=0}N.style.left=`${100*(ge[0]-ne)/X}%`,N.style.top=`${100*(ge[1]-ye)/Z}%`;const{rotation:me}=O;return O.hasOwnCanvas||me===0?(N.style.width=`${100*oe/X}%`,N.style.height=`${100*he/Z}%`):this.setRotation(me,N),N}setRotation(A){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:F,pageHeight:_}=this.parent.viewport.rawDims,{width:N,height:X}=g(this.data.rect);let Z,ne;A%180===0?(Z=100*N/F,ne=100*X/_):(Z=100*X/F,ne=100*N/_),O.style.width=`${Z}%`,O.style.height=`${ne}%`,O.setAttribute("data-main-rotation",(360-A)%360)}get _commonActions(){const A=(O,F,_)=>{const N=_.detail[O],X=N[0],Z=N.slice(1);_.target.style[F]=v.ColorConverters[`${X}_HTML`](Z),this.annotationStorage.setValue(this.data.id,{[F]:v.ColorConverters[`${X}_rgb`](Z)})};return(0,a.shadow)(this,"_commonActions",{display:O=>{const{display:F}=O.detail,_=F%2===1;this.container.style.visibility=_?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:_,noPrint:F===1||F===2})},print:O=>{this.annotationStorage.setValue(this.data.id,{noPrint:!O.detail.print})},hidden:O=>{const{hidden:F}=O.detail;this.container.style.visibility=F?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:F,noView:F})},focus:O=>{setTimeout(()=>O.target.focus({preventScroll:!1}),0)},userName:O=>{O.target.title=O.detail.userName},readonly:O=>{O.target.disabled=O.detail.readonly},required:O=>{this._setRequired(O.target,O.detail.required)},bgColor:O=>{A("bgColor","backgroundColor",O)},fillColor:O=>{A("fillColor","backgroundColor",O)},fgColor:O=>{A("fgColor","color",O)},textColor:O=>{A("textColor","color",O)},borderColor:O=>{A("borderColor","borderColor",O)},strokeColor:O=>{A("strokeColor","borderColor",O)},rotation:O=>{const F=O.detail.rotation;this.setRotation(F),this.annotationStorage.setValue(this.data.id,{rotation:F})}})}_dispatchEventFromSandbox(A,O){const F=this._commonActions;for(const _ of Object.keys(O.detail))(A[_]||F[_])?.(O)}_setDefaultPropertiesFromJS(A){if(!this.enableScripting)return;const O=this.annotationStorage.getRawValue(this.data.id);if(!O)return;const F=this._commonActions;for(const[_,N]of Object.entries(O)){const X=F[_];if(X){const Z={detail:{[_]:N},target:A};X(Z),delete O[_]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:A}=this.data;if(!A)return;const[O,F,_,N]=this.data.rect;if(A.length===1){const[,{x:Ce,y:Re},{x:Fe,y:Ue}]=A[0];if(_===Ce&&N===Re&&O===Fe&&F===Ue)return}const{style:X}=this.container;let Z;if(this.#e){const{borderColor:Ce,borderWidth:Re}=X;X.borderWidth=0,Z=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ce}" stroke-width="${Re}">`],this.container.classList.add("hasBorder")}const ne=_-O,ye=N-F,{svgFactory:oe}=this,he=oe.createElement("svg");he.classList.add("quadrilateralsContainer"),he.setAttribute("width",0),he.setAttribute("height",0);const ge=oe.createElement("defs");he.append(ge);const me=oe.createElement("clipPath"),ve=`clippath_${this.data.id}`;me.setAttribute("id",ve),me.setAttribute("clipPathUnits","objectBoundingBox"),ge.append(me);for(const[,{x:Ce,y:Re},{x:Fe,y:Ue}]of A){const He=oe.createElement("rect"),Ye=(Fe-O)/ne,rt=(N-Re)/ye,dt=(Ce-Fe)/ne,Nt=(Re-Ue)/ye;He.setAttribute("x",Ye),He.setAttribute("y",rt),He.setAttribute("width",dt),He.setAttribute("height",Nt),me.append(He),Z?.push(`<rect vector-effect="non-scaling-stroke" x="${Ye}" y="${rt}" width="${dt}" height="${Nt}"/>`)}this.#e&&(Z.push("</g></svg>')"),X.backgroundImage=Z.join("")),this.container.append(he),this.container.style.clipPath=`url(#${ve})`}_createPopup(){const{container:A,data:O}=this;A.setAttribute("aria-haspopup","dialog");const F=new $({data:{color:O.color,titleObj:O.titleObj,modificationDate:O.modificationDate,contentsObj:O.contentsObj,richText:O.richText,parentRect:O.rect,borderStyle:0,id:`popup_${O.id}`,rotation:O.rotation},parent:this.parent,elements:[this]});this.parent.div.append(F.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(A){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const F=[];if(this._fieldObjects){const _=this._fieldObjects[A];if(_)for(const{page:N,id:X,exportValues:Z}of _){if(N===-1||X===O)continue;const ne=typeof Z=="string"?Z:null,ye=document.querySelector(`[data-element-id="${X}"]`);if(ye&&!p.has(ye)){(0,a.warn)(`_getElementsByName - element not allowed: ${X}`);continue}F.push({id:X,exportValue:ne,domElement:ye})}return F}for(const _ of document.getElementsByName(A)){const{exportValue:N}=_,X=_.getAttribute("data-element-id");X!==O&&p.has(_)&&F.push({id:X,exportValue:N,domElement:_})}return F}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const A=this.getElementsToTriggerPopup();if(Array.isArray(A))for(const O of A)O.classList.add("highlightArea");else A.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:A,data:{id:O}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:A,editId:O})})}}class m extends d{constructor(A){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(A,{isRenderable:!0,ignoreBorder:!!O?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=A.data.isTooltipOnly}render(){const{data:A,linkService:O}=this,F=document.createElement("a");F.setAttribute("data-element-id",A.id);let _=!1;return A.url?(O.addLinkAttributes(F,A.url,A.newWindow),_=!0):A.action?(this._bindNamedAction(F,A.action),_=!0):A.attachment?(this._bindAttachment(F,A.attachment),_=!0):A.setOCGState?(this.#t(F,A.setOCGState),_=!0):A.dest?(this._bindLink(F,A.dest),_=!0):(A.actions&&(A.actions.Action||A.actions["Mouse Up"]||A.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(F,A),_=!0),A.resetForm?(this._bindResetFormAction(F,A.resetForm),_=!0):this.isTooltipOnly&&!_&&(this._bindLink(F,""),_=!0)),this.container.classList.add("linkAnnotation"),_&&this.container.append(F),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(A,O){A.href=this.linkService.getDestinationHash(O),A.onclick=()=>(O&&this.linkService.goToDestination(O),!1),(O||O==="")&&this.#e()}_bindNamedAction(A,O){A.href=this.linkService.getAnchorUrl(""),A.onclick=()=>(this.linkService.executeNamedAction(O),!1),this.#e()}_bindAttachment(A,O){A.href=this.linkService.getAnchorUrl(""),A.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,O.content,O.filename),!1),this.#e()}#t(A,O){A.href=this.linkService.getAnchorUrl(""),A.onclick=()=>(this.linkService.executeSetOCGState(O),!1),this.#e()}_bindJSAction(A,O){A.href=this.linkService.getAnchorUrl("");const F=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const _ of Object.keys(O.actions)){const N=F.get(_);N&&(A[N]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O.id,name:_}}),!1))}A.onclick||(A.onclick=()=>!1),this.#e()}_bindResetFormAction(A,O){const F=A.onclick;if(F||(A.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),F||(A.onclick=()=>!1);return}A.onclick=()=>{F?.();const{fields:_,refs:N,include:X}=O,Z=[];if(_.length!==0||N.length!==0){const oe=new Set(N);for(const he of _){const ge=this._fieldObjects[he]||[];for(const{id:me}of ge)oe.add(me)}for(const he of Object.values(this._fieldObjects))for(const ge of he)oe.has(ge.id)===X&&Z.push(ge)}else for(const oe of Object.values(this._fieldObjects))Z.push(...oe);const ne=this.annotationStorage,ye=[];for(const oe of Z){const{id:he}=oe;switch(ye.push(he),oe.type){case"text":{const me=oe.defaultValue||"";ne.setValue(he,{value:me});break}case"checkbox":case"radiobutton":{const me=oe.defaultValue===oe.exportValues;ne.setValue(he,{value:me});break}case"combobox":case"listbox":{const me=oe.defaultValue||"";ne.setValue(he,{value:me});break}default:continue}const ge=document.querySelector(`[data-element-id="${he}"]`);if(ge){if(!p.has(ge)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${he}`);continue}}else continue;ge.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ye,name:"ResetForm"}}),!1}}}class S extends d{constructor(A){super(A,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const A=document.createElement("img");return A.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",A.alt="[{{type}} Annotation]",A.dataset.l10nId="text_annotation_type",A.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(A),this.container}}class x extends d{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(A){this.data.hasOwnCanvas&&(A.previousSibling?.nodeName==="CANVAS"&&(A.previousSibling.hidden=!0),A.hidden=!1)}_getKeyModifier(A){const{isWin:O,isMac:F}=a.FeatureTest.platform;return O&&A.ctrlKey||F&&A.metaKey}_setEventListener(A,O,F,_,N){F.includes("mouse")?A.addEventListener(F,X=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_,value:N(X),shift:X.shiftKey,modifier:this._getKeyModifier(X)}})}):A.addEventListener(F,X=>{if(F==="blur"){if(!O.focused||!X.relatedTarget)return;O.focused=!1}else if(F==="focus"){if(O.focused)return;O.focused=!0}N&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_,value:N(X)}})})}_setEventListeners(A,O,F,_){for(const[N,X]of F)(X==="Action"||this.data.actions?.[X])&&((X==="Focus"||X==="Blur")&&(O||={focused:!1}),this._setEventListener(A,O,N,X,_),X==="Focus"&&!this.data.actions?.Blur?this._setEventListener(A,O,"blur","Blur",null):X==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(A,O,"focus","Focus",null))}_setBackgroundColor(A){const O=this.data.backgroundColor||null;A.style.backgroundColor=O===null?"transparent":a.Util.makeHexColor(O[0],O[1],O[2])}_setTextStyle(A){const O=["left","center","right"],{fontColor:F}=this.data.defaultAppearanceData,_=this.data.defaultAppearanceData.fontSize||c,N=A.style;let X;const Z=2,ne=ye=>Math.round(10*ye)/10;if(this.data.multiLine){const ye=Math.abs(this.data.rect[3]-this.data.rect[1]-Z),oe=Math.round(ye/(a.LINE_FACTOR*_))||1,he=ye/oe;X=Math.min(_,ne(he/a.LINE_FACTOR))}else{const ye=Math.abs(this.data.rect[3]-this.data.rect[1]-Z);X=Math.min(_,ne(ye/a.LINE_FACTOR))}N.fontSize=`calc(${X}px * var(--scale-factor))`,N.color=a.Util.makeHexColor(F[0],F[1],F[2]),this.data.textAlignment!==null&&(N.textAlign=O[this.data.textAlignment])}_setRequired(A,O){O?A.setAttribute("required",!0):A.removeAttribute("required"),A.setAttribute("aria-required",O)}}class T extends x{constructor(A){const O=A.renderForms||!A.data.hasAppearance&&!!A.data.fieldValue;super(A,{isRenderable:O})}setPropertyOnSiblings(A,O,F,_){const N=this.annotationStorage;for(const X of this._getElementsByName(A.name,A.id))X.domElement&&(X.domElement[O]=F),N.setValue(X.id,{[_]:F})}render(){const A=this.annotationStorage,O=this.data.id;this.container.classList.add("textWidgetAnnotation");let F=null;if(this.renderForms){const _=A.getValue(O,{value:this.data.fieldValue});let N=_.value||"";const X=A.getValue(O,{charLimit:this.data.maxLen}).charLimit;X&&N.length>X&&(N=N.slice(0,X));let Z=_.formattedValue||this.data.textContent?.join(`
`)||null;Z&&this.data.comb&&(Z=Z.replaceAll(/\s+/g,""));const ne={userValue:N,formattedValue:Z,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(F=document.createElement("textarea"),F.textContent=Z??N,this.data.doNotScroll&&(F.style.overflowY="hidden")):(F=document.createElement("input"),F.type="text",F.setAttribute("value",Z??N),this.data.doNotScroll&&(F.style.overflowX="hidden")),this.data.hasOwnCanvas&&(F.hidden=!0),p.add(F),F.setAttribute("data-element-id",O),F.disabled=this.data.readOnly,F.name=this.data.fieldName,F.tabIndex=h,this._setRequired(F,this.data.required),X&&(F.maxLength=X),F.addEventListener("input",oe=>{A.setValue(O,{value:oe.target.value}),this.setPropertyOnSiblings(F,"value",oe.target.value,"value"),ne.formattedValue=null}),F.addEventListener("resetform",oe=>{const he=this.data.defaultFieldValue??"";F.value=ne.userValue=he,ne.formattedValue=null});let ye=oe=>{const{formattedValue:he}=ne;he!=null&&(oe.target.value=he),oe.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){F.addEventListener("focus",he=>{if(ne.focused)return;const{target:ge}=he;ne.userValue&&(ge.value=ne.userValue),ne.lastCommittedValue=ge.value,ne.commitKey=1,ne.focused=!0}),F.addEventListener("updatefromsandbox",he=>{this.showElementAndHideCanvas(he.target);const ge={value(me){ne.userValue=me.detail.value??"",A.setValue(O,{value:ne.userValue.toString()}),me.target.value=ne.userValue},formattedValue(me){const{formattedValue:ve}=me.detail;ne.formattedValue=ve,ve!=null&&me.target!==document.activeElement&&(me.target.value=ve),A.setValue(O,{formattedValue:ve})},selRange(me){me.target.setSelectionRange(...me.detail.selRange)},charLimit:me=>{const{charLimit:ve}=me.detail,{target:Ce}=me;if(ve===0){Ce.removeAttribute("maxLength");return}Ce.setAttribute("maxLength",ve);let Re=ne.userValue;!Re||Re.length<=ve||(Re=Re.slice(0,ve),Ce.value=ne.userValue=Re,A.setValue(O,{value:Re}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:Re,willCommit:!0,commitKey:1,selStart:Ce.selectionStart,selEnd:Ce.selectionEnd}}))}};this._dispatchEventFromSandbox(ge,he)}),F.addEventListener("keydown",he=>{ne.commitKey=1;let ge=-1;if(he.key==="Escape"?ge=0:he.key==="Enter"&&!this.data.multiLine?ge=2:he.key==="Tab"&&(ne.commitKey=3),ge===-1)return;const{value:me}=he.target;ne.lastCommittedValue!==me&&(ne.lastCommittedValue=me,ne.userValue=me,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:me,willCommit:!0,commitKey:ge,selStart:he.target.selectionStart,selEnd:he.target.selectionEnd}}))});const oe=ye;ye=null,F.addEventListener("blur",he=>{if(!ne.focused||!he.relatedTarget)return;ne.focused=!1;const{value:ge}=he.target;ne.userValue=ge,ne.lastCommittedValue!==ge&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:ge,willCommit:!0,commitKey:ne.commitKey,selStart:he.target.selectionStart,selEnd:he.target.selectionEnd}}),oe(he)}),this.data.actions?.Keystroke&&F.addEventListener("beforeinput",he=>{ne.lastCommittedValue=null;const{data:ge,target:me}=he,{value:ve,selectionStart:Ce,selectionEnd:Re}=me;let Fe=Ce,Ue=Re;switch(he.inputType){case"deleteWordBackward":{const He=ve.substring(0,Ce).match(/\w*[^\w]*$/);He&&(Fe-=He[0].length);break}case"deleteWordForward":{const He=ve.substring(Ce).match(/^[^\w]*\w*/);He&&(Ue+=He[0].length);break}case"deleteContentBackward":Ce===Re&&(Fe-=1);break;case"deleteContentForward":Ce===Re&&(Ue+=1);break}he.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:ve,change:ge||"",willCommit:!1,selStart:Fe,selEnd:Ue}})}),this._setEventListeners(F,ne,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],he=>he.target.value)}if(ye&&F.addEventListener("blur",ye),this.data.comb){const he=(this.data.rect[2]-this.data.rect[0])/X;F.classList.add("comb"),F.style.letterSpacing=`calc(${he}px * var(--scale-factor) - 1ch)`}}else F=document.createElement("div"),F.textContent=this.data.fieldValue,F.style.verticalAlign="middle",F.style.display="table-cell";return this._setTextStyle(F),this._setBackgroundColor(F),this._setDefaultPropertiesFromJS(F),this.container.append(F),this.container}}class j extends x{constructor(A){super(A,{isRenderable:!!A.data.hasOwnCanvas})}}class L extends x{constructor(A){super(A,{isRenderable:A.renderForms})}render(){const A=this.annotationStorage,O=this.data,F=O.id;let _=A.getValue(F,{value:O.exportValue===O.fieldValue}).value;typeof _=="string"&&(_=_!=="Off",A.setValue(F,{value:_})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const N=document.createElement("input");return p.add(N),N.setAttribute("data-element-id",F),N.disabled=O.readOnly,this._setRequired(N,this.data.required),N.type="checkbox",N.name=O.fieldName,_&&N.setAttribute("checked",!0),N.setAttribute("exportValue",O.exportValue),N.tabIndex=h,N.addEventListener("change",X=>{const{name:Z,checked:ne}=X.target;for(const ye of this._getElementsByName(Z,F)){const oe=ne&&ye.exportValue===O.exportValue;ye.domElement&&(ye.domElement.checked=oe),A.setValue(ye.id,{value:oe})}A.setValue(F,{value:ne})}),N.addEventListener("resetform",X=>{const Z=O.defaultFieldValue||"Off";X.target.checked=Z===O.exportValue}),this.enableScripting&&this.hasJSActions&&(N.addEventListener("updatefromsandbox",X=>{const Z={value(ne){ne.target.checked=ne.detail.value!=="Off",A.setValue(F,{value:ne.target.checked})}};this._dispatchEventFromSandbox(Z,X)}),this._setEventListeners(N,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],X=>X.target.checked)),this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.append(N),this.container}}class w extends x{constructor(A){super(A,{isRenderable:A.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const A=this.annotationStorage,O=this.data,F=O.id;let _=A.getValue(F,{value:O.fieldValue===O.buttonValue}).value;typeof _=="string"&&(_=_!==O.buttonValue,A.setValue(F,{value:_}));const N=document.createElement("input");if(p.add(N),N.setAttribute("data-element-id",F),N.disabled=O.readOnly,this._setRequired(N,this.data.required),N.type="radio",N.name=O.fieldName,_&&N.setAttribute("checked",!0),N.tabIndex=h,N.addEventListener("change",X=>{const{name:Z,checked:ne}=X.target;for(const ye of this._getElementsByName(Z,F))A.setValue(ye.id,{value:!1});A.setValue(F,{value:ne})}),N.addEventListener("resetform",X=>{const Z=O.defaultFieldValue;X.target.checked=Z!=null&&Z===O.buttonValue}),this.enableScripting&&this.hasJSActions){const X=O.buttonValue;N.addEventListener("updatefromsandbox",Z=>{const ne={value:ye=>{const oe=X===ye.detail.value;for(const he of this._getElementsByName(ye.target.name)){const ge=oe&&he.id===F;he.domElement&&(he.domElement.checked=ge),A.setValue(he.id,{value:ge})}}};this._dispatchEventFromSandbox(ne,Z)}),this._setEventListeners(N,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Z=>Z.target.checked)}return this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.append(N),this.container}}class M extends m{constructor(A){super(A,{ignoreBorder:A.data.hasAppearance})}render(){const A=super.render();A.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(A.title=this.data.alternativeText);const O=A.lastChild;return this.enableScripting&&this.hasJSActions&&O&&(this._setDefaultPropertiesFromJS(O),O.addEventListener("updatefromsandbox",F=>{this._dispatchEventFromSandbox({},F)})),A}}class z extends x{constructor(A){super(A,{isRenderable:A.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const A=this.annotationStorage,O=this.data.id,F=A.getValue(O,{value:this.data.fieldValue}),_=document.createElement("select");p.add(_),_.setAttribute("data-element-id",O),_.disabled=this.data.readOnly,this._setRequired(_,this.data.required),_.name=this.data.fieldName,_.tabIndex=h;let N=this.data.combo&&this.data.options.length>0;this.data.combo||(_.size=this.data.options.length,this.data.multiSelect&&(_.multiple=!0)),_.addEventListener("resetform",oe=>{const he=this.data.defaultFieldValue;for(const ge of _.options)ge.selected=ge.value===he});for(const oe of this.data.options){const he=document.createElement("option");he.textContent=oe.displayValue,he.value=oe.exportValue,F.value.includes(oe.exportValue)&&(he.setAttribute("selected",!0),N=!1),_.append(he)}let X=null;if(N){const oe=document.createElement("option");oe.value=" ",oe.setAttribute("hidden",!0),oe.setAttribute("selected",!0),_.prepend(oe),X=()=>{oe.remove(),_.removeEventListener("input",X),X=null},_.addEventListener("input",X)}const Z=oe=>{const he=oe?"value":"textContent",{options:ge,multiple:me}=_;return me?Array.prototype.filter.call(ge,ve=>ve.selected).map(ve=>ve[he]):ge.selectedIndex===-1?null:ge[ge.selectedIndex][he]};let ne=Z(!1);const ye=oe=>{const he=oe.target.options;return Array.prototype.map.call(he,ge=>({displayValue:ge.textContent,exportValue:ge.value}))};return this.enableScripting&&this.hasJSActions?(_.addEventListener("updatefromsandbox",oe=>{const he={value(ge){X?.();const me=ge.detail.value,ve=new Set(Array.isArray(me)?me:[me]);for(const Ce of _.options)Ce.selected=ve.has(Ce.value);A.setValue(O,{value:Z(!0)}),ne=Z(!1)},multipleSelection(ge){_.multiple=!0},remove(ge){const me=_.options,ve=ge.detail.remove;me[ve].selected=!1,_.remove(ve),me.length>0&&Array.prototype.findIndex.call(me,Re=>Re.selected)===-1&&(me[0].selected=!0),A.setValue(O,{value:Z(!0),items:ye(ge)}),ne=Z(!1)},clear(ge){for(;_.length!==0;)_.remove(0);A.setValue(O,{value:null,items:[]}),ne=Z(!1)},insert(ge){const{index:me,displayValue:ve,exportValue:Ce}=ge.detail.insert,Re=_.children[me],Fe=document.createElement("option");Fe.textContent=ve,Fe.value=Ce,Re?Re.before(Fe):_.append(Fe),A.setValue(O,{value:Z(!0),items:ye(ge)}),ne=Z(!1)},items(ge){const{items:me}=ge.detail;for(;_.length!==0;)_.remove(0);for(const ve of me){const{displayValue:Ce,exportValue:Re}=ve,Fe=document.createElement("option");Fe.textContent=Ce,Fe.value=Re,_.append(Fe)}_.options.length>0&&(_.options[0].selected=!0),A.setValue(O,{value:Z(!0),items:ye(ge)}),ne=Z(!1)},indices(ge){const me=new Set(ge.detail.indices);for(const ve of ge.target.options)ve.selected=me.has(ve.index);A.setValue(O,{value:Z(!0)}),ne=Z(!1)},editable(ge){ge.target.disabled=!ge.detail.editable}};this._dispatchEventFromSandbox(he,oe)}),_.addEventListener("input",oe=>{const he=Z(!0);A.setValue(O,{value:he}),oe.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:ne,changeEx:he,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(_,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],oe=>oe.target.value)):_.addEventListener("input",function(oe){A.setValue(O,{value:Z(!0)})}),this.data.combo&&this._setTextStyle(_),this._setBackgroundColor(_),this._setDefaultPropertiesFromJS(_),this.container.append(_),this.container}}class $ extends d{constructor(A){const{data:O,elements:F}=A;super(A,{isRenderable:d._hasPopupData(O)}),this.elements=F}render(){this.container.classList.add("popupAnnotation");const A=new V({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),O=[];for(const F of this.elements)F.popup=A,O.push(F.data.id),F.addHighlightArea();return this.container.setAttribute("aria-controls",O.map(F=>`${a.AnnotationPrefix}${F}`).join(",")),this.container}}class V{#e=null;#t=this.#u.bind(this);#n=this.#b.bind(this);#r=this.#A.bind(this);#o=this.#y.bind(this);#a=null;#i=null;#l=null;#c=null;#s=null;#f=null;#d=!1;#h=null;#p=null;#v=null;#m=null;#g=!1;constructor(A){let{container:O,color:F,elements:_,titleObj:N,modificationDate:X,contentsObj:Z,richText:ne,parent:ye,rect:oe,parentRect:he,open:ge}=A;this.#i=O,this.#m=N,this.#l=Z,this.#v=ne,this.#s=ye,this.#a=F,this.#p=oe,this.#f=he,this.#c=_;const me=l.PDFDateString.toDateObject(X);me&&(this.#e=ye.l10n.get("annotation_date_string",{date:me.toLocaleDateString(),time:me.toLocaleTimeString()})),this.trigger=_.flatMap(ve=>ve.getElementsToTriggerPopup());for(const ve of this.trigger)ve.addEventListener("click",this.#o),ve.addEventListener("mouseenter",this.#r),ve.addEventListener("mouseleave",this.#n),ve.classList.add("popupTriggerArea");for(const ve of _)ve.container?.addEventListener("keydown",this.#t);this.#i.hidden=!0,ge&&this.#y()}render(){if(this.#h)return;const{page:{view:A},viewport:{rawDims:{pageWidth:O,pageHeight:F,pageX:_,pageY:N}}}=this.#s,X=this.#h=document.createElement("div");if(X.className="popup",this.#a){const He=X.style.outlineColor=a.Util.makeHexColor(...this.#a);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?X.style.backgroundColor=`color-mix(in srgb, ${He} 30%, white)`:X.style.backgroundColor=a.Util.makeHexColor(...this.#a.map(rt=>Math.floor(.7*(255-rt)+rt)))}const Z=document.createElement("span");Z.className="header";const ne=document.createElement("h1");if(Z.append(ne),{dir:ne.dir,str:ne.textContent}=this.#m,X.append(Z),this.#e){const He=document.createElement("span");He.classList.add("popupDate"),this.#e.then(Ye=>{He.textContent=Ye}),Z.append(He)}const ye=this.#l,oe=this.#v;if(oe?.str&&(!ye?.str||ye.str===oe.str))k.XfaLayer.render({xfaHtml:oe.html,intent:"richText",div:X}),X.lastChild.classList.add("richText","popupContent");else{const He=this._formatContents(ye);X.append(He)}let he=!!this.#f,ge=he?this.#f:this.#p;for(const He of this.#c)if(!ge||a.Util.intersect(He.data.rect,ge)!==null){ge=He.data.rect,he=!0;break}const me=a.Util.normalizeRect([ge[0],A[3]-ge[1]+A[1],ge[2],A[3]-ge[3]+A[1]]),Ce=he?ge[2]-ge[0]+5:0,Re=me[0]+Ce,Fe=me[1],{style:Ue}=this.#i;Ue.left=`${100*(Re-_)/O}%`,Ue.top=`${100*(Fe-N)/F}%`,this.#i.append(X)}_formatContents(A){let{str:O,dir:F}=A;const _=document.createElement("p");_.classList.add("popupContent"),_.dir=F;const N=O.split(/(?:\r\n?|\n)/);for(let X=0,Z=N.length;X<Z;++X){const ne=N[X];_.append(document.createTextNode(ne)),X<Z-1&&_.append(document.createElement("br"))}return _}#u(A){A.altKey||A.shiftKey||A.ctrlKey||A.metaKey||(A.key==="Enter"||A.key==="Escape"&&this.#d)&&this.#y()}#y(){this.#d=!this.#d,this.#d?(this.#A(),this.#i.addEventListener("click",this.#o),this.#i.addEventListener("keydown",this.#t)):(this.#b(),this.#i.removeEventListener("click",this.#o),this.#i.removeEventListener("keydown",this.#t))}#A(){this.#h||this.render(),this.isVisible?this.#d&&this.#i.classList.add("focused"):(this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#b(){this.#i.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#g=this.isVisible,this.#g&&(this.#i.hidden=!0)}maybeShow(){this.#g&&(this.#g=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}}class K extends d{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0}),this.textContent=A.data.textContent,this.textPosition=A.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const A=document.createElement("div");A.classList.add("annotationTextContent"),A.setAttribute("role","comment");for(const O of this.textContent){const F=document.createElement("span");F.textContent=O,A.append(F)}this.container.append(A)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=K;class J extends d{#e=null;constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const A=this.data,{width:O,height:F}=g(A.rect),_=this.svgFactory.create(O,F,!0),N=this.#e=this.svgFactory.createElement("svg:line");return N.setAttribute("x1",A.rect[2]-A.lineCoordinates[0]),N.setAttribute("y1",A.rect[3]-A.lineCoordinates[1]),N.setAttribute("x2",A.rect[2]-A.lineCoordinates[2]),N.setAttribute("y2",A.rect[3]-A.lineCoordinates[3]),N.setAttribute("stroke-width",A.borderStyle.width||1),N.setAttribute("stroke","transparent"),N.setAttribute("fill","transparent"),_.append(N),this.container.append(_),!A.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class te extends d{#e=null;constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const A=this.data,{width:O,height:F}=g(A.rect),_=this.svgFactory.create(O,F,!0),N=A.borderStyle.width,X=this.#e=this.svgFactory.createElement("svg:rect");return X.setAttribute("x",N/2),X.setAttribute("y",N/2),X.setAttribute("width",O-N),X.setAttribute("height",F-N),X.setAttribute("stroke-width",N||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),_.append(X),this.container.append(_),!A.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class se extends d{#e=null;constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const A=this.data,{width:O,height:F}=g(A.rect),_=this.svgFactory.create(O,F,!0),N=A.borderStyle.width,X=this.#e=this.svgFactory.createElement("svg:ellipse");return X.setAttribute("cx",O/2),X.setAttribute("cy",F/2),X.setAttribute("rx",O/2-N/2),X.setAttribute("ry",F/2-N/2),X.setAttribute("stroke-width",N||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),_.append(X),this.container.append(_),!A.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class de extends d{#e=null;constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const A=this.data,{width:O,height:F}=g(A.rect),_=this.svgFactory.create(O,F,!0);let N=[];for(const Z of A.vertices){const ne=Z.x-A.rect[0],ye=A.rect[3]-Z.y;N.push(ne+","+ye)}N=N.join(" ");const X=this.#e=this.svgFactory.createElement(this.svgElementName);return X.setAttribute("points",N),X.setAttribute("stroke-width",A.borderStyle.width||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),_.append(X),this.container.append(_),!A.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class pe extends de{constructor(A){super(A),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ie extends d{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Y extends d{#e=[];constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const A=this.data,{width:O,height:F}=g(A.rect),_=this.svgFactory.create(O,F,!0);for(const N of A.inkLists){let X=[];for(const ne of N){const ye=ne.x-A.rect[0],oe=A.rect[3]-ne.y;X.push(`${ye},${oe}`)}X=X.join(" ");const Z=this.svgFactory.createElement(this.svgElementName);this.#e.push(Z),Z.setAttribute("points",X),Z.setAttribute("stroke-width",A.borderStyle.width||1),Z.setAttribute("stroke","transparent"),Z.setAttribute("fill","transparent"),!A.popupRef&&this.hasPopupData&&this._createPopup(),_.append(Z)}return this.container.append(_),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}s.InkAnnotationElement=Y;class I extends d{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class R extends d{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class P extends d{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class D extends d{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class B extends d{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=B;class W extends d{#e=null;constructor(A){super(A,{isRenderable:!0});const{filename:O,content:F}=this.data.file;this.filename=(0,l.getFilenameFromUrl)(O,!0),this.content=F,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:O,content:F})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:A,data:O}=this;let F;O.hasAppearance||O.fillAlpha===0?F=document.createElement("div"):(F=document.createElement("img"),F.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(O.name)?"paperclip":"pushpin"}.svg`,O.fillAlpha&&O.fillAlpha<1&&(F.style=`filter: opacity(${Math.round(O.fillAlpha*100)}%);`)),F.addEventListener("dblclick",this.#t.bind(this)),this.#e=F;const{isMac:_}=a.FeatureTest.platform;return A.addEventListener("keydown",N=>{N.key==="Enter"&&(_?N.metaKey:N.ctrlKey)&&this.#t()}),!O.popupRef&&this.hasPopupData?this._createPopup():F.classList.add("popupTriggerArea"),A.append(F),A}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class G{#e=null;#t=null;#n=new Map;constructor(A){let{div:O,accessibilityManager:F,annotationCanvasMap:_,l10n:N,page:X,viewport:Z}=A;this.div=O,this.#e=F,this.#t=_,this.l10n=N,this.page=X,this.viewport=Z,this.zIndex=0,this.l10n||=b.NullL10n}#r(A,O){const F=A.firstChild||A;F.id=`${a.AnnotationPrefix}${O}`,this.div.append(A),this.#e?.moveElementInDOM(this.div,A,F,!1)}async render(A){const{annotations:O}=A,F=this.div;(0,l.setLayerDimensions)(F,this.viewport);const _=new Map,N={data:null,layer:F,linkService:A.linkService,downloadManager:A.downloadManager,imageResourcesPath:A.imageResourcesPath||"",renderForms:A.renderForms!==!1,svgFactory:new l.DOMSVGFactory,annotationStorage:A.annotationStorage||new f.AnnotationStorage,enableScripting:A.enableScripting===!0,hasJSActions:A.hasJSActions,fieldObjects:A.fieldObjects,parent:this,elements:null};for(const X of O){if(X.noHTML)continue;const Z=X.annotationType===a.AnnotationType.POPUP;if(Z){const oe=_.get(X.id);if(!oe)continue;N.elements=oe}else{const{width:oe,height:he}=g(X.rect);if(oe<=0||he<=0)continue}N.data=X;const ne=y.create(N);if(!ne.isRenderable)continue;if(!Z&&X.popupRef){const oe=_.get(X.popupRef);oe?oe.push(ne):_.set(X.popupRef,[ne])}ne.annotationEditorType>0&&this.#n.set(ne.data.id,ne);const ye=ne.render();X.hidden&&(ye.style.visibility="hidden"),this.#r(ye,X.id)}this.#o(),await this.l10n.translate(F)}update(A){let{viewport:O}=A;const F=this.div;this.viewport=O,(0,l.setLayerDimensions)(F,{rotation:O.rotation}),this.#o(),F.hidden=!1}#o(){if(!this.#t)return;const A=this.div;for(const[O,F]of this.#t){const _=A.querySelector(`[data-annotation-id="${O}"]`);if(!_)continue;const{firstChild:N}=_;N?N.nodeName==="CANVAS"?N.replaceWith(F):N.before(F):_.append(F)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(A){return this.#n.get(A)}}s.AnnotationLayer=G}),((o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function n(f){return Math.floor(Math.max(0,Math.min(1,f))*255).toString(16).padStart(2,"0")}function a(f){return Math.max(0,Math.min(255,255*f))}class l{static CMYK_G(v){let[b,k,h,c]=v;return["G",1-Math.min(1,.3*b+.59*h+.11*k+c)]}static G_CMYK(v){let[b]=v;return["CMYK",0,0,0,1-b]}static G_RGB(v){let[b]=v;return["RGB",b,b,b]}static G_rgb(v){let[b]=v;return b=a(b),[b,b,b]}static G_HTML(v){let[b]=v;const k=n(b);return`#${k}${k}${k}`}static RGB_G(v){let[b,k,h]=v;return["G",.3*b+.59*k+.11*h]}static RGB_rgb(v){return v.map(a)}static RGB_HTML(v){return`#${v.map(n).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(v){let[b,k,h,c]=v;return["RGB",1-Math.min(1,b+c),1-Math.min(1,h+c),1-Math.min(1,k+c)]}static CMYK_rgb(v){let[b,k,h,c]=v;return[a(1-Math.min(1,b+c)),a(1-Math.min(1,h+c)),a(1-Math.min(1,k+c))]}static CMYK_HTML(v){const b=this.CMYK_RGB(v).slice(1);return this.RGB_HTML(b)}static RGB_CMYK(v){let[b,k,h]=v;const c=1-b,p=1-k,g=1-h,y=Math.min(c,p,g);return["CMYK",c,p,g,y]}}s.ColorConverters=l}),((o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=a;const n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};n.print_progress_percent="{{progress}}%";function a(v,b){switch(v){case"find_match_count":v=`find_match_count[${b.total===1?"one":"other"}]`;break;case"find_match_count_limit":v=`find_match_count_limit[${b.limit===1?"one":"other"}]`;break}return n[v]||""}function l(v,b){return b?v.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(k,h)=>h in b?b[h]:"{{"+h+"}}"):v}const f={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(v){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a(v,b);return l(k,b)},async translate(v){}};s.NullL10n=f}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0,n(89);var a=n(194);class l{static setupStorage(v,b,k,h,c){const p=h.getValue(b,{value:null});switch(k.name){case"textarea":if(p.value!==null&&(v.textContent=p.value),c==="print")break;v.addEventListener("input",g=>{h.setValue(b,{value:g.target.value})});break;case"input":if(k.attributes.type==="radio"||k.attributes.type==="checkbox"){if(p.value===k.attributes.xfaOn?v.setAttribute("checked",!0):p.value===k.attributes.xfaOff&&v.removeAttribute("checked"),c==="print")break;v.addEventListener("change",g=>{h.setValue(b,{value:g.target.checked?g.target.getAttribute("xfaOn"):g.target.getAttribute("xfaOff")})})}else{if(p.value!==null&&v.setAttribute("value",p.value),c==="print")break;v.addEventListener("input",g=>{h.setValue(b,{value:g.target.value})})}break;case"select":if(p.value!==null){v.setAttribute("value",p.value);for(const g of k.children)g.attributes.value===p.value?g.attributes.selected=!0:g.attributes.hasOwnProperty("selected")&&delete g.attributes.selected}v.addEventListener("input",g=>{const y=g.target.options,d=y.selectedIndex===-1?"":y[y.selectedIndex].value;h.setValue(b,{value:d})});break}}static setAttributes(v){let{html:b,element:k,storage:h=null,intent:c,linkService:p}=v;const{attributes:g}=k,y=b instanceof HTMLAnchorElement;g.type==="radio"&&(g.name=`${g.name}-${c}`);for(const[d,m]of Object.entries(g))if(m!=null)switch(d){case"class":m.length&&b.setAttribute(d,m.join(" "));break;case"dataId":break;case"id":b.setAttribute("data-element-id",m);break;case"style":Object.assign(b.style,m);break;case"textContent":b.textContent=m;break;default:(!y||d!=="href"&&d!=="newWindow")&&b.setAttribute(d,m)}y&&p.addLinkAttributes(b,g.href,g.newWindow),h&&g.dataId&&this.setupStorage(b,g.dataId,k,h)}static render(v){const b=v.annotationStorage,k=v.linkService,h=v.xfaHtml,c=v.intent||"display",p=document.createElement(h.name);h.attributes&&this.setAttributes({html:p,element:h,intent:c,linkService:k});const g=[[h,-1,p]],y=v.div;if(y.append(p),v.viewport){const m=`matrix(${v.viewport.transform.join(",")})`;y.style.transform=m}c!=="richText"&&y.setAttribute("class","xfaLayer xfaFont");const d=[];for(;g.length>0;){const[m,S,x]=g.at(-1);if(S+1===m.children.length){g.pop();continue}const T=m.children[++g.at(-1)[1]];if(T===null)continue;const{name:j}=T;if(j==="#text"){const w=document.createTextNode(T.value);d.push(w),x.append(w);continue}const L=T?.attributes?.xmlns?document.createElementNS(T.attributes.xmlns,j):document.createElement(j);if(x.append(L),T.attributes&&this.setAttributes({html:L,element:T,storage:b,intent:c,linkService:k}),T.children&&T.children.length>0)g.push([T,-1,L]);else if(T.value){const w=document.createTextNode(T.value);a.XfaText.shouldBuildText(j)&&d.push(w),L.append(w)}}for(const m of y.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:d}}static update(v){const b=`matrix(${v.viewport.transform.join(",")})`;v.div.style.transform=b,v.div.hidden=!1}}s.XfaLayer=l}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0,n(89),n(2);var a=n(1),l=n(164),f=n(198),v=n(168),b=n(165);class k extends l.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#o=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#i=new Path2D;#l=!1;#c=!1;#s=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(c){super({...c,name:"inkEditor"}),this.color=c.color||null,this.thickness=c.thickness||null,this.opacity=c.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(c){l.AnnotationEditor.initialize(c,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(c,p){switch(c){case a.AnnotationEditorParamsType.INK_THICKNESS:k._defaultThickness=p;break;case a.AnnotationEditorParamsType.INK_COLOR:k._defaultColor=p;break;case a.AnnotationEditorParamsType.INK_OPACITY:k._defaultOpacity=p/100;break}}updateParams(c,p){switch(c){case a.AnnotationEditorParamsType.INK_THICKNESS:this.#v(p);break;case a.AnnotationEditorParamsType.INK_COLOR:this.#m(p);break;case a.AnnotationEditorParamsType.INK_OPACITY:this.#g(p);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,k._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,k._defaultColor||l.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(k._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||k._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||k._defaultColor||l.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??k._defaultOpacity))]]}#v(c){const p=this.thickness;this.addCommands({cmd:()=>{this.thickness=c,this.#C()},undo:()=>{this.thickness=p,this.#C()},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(c){const p=this.color;this.addCommands({cmd:()=>{this.color=c,this.#x()},undo:()=>{this.color=p,this.#x()},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(c){c/=100;const p=this.opacity;this.addCommands({cmd:()=>{this.opacity=c,this.#x()},undo:()=>{this.opacity=p,this.#x()},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#P(),this.#D()),this.isAttachedToDOM||(this.parent.add(this),this.#E()),this.#C()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(c){!this.parent&&c?this._uiManager.removeShouldRescale(this):this.parent&&c===null&&this._uiManager.addShouldRescale(this),super.setParent(c)}onScaleChanging(){const[c,p]=this.parentDimensions,g=this.width*c,y=this.height*p;this.setDimensions(g,y)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#a))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){const{parentRotation:c,parentDimensions:[p,g]}=this;switch(c){case 90:return[0,g,g,p];case 180:return[p,g,p,g];case 270:return[p,0,g,p];default:return[0,0,p,g]}}#y(){const{ctx:c,color:p,opacity:g,thickness:y,parentScale:d,scaleFactor:m}=this;c.lineWidth=y*d/m,c.lineCap="round",c.lineJoin="round",c.miterLimit=10,c.strokeStyle=`${p}${(0,b.opacityToHex)(g)}`}#A(c,p){this.canvas.addEventListener("contextmenu",v.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#o),this.canvas.removeEventListener("pointerdown",this.#a),this.isEditing=!0,this.#s||(this.#s=!0,this.#E(),this.thickness||=k._defaultThickness,this.color||=k._defaultColor||l.AnnotationEditor._defaultLineColor,this.opacity??=k._defaultOpacity),this.currentPath.push([c,p]),this.#c=!1,this.#y(),this.#p=()=>{this.#F(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#b(c,p){const[g,y]=this.currentPath.at(-1);if(this.currentPath.length>1&&c===g&&p===y)return;const d=this.currentPath;let m=this.#i;if(d.push([c,p]),this.#c=!0,d.length<=2){m.moveTo(...d[0]),m.lineTo(c,p);return}d.length===3&&(this.#i=m=new Path2D,m.moveTo(...d[0])),this.#L(m,...d.at(-3),...d.at(-2),c,p)}#T(){if(this.currentPath.length===0)return;const c=this.currentPath.at(-1);this.#i.lineTo(...c)}#R(c,p){this.#p=null,c=Math.min(Math.max(c,0),this.canvas.width),p=Math.min(Math.max(p,0),this.canvas.height),this.#b(c,p),this.#T();let g;if(this.currentPath.length!==1)g=this.#N();else{const x=[c,p];g=[[x,x.slice(),x.slice(),x]]}const y=this.#i,d=this.currentPath;this.currentPath=[],this.#i=new Path2D;const m=()=>{this.allRawPaths.push(d),this.paths.push(g),this.bezierPath2D.push(y),this.rebuild()},S=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#P(),this.#D()),this.#C())};this.addCommands({cmd:m,undo:S,mustExec:!0})}#F(){if(!this.#c)return;this.#c=!1;const c=Math.ceil(this.thickness*this.parentScale),p=this.currentPath.slice(-3),g=p.map(m=>m[0]),y=p.map(m=>m[1]);Math.min(...g)-c,Math.max(...g)+c,Math.min(...y)-c,Math.max(...y)+c;const{ctx:d}=this;d.save(),d.clearRect(0,0,this.canvas.width,this.canvas.height);for(const m of this.bezierPath2D)d.stroke(m);d.stroke(this.#i),d.restore()}#L(c,p,g,y,d,m,S){const x=(p+y)/2,T=(g+d)/2,j=(y+m)/2,L=(d+S)/2;c.bezierCurveTo(x+2*(y-x)/3,T+2*(d-T)/3,j+2*(y-j)/3,L+2*(d-L)/3,j,L)}#N(){const c=this.currentPath;if(c.length<=2)return[[c[0],c[0],c.at(-1),c.at(-1)]];const p=[];let g,[y,d]=c[0];for(g=1;g<c.length-2;g++){const[w,M]=c[g],[z,$]=c[g+1],V=(w+z)/2,K=(M+$)/2,J=[y+2*(w-y)/3,d+2*(M-d)/3],te=[V+2*(w-V)/3,K+2*(M-K)/3];p.push([[y,d],J,te,[V,K]]),[y,d]=[V,K]}const[m,S]=c[g],[x,T]=c[g+1],j=[y+2*(m-y)/3,d+2*(S-d)/3],L=[x+2*(m-x)/3,T+2*(S-T)/3];return p.push([[y,d],j,L,[x,T]]),p}#x(){if(this.isEmpty()){this.#w();return}this.#y();const{canvas:c,ctx:p}=this;p.setTransform(1,0,0,1,0,0),p.clearRect(0,0,c.width,c.height),this.#w();for(const g of this.bezierPath2D)p.stroke(g)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#C(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(c){this._focusEventsAllowed&&(super.focusin(c),this.enableEditMode())}canvasPointerdown(c){c.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),c.preventDefault(),c.type!=="mouse"&&this.div.focus(),this.#A(c.offsetX,c.offsetY))}canvasPointermove(c){c.preventDefault(),this.#b(c.offsetX,c.offsetY)}canvasPointerup(c){c.preventDefault(),this.#I(c)}canvasPointerleave(c){this.#I(c)}#I(c){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#o),this.canvas.addEventListener("pointerdown",this.#a),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",v.noContextMenu)},10),this.#R(c.offsetX,c.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#P(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",l.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(c=>this.canvas?.setAttribute("aria-label",c)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#D(){this.#f=new ResizeObserver(c=>{const p=c[0].contentRect;p.width&&p.height&&this.setDimensions(p.width,p.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let c,p;this.width&&(c=this.x,p=this.y),super.render(),l.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(S=>this.div?.setAttribute("aria-label",S));const[g,y,d,m]=this.#u();if(this.setAt(g,y,0,0),this.setDims(d,m),this.#P(),this.width){const[S,x]=this.parentDimensions;this.setAspectRatio(this.width*S,this.height*x),this.setAt(c*S,p*x,this.width*S,this.height*x),this.#s=!0,this.#E(),this.setDims(this.width*S,this.height*x),this.#x(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#D(),this.div}#E(){if(!this.#s)return;const[c,p]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*c),this.canvas.height=Math.ceil(this.height*p),this.#w()}setDimensions(c,p){const g=Math.round(c),y=Math.round(p);if(this.#d===g&&this.#h===y)return;this.#d=g,this.#h=y,this.canvas.style.visibility="hidden";const[d,m]=this.parentDimensions;this.width=c/d,this.height=p/m,this.fixAndSetPosition(),this.#l&&this.#k(c,p),this.#E(),this.#x(),this.canvas.style.visibility="visible",this.fixDims()}#k(c,p){const g=this.#M(),y=(c-g)/this.#t,d=(p-g)/this.#e;this.scaleFactor=Math.min(y,d)}#w(){const c=this.#M()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+c,this.translationY*this.scaleFactor+c)}static#j(c){const p=new Path2D;for(let g=0,y=c.length;g<y;g++){const[d,m,S,x]=c[g];g===0&&p.moveTo(...d),p.bezierCurveTo(m[0],m[1],S[0],S[1],x[0],x[1])}return p}static#_(c,p,g){const[y,d,m,S]=p;switch(g){case 0:for(let x=0,T=c.length;x<T;x+=2)c[x]+=y,c[x+1]=S-c[x+1];break;case 90:for(let x=0,T=c.length;x<T;x+=2){const j=c[x];c[x]=c[x+1]+y,c[x+1]=j+d}break;case 180:for(let x=0,T=c.length;x<T;x+=2)c[x]=m-c[x],c[x+1]+=d;break;case 270:for(let x=0,T=c.length;x<T;x+=2){const j=c[x];c[x]=m-c[x+1],c[x+1]=S-j}break;default:throw new Error("Invalid rotation")}return c}static#B(c,p,g){const[y,d,m,S]=p;switch(g){case 0:for(let x=0,T=c.length;x<T;x+=2)c[x]-=y,c[x+1]=S-c[x+1];break;case 90:for(let x=0,T=c.length;x<T;x+=2){const j=c[x];c[x]=c[x+1]-d,c[x+1]=j-y}break;case 180:for(let x=0,T=c.length;x<T;x+=2)c[x]=m-c[x],c[x+1]-=d;break;case 270:for(let x=0,T=c.length;x<T;x+=2){const j=c[x];c[x]=S-c[x+1],c[x+1]=m-j}break;default:throw new Error("Invalid rotation")}return c}#U(c,p,g,y){const d=[],m=this.thickness/2,S=c*p+m,x=c*g+m;for(const T of this.paths){const j=[],L=[];for(let w=0,M=T.length;w<M;w++){const[z,$,V,K]=T[w],J=c*z[0]+S,te=c*z[1]+x,se=c*$[0]+S,de=c*$[1]+x,pe=c*V[0]+S,ie=c*V[1]+x,Y=c*K[0]+S,I=c*K[1]+x;w===0&&(j.push(J,te),L.push(J,te)),j.push(se,de,pe,ie,Y,I),L.push(se,de),w===M-1&&L.push(Y,I)}d.push({bezier:k.#_(j,y,this.rotation),points:k.#_(L,y,this.rotation)})}return d}#O(){let c=1/0,p=-1/0,g=1/0,y=-1/0;for(const d of this.paths)for(const[m,S,x,T]of d){const j=a.Util.bezierBoundingBox(...m,...S,...x,...T);c=Math.min(c,j[0]),g=Math.min(g,j[1]),p=Math.max(p,j[2]),y=Math.max(y,j[3])}return[c,g,p,y]}#M(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#C(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!this.#l){this.#x();return}const p=this.#O(),g=this.#M();this.#t=Math.max(l.AnnotationEditor.MIN_SIZE,p[2]-p[0]),this.#e=Math.max(l.AnnotationEditor.MIN_SIZE,p[3]-p[1]);const y=Math.ceil(g+this.#t*this.scaleFactor),d=Math.ceil(g+this.#e*this.scaleFactor),[m,S]=this.parentDimensions;this.width=y/m,this.height=d/S,this.setAspectRatio(y,d);const x=this.translationX,T=this.translationY;this.translationX=-p[0],this.translationY=-p[1],this.#E(),this.#x(),this.#d=y,this.#h=d,this.setDims(y,d);const j=c?g/this.scaleFactor/2:0;this.translate(x-this.translationX-j,T-this.translationY-j)}static deserialize(c,p,g){if(c instanceof f.InkAnnotationElement)return null;const y=super.deserialize(c,p,g);y.thickness=c.thickness,y.color=a.Util.makeHexColor(...c.color),y.opacity=c.opacity;const[d,m]=y.pageDimensions,S=y.width*d,x=y.height*m,T=y.parentScale,j=c.thickness/2;y.#l=!0,y.#d=Math.round(S),y.#h=Math.round(x);const{paths:L,rect:w,rotation:M}=c;for(let{bezier:$}of L){$=k.#B($,w,M);const V=[];y.paths.push(V);let K=T*($[0]-j),J=T*($[1]-j);for(let se=2,de=$.length;se<de;se+=6){const pe=T*($[se]-j),ie=T*($[se+1]-j),Y=T*($[se+2]-j),I=T*($[se+3]-j),R=T*($[se+4]-j),P=T*($[se+5]-j);V.push([[K,J],[pe,ie],[Y,I],[R,P]]),K=R,J=P}const te=this.#j(V);y.bezierPath2D.push(te)}const z=y.#O();return y.#t=Math.max(l.AnnotationEditor.MIN_SIZE,z[2]-z[0]),y.#e=Math.max(l.AnnotationEditor.MIN_SIZE,z[3]-z[1]),y.#k(S,x),y}serialize(){if(this.isEmpty())return null;const c=this.getRect(0,0),p=l.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:p,thickness:this.thickness,opacity:this.opacity,paths:this.#U(this.scaleFactor/this.parentScale,this.translationX,this.translationY,c),pageIndex:this.pageIndex,rect:c,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}s.InkEditor=k}),((o,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0,n(149),n(152);var a=n(1),l=n(164),f=n(168),v=n(198);class b extends l.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#o=null;#a=null;#i=null;#l=null;#c=!1;#s=!1;static _type="stamp";constructor(h){super({...h,name:"stampEditor"}),this.#r=h.bitmapUrl,this.#o=h.bitmapFile}static initialize(h){l.AnnotationEditor.initialize(h)}static get supportedTypes(){const h=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",h.map(c=>`image/${c}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(h){return this.supportedTypes.includes(h)}static paste(h,c){c.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:h.getAsFile()})}#f(h){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!h){this.remove();return}this.#e=h.bitmap,c||(this.#t=h.id,this.#c=h.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#a&&this.div.focus()}#h(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(c=>this.#f(c,!0)).finally(()=>this.#d());return}if(this.#r){const c=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(c).then(p=>this.#f(p)).finally(()=>this.#d());return}if(this.#o){const c=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(c).then(p=>this.#f(p)).finally(()=>this.#d());return}const h=document.createElement("input");h.type="file",h.accept=b.supportedTypesStr,this.#n=new Promise(c=>{h.addEventListener("change",async()=>{if(!h.files||h.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const p=await this._uiManager.imageManager.getFromFile(h.files[0]);this.#f(p)}c()}),h.addEventListener("cancel",()=>{this.remove(),c()})}).finally(()=>this.#d()),h.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#i?.disconnect(),this.#i=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#h();return}super.rebuild(),this.div!==null&&(this.#t&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let h,c;if(this.width&&(h=this.x,c=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#h(),this.width){const[p,g]=this.parentDimensions;this.setAt(h*p,c*g,this.width*p,this.height*g)}return this.div}#p(){const{div:h}=this;let{width:c,height:p}=this.#e;const[g,y]=this.pageDimensions,d=.75;if(this.width)c=this.width*g,p=this.height*y;else if(c>d*g||p>d*y){const T=Math.min(d*g/c,d*y/p);c*=T,p*=T}const[m,S]=this.parentDimensions;this.setDims(c*m/g,p*S/y),this._uiManager.enableWaiting(!1);const x=this.#a=document.createElement("canvas");h.append(x),h.hidden=!1,this.#g(c,p),this.#y(),this.#s||(this.parent.addUndoableEditor(this),this.#s=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#v(h,c){const[p,g]=this.parentDimensions;this.width=h/p,this.height=c/g,this.setDims(h,c),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const y=200;this.#l=setTimeout(()=>{this.#l=null,this.#g(h,c)},y)}#m(h,c){const{width:p,height:g}=this.#e;let y=p,d=g,m=this.#e;for(;y>2*h||d>2*c;){const S=y,x=d;y>2*h&&(y=y>=16384?Math.floor(y/2)-1:Math.ceil(y/2)),d>2*c&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const T=new OffscreenCanvas(y,d);T.getContext("2d").drawImage(m,0,0,S,x,0,0,y,d),m=T.transferToImageBitmap()}return m}#g(h,c){h=Math.ceil(h),c=Math.ceil(c);const p=this.#a;if(!p||p.width===h&&p.height===c)return;p.width=h,p.height=c;const g=this.#c?this.#e:this.#m(h,c),y=p.getContext("2d");y.filter=this._uiManager.hcmFilter,y.drawImage(g,0,0,g.width,g.height,0,0,h,c)}#u(h){if(h){if(this.#c){const g=this._uiManager.imageManager.getSvgUrl(this.#t);if(g)return g}const c=document.createElement("canvas");return{width:c.width,height:c.height}=this.#e,c.getContext("2d").drawImage(this.#e,0,0),c.toDataURL()}if(this.#c){const[c,p]=this.pageDimensions,g=Math.round(this.width*c*f.PixelsPerInch.PDF_TO_CSS_UNITS),y=Math.round(this.height*p*f.PixelsPerInch.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(g,y);return d.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,g,y),d.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this.#i=new ResizeObserver(h=>{const c=h[0].contentRect;c.width&&c.height&&this.#v(c.width,c.height)}),this.#i.observe(this.div)}static deserialize(h,c,p){if(h instanceof v.StampAnnotationElement)return null;const g=super.deserialize(h,c,p),{rect:y,bitmapUrl:d,bitmapId:m,isSvg:S,accessibilityData:x}=h;m&&p.imageManager.isValidId(m)?g.#t=m:g.#r=d,g.#c=S;const[T,j]=g.pageDimensions;return g.width=(y[2]-y[0])/T,g.height=(y[3]-y[1])/j,x&&(g.altTextData=x),g}serialize(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.isEmpty())return null;const p={annotationType:a.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(h)return p.bitmapUrl=this.#u(!0),p.accessibilityData=this.altTextData,p;const{decorative:g,altText:y}=this.altTextData;if(!g&&y&&(p.accessibilityData={type:"Figure",alt:y}),c===null)return p;c.stamps||=new Map;const d=this.#c?(p.rect[2]-p.rect[0])*(p.rect[3]-p.rect[1]):null;if(!c.stamps.has(this.#t))c.stamps.set(this.#t,{area:d,serialized:p}),p.bitmap=this.#u(!1);else if(this.#c){const m=c.stamps.get(this.#t);d>m.area&&(m.area=d,m.serialized.bitmap.close(),m.serialized.bitmap=this.#u(!1))}return p}}s.StampEditor=b})],__webpack_module_cache__={};function __w_pdfjs_require__(o){var s=__webpack_module_cache__[o];if(s!==void 0)return s.exports;var n=__webpack_module_cache__[o]={exports:{}};return __webpack_modules__[o].call(n.exports,n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return(()=>{var o=__webpack_exports__;Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(o,"AnnotationEditorLayer",{enumerable:!0,get:function(){return f.AnnotationEditorLayer}}),Object.defineProperty(o,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(o,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(o,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return v.AnnotationEditorUIManager}}),Object.defineProperty(o,"AnnotationLayer",{enumerable:!0,get:function(){return b.AnnotationLayer}}),Object.defineProperty(o,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(o,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(o,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(o,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(o,"GlobalWorkerOptions",{enumerable:!0,get:function(){return k.GlobalWorkerOptions}}),Object.defineProperty(o,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(o,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(o,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(o,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(o,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(o,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(o,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(o,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(o,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(o,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(o,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(o,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(o,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(o,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(o,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(o,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(o,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(o,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(o,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(o,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(o,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(o,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(o,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(o,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(o,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(o,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(o,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(o,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(o,"renderTextLayer",{enumerable:!0,get:function(){return l.renderTextLayer}}),Object.defineProperty(o,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(o,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(o,"updateTextLayer",{enumerable:!0,get:function(){return l.updateTextLayer}}),Object.defineProperty(o,"version",{enumerable:!0,get:function(){return n.version}});var s=__w_pdfjs_require__(1),n=__w_pdfjs_require__(124),a=__w_pdfjs_require__(168),l=__w_pdfjs_require__(195),f=__w_pdfjs_require__(196),v=__w_pdfjs_require__(165),b=__w_pdfjs_require__(198),k=__w_pdfjs_require__(176),h=__w_pdfjs_require__(201)})(),__webpack_exports__})())})(pdf$2)),pdf$2.exports}var pdfExports=requirePdf();const pdf=getDefaultExportFromCjs(pdfExports),pdf$1=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjsWorkerSrc="/assets/pdf.worker.min-SzY6Yteu.js";pdfExports.GlobalWorkerOptions.workerSrc=pdfjsWorkerSrc;async function loadPdfMeta(o){try{const s=await pdfExports.getDocument({data:toUint8Array(o)}).promise,n=[];for(let a=1;a<=s.numPages;a++){const l=await s.getPage(a),f=l.getViewport({scale:1}),v=l.getViewport({scale:1}).viewBox,b=l.view,k={index:a-1,width:f.width,height:f.height,rotation:f.rotation,mediaBox:{x:v[0],y:v[1],width:v[2]-v[0],height:v[3]-v[1]},cropBox:b&&!isBoxEqual(v,b)?{x:b[0],y:b[1],width:b[2]-b[0],height:b[3]-b[1]}:void 0};n.push(k)}return{pages:n}}catch(s){throw console.error("PDF加载失败:",s),new Error(`PDF文件加载失败: ${s instanceof Error?s.message:"未知错误"}`)}}async function getPdfDocument(o){return await pdfExports.getDocument({data:toUint8Array(o)}).promise}async function renderPageToCanvas(o,s,n,a){const f=await(await getPdfDocument(o)).getPage(s+1),v=f.getViewport({scale:n}),b=a||document.createElement("canvas");b.width=v.width,b.height=v.height;const k=b.getContext("2d");if(!k)throw new Error("无法获取Canvas 2D上下文");return await f.render({canvasContext:k,viewport:v}).promise,b}async function renderPageToImageBitmap(o,s,n){if(typeof OffscreenCanvas<"u"){const l=await(await getPdfDocument(o)).getPage(s+1),f=l.getViewport({scale:n}),v=new OffscreenCanvas(f.width,f.height),b=v.getContext("2d");if(!b)throw new Error("无法获取OffscreenCanvas 2D上下文");return await l.render({canvasContext:b,viewport:f}).promise,v.transferToImageBitmap()}else{const a=await renderPageToCanvas(o,s,n);return await createImageBitmap(a)}}let svgGraphicsCtor=null;const svgLoaders=[async()=>pdfExports.SVGGraphics,async()=>{const o=await __vitePreload(()=>Promise.resolve().then(()=>pdf$1),void 0);return o?.SVGGraphics??o?.default?.SVGGraphics},async()=>{const o=await __vitePreload(()=>import("./pdf-CkpsfR6Y.js").then(s=>s.p),__vite__mapDeps([0,1]));return o?.SVGGraphics??o?.default?.SVGGraphics}];async function ensureSvgGraphics(){if(svgGraphicsCtor)return svgGraphicsCtor;for(const o of svgLoaders)try{const s=await o();if(s){svgGraphicsCtor=s;break}}catch(s){console.warn("加载SVGGraphics失败:",s)}if(!svgGraphicsCtor)throw new Error("当前环境不支持SVG导出");return svgGraphicsCtor}async function renderPageToSVG(o,s,n=1){const l=await(await getPdfDocument(o)).getPage(s+1),f=l.getViewport({scale:n}),v=await l.getOperatorList(),b=await ensureSvgGraphics(),k=new b(l.commonObjs,l.objs);k.embedFonts=!0;const h=await k.getSVG(v,f);return new XMLSerializer().serializeToString(h)}function isBoxEqual(o,s){return o.length===s.length&&o.every((n,a)=>Math.abs(n-s[a])<.01)}function toUint8Array(o){return o instanceof Uint8Array?o:new Uint8Array(o)}async function validatePdfBuffer(o){try{return(await pdfExports.getDocument({data:o}).promise).numPages>0}catch{return!1}}function downloadFile(o,s,n){const l=typeof o=="string"?o:(k=>k instanceof Uint8Array?k.slice().buffer:new Uint8Array(k).slice().buffer)(o),f=new Blob([l],{type:n}),v=URL.createObjectURL(f),b=document.createElement("a");b.href=v,b.download=s,document.body.appendChild(b),b.click(),document.body.removeChild(b),setTimeout(()=>URL.revokeObjectURL(v),100)}function downloadFiles(o){o.forEach((s,n)=>{setTimeout(()=>{downloadFile(s.data,s.filename,s.mimeType)},n*100)})}function validatePdfFile(o){if(!o.name.toLowerCase().endsWith(".pdf"))return{valid:!1,error:"请选择PDF文件"};if(o.type&&o.type!=="application/pdf")return{valid:!1,error:"文件类型不正确，请选择PDF文件"};const s=100*1024*1024;return o.size>s?{valid:!1,error:"文件过大，请选择小于100MB的PDF文件"}:o.size===0?{valid:!1,error:"文件为空"}:{valid:!0}}function formatFileSize(o){if(o===0)return"0 B";const s=1024,n=["B","KB","MB","GB"],a=Math.floor(Math.log(o)/Math.log(s));return`${parseFloat((o/Math.pow(s,a)).toFixed(1))} ${n[a]}`}function generateFilename(o,s,n=!0){const a=o.replace(/\.[^/.]+$/,"");if(n){const l=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5);return`${a}_${l}.${s}`}return`${a}.${s}`}function supportsFileSystemAccess(){return"showOpenFilePicker"in window&&"showSaveFilePicker"in window}async function openFileWithFSA(){if(!supportsFileSystemAccess())throw new Error("浏览器不支持文件系统访问API");try{const[o]=await window.showOpenFilePicker({types:[{description:"PDF files",accept:{"application/pdf":[".pdf"]}}],excludeAcceptAllOption:!0,multiple:!1});return await o.getFile()}catch(o){if(o.name==="AbortError")return null;throw o}}const initialState={fileName:"",fileSize:0,arrayBuffer:null,pages:[],pageOrder:[],selection:new Set,currentPage:null,cropDraft:void 0,isLoading:!1,error:null,renderScale:2,thumbnailScale:.6},useProjectStore=create((o,s)=>({...initialState,openFile:async n=>{const a=s();try{a.setLoading(!0),a.clearError();const l=validatePdfFile(n);if(!l.valid)throw new Error(l.error);const f=await n.arrayBuffer(),v=f.slice(0),b=f.slice(0);if(!await validatePdfBuffer(v))throw new Error("文件不是有效的PDF格式");const{pages:h}=await loadPdfMeta(b);o({fileName:n.name,fileSize:n.size,arrayBuffer:f,pages:h,pageOrder:h.map((c,p)=>p),selection:new Set,currentPage:h.length>0?0:null,cropDraft:void 0,error:null})}catch(l){a.setError(l instanceof Error?l.message:"文件加载失败")}finally{a.setLoading(!1)}},closeFile:()=>{o({...initialState})},setPageOrder:n=>{o({pageOrder:n})},deletePage:n=>{const{pageOrder:a,selection:l,currentPage:f}=s(),v=a.filter(h=>h!==n),b=new Set([...l].filter(h=>h!==n));let k=f;f===n&&(k=v.length>0?v[0]:null),o({pageOrder:v,selection:b,currentPage:k})},deletePages:n=>{const{pageOrder:a,selection:l,currentPage:f}=s(),v=new Set(n),b=a.filter(c=>!v.has(c)),k=new Set([...l].filter(c=>!v.has(c)));let h=f;f!==null&&v.has(f)&&(h=b.length>0?b[0]:null),o({pageOrder:b,selection:k,currentPage:h})},selectPage:n=>{o({selection:new Set([n])})},selectPages:n=>{o({selection:new Set(n)})},selectAllPages:()=>{const{pageOrder:n}=s();o({selection:new Set(n)})},clearSelection:()=>{o({selection:new Set})},togglePageSelection:n=>{const{selection:a}=s(),l=new Set(a);l.has(n)?l.delete(n):l.add(n),o({selection:l})},setCurrentPage:n=>{o({currentPage:n})},setCropDraft:n=>{o({cropDraft:n})},clearCropDraft:()=>{o({cropDraft:void 0})},setRenderScale:n=>{o({renderScale:Math.max(.1,Math.min(5,n))})},setThumbnailScale:n=>{o({thumbnailScale:Math.max(.1,Math.min(1,n))})},setError:n=>{o({error:n})},clearError:()=>{o({error:null})},setLoading:n=>{o({isLoading:n})}})),useFileName=()=>useProjectStore(o=>o.fileName),useFileSize=()=>useProjectStore(o=>o.fileSize),usePages=()=>useProjectStore(o=>o.pages),usePageOrder=()=>useProjectStore(o=>o.pageOrder),useSelection=()=>useProjectStore(o=>o.selection),useCurrentPage=()=>useProjectStore(o=>o.currentPage),useCropDraft=()=>useProjectStore(o=>o.cropDraft),useIsLoading=()=>useProjectStore(o=>o.isLoading),useError=()=>useProjectStore(o=>o.error),useRenderScale=()=>useProjectStore(o=>o.renderScale),useThumbnailScale=()=>useProjectStore(o=>o.thumbnailScale),useArrayBuffer=()=>useProjectStore(o=>o.arrayBuffer),useHasFile=()=>useProjectStore(o=>o.arrayBuffer!==null),usePageCount=()=>useProjectStore(o=>o.pageOrder.length),useCanDelete=()=>useProjectStore(o=>o.selection.size>0&&o.pageOrder.length>o.selection.size),supportsOffscreenCanvas=typeof window<"u"&&typeof OffscreenCanvas<"u",cloneForPdf=o=>(o instanceof Uint8Array?o:new Uint8Array(o)).slice();class WorkerManager{worker=null;messageId=0;pendingMessages=new Map;workerSupported=supportsOffscreenCanvas;workerFailed=!1;async initWorker(){return this.worker?this.worker:(this.worker=new Worker(new URL("/assets/render.worker-HkhxJhre.js",import.meta.url),{type:"module"}),this.worker.onmessage=s=>{const{id:n,success:a,data:l,error:f}=s.data,v=this.pendingMessages.get(n);v&&(clearTimeout(v.timeout),this.pendingMessages.delete(n),a?v.resolve(l):v.reject(new Error(f||"未知错误")))},this.worker.onerror=s=>{console.error("Worker错误:",s),this.cleanup()},this.worker)}async sendMessage(s,n,a=3e4){if(!this.workerSupported||this.workerFailed)throw new Error("WORKER_UNAVAILABLE");const l=await this.initWorker(),f=`msg_${++this.messageId}_${Date.now()}`;return new Promise((v,b)=>{const k=setTimeout(()=>{this.pendingMessages.delete(f),b(new Error("Worker操作超时"))},a);this.pendingMessages.set(f,{resolve:v,reject:b,timeout:k});const h={id:f,type:s,payload:n};l.postMessage(h)})}async renderPage(s,n,a,l="bitmap"){if(!this.workerSupported||this.workerFailed)return this.renderPageLocally(s,n,a,l);try{return await this.sendMessage("render",{arrayBuffer:cloneForPdf(s),pageIndex:n,scale:a,format:l})}catch(f){return console.warn("Worker render failed, falling back to main thread rendering.",f),this.workerFailed=!0,this.renderPageLocally(s,n,a,l)}}async exportPages(s,n){if(n.some(l=>l.format==="svg"))return this.exportPagesLocally(s,n);if(!this.workerSupported||this.workerFailed)return this.exportPagesLocally(s,n);try{return await this.sendMessage("export",{arrayBuffer:cloneForPdf(s),tasks:n},6e4)}catch(l){return console.warn("Worker export failed, falling back to main thread rendering.",l),this.workerFailed=!0,this.exportPagesLocally(s,n)}}async loadDocument(s){if(!this.workerSupported||this.workerFailed)return this.loadDocumentLocally(s);try{return await this.sendMessage("load",{arrayBuffer:cloneForPdf(s)})}catch(n){return console.warn("Worker load failed, falling back to main thread.",n),this.workerFailed=!0,this.loadDocumentLocally(s)}}cleanup(){this.pendingMessages.forEach(({timeout:s,reject:n})=>{clearTimeout(s),n(new Error("Worker已被清理"))}),this.pendingMessages.clear(),this.worker&&(this.worker.terminate(),this.worker=null)}isAvailable(){return this.worker!==null}getPendingTaskCount(){return this.pendingMessages.size}async renderPageLocally(s,n,a,l){const f=cloneForPdf(s);return l==="svg"?renderPageToSVG(f,n,a):renderPageToImageBitmap(f,n,a)}async exportPagesLocally(s,n){const a=[];for(const l of n)l.format==="svg"?a.push(await renderPageToSVG(cloneForPdf(s),l.page,l.scale)):a.push(await renderPageToImageBitmap(cloneForPdf(s),l.page,l.scale));return a}async loadDocumentLocally(s){return{pageCount:(await getPdfDocument(cloneForPdf(s))).numPages,loaded:!0}}}const workerManager=new WorkerManager;typeof window<"u"&&window.addEventListener("beforeunload",()=>{workerManager.cleanup()});function r(o){var s,n,a="";if(typeof o=="string"||typeof o=="number")a+=o;else if(typeof o=="object")if(Array.isArray(o)){var l=o.length;for(s=0;s<l;s++)o[s]&&(n=r(o[s]))&&(a&&(a+=" "),a+=n)}else for(n in o)o[n]&&(a&&(a+=" "),a+=n);return a}function clsx(){for(var o,s,n=0,a="",l=arguments.length;n<l;n++)(o=arguments[n])&&(s=r(o))&&(a&&(a+=" "),a+=s);return a}function ThumbnailItem({pageIndex:o,position:s,onMove:n}){const{selectPage:a,togglePageSelection:l,setCurrentPage:f}=useProjectStore(),v=usePages(),b=useSelection(),k=useCurrentPage(),h=useThumbnailScale(),c=useArrayBuffer(),[p,g]=reactExports.useState(null),[y,d]=reactExports.useState(!0),[m,S]=reactExports.useState(null),x=reactExports.useRef(null),T=v[o],j=b.has(o),L=k===o,[{isDragging:w},M]=useDrag({type:"thumbnail",item:{index:s},collect:K=>({isDragging:K.isDragging()})}),[,z]=useDrop({accept:"thumbnail",hover:K=>{K.index!==s&&(n(K.index,s),K.index=s)}});M(z(x)),reactExports.useEffect(()=>{if(!c||!T)return;let K=!1;return(async()=>{try{d(!0),S(null);const te=await workerManager.renderPage(c,o,h);K||(g(te),d(!1))}catch(te){K||(S(te instanceof Error?te.message:"缩略图加载失败"),d(!1))}})(),()=>{K=!0,p&&p.close()}},[c,o,h,T]);const $=reactExports.useCallback(K=>{if(K.ctrlKey||K.metaKey)l(o);else if(K.shiftKey&&k!==null){const J=Math.min(k,o),te=Math.max(k,o);Array.from({length:te-J+1},(de,pe)=>J+pe).forEach(de=>{b.has(de)||l(de)})}else a(o),f(o)},[o,k,b,a,f,l]),V=reactExports.useCallback(()=>{f(o)},[o,f]);return jsxRuntimeExports.jsxs("div",{ref:x,className:clsx("thumbnail p-2 m-2 cursor-pointer select-none",{selected:j,current:L,"drag-preview":w}),onClick:$,onDoubleClick:V,style:{opacity:w?.5:1},children:[jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mb-1 text-center font-medium",children:["第 ",o+1," 页"]}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white border rounded shadow-sm overflow-hidden",children:[y&&jsxRuntimeExports.jsx("div",{className:"aspect-[3/4] flex items-center justify-center bg-gray-100",children:jsxRuntimeExports.jsx("div",{className:"loading-spinner w-6 h-6 text-gray-400"})}),m&&jsxRuntimeExports.jsx("div",{className:"aspect-[3/4] flex items-center justify-center bg-red-50 text-red-500 text-xs p-2",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("span",{children:m})]})}),p&&jsxRuntimeExports.jsx("canvas",{ref:K=>{if(K&&p){K.width=p.width,K.height=p.height;const J=K.getContext("2d");J&&J.drawImage(p,0,0)}},className:"thumbnail-image w-full h-auto no-drag"}),j&&jsxRuntimeExports.jsx("div",{className:"absolute top-1 right-1 w-5 h-5 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs",children:jsxRuntimeExports.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),L&&jsxRuntimeExports.jsx("div",{className:"absolute top-1 left-1 w-5 h-5 bg-green-600 text-white rounded-full flex items-center justify-center text-xs",children:jsxRuntimeExports.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-400 mt-1 text-center",children:[Math.round(T.width)," × ",Math.round(T.height),T.rotation!==0&&jsxRuntimeExports.jsxs("span",{className:"ml-1",children:["(",T.rotation,"°)"]})]})]})}function ThumbnailList(){const{setPageOrder:o}=useProjectStore(),s=usePages(),n=usePageOrder(),a=reactExports.useCallback((l,f)=>{const v=[...n],b=v[l];v.splice(l,1),v.splice(f,0,b),o(v)},[n,o]);return s.length===0?jsxRuntimeExports.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),jsxRuntimeExports.jsx("p",{children:"暂无页面"})]})}):jsxRuntimeExports.jsx("div",{className:"h-full overflow-auto scrollbar-thin",children:jsxRuntimeExports.jsxs("div",{className:"p-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[jsxRuntimeExports.jsx("h2",{className:"font-medium text-gray-900",children:"页面缩略图"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:[n.length," 页"]})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mb-4 px-2",children:[jsxRuntimeExports.jsx("p",{children:"• 点击选择页面"}),jsxRuntimeExports.jsx("p",{children:"• Ctrl/Cmd+点击多选"}),jsxRuntimeExports.jsx("p",{children:"• 拖拽调整顺序"}),jsxRuntimeExports.jsx("p",{children:"• 双击预览页面"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-1",children:n.map((l,f)=>jsxRuntimeExports.jsx(ThumbnailItem,{pageIndex:l,position:f,onMove:a},l))})]})})}function canvasRectToPdfRect(o,s,n){const a=s.cropBox??s.mediaBox,l=a.width/n.width,f=a.height/n.height,v=o.x,b=o.y,k=o.w*l,h=o.h*f,c=a.x+v*l,p=a.y+(a.height-(b+o.h)*f);return{x:c,y:p,width:k,height:h}}function pdfRectToCanvasRect(o,s,n){const a=s.cropBox??s.mediaBox,l=n.width/a.width,f=n.height/a.height,v=o.width*l,b=o.height*f,k=(o.x-a.x)*l,h=(a.height-(o.y-a.y)-o.height)*f;return{x:k,y:h,w:v,h:b}}function normalizeRect(o){return{x:o.w<0?o.x+o.w:o.x,y:o.h<0?o.y+o.h:o.y,w:Math.abs(o.w),h:Math.abs(o.h)}}function calculateViewport(o,s,n,a=20){const l=s-a*2,f=n-a*2,v=l/o.width,b=f/o.height,k=Math.min(v,b,2),h=o.width*k,c=o.height*k,p=(s-h)/2,g=(n-c)/2;return{width:h,height:c,scale:k,offsetX:p,offsetY:g}}function CropOverlay({cropRect:o,page:s,viewport:n,onUpdate:a,onClear:l}){const[f,v]=reactExports.useState(!1),[b,k]=reactExports.useState(null),[h,c]=reactExports.useState(null),p=reactExports.useRef(null),g=pdfRectToCanvasRect(o,s,n),y=reactExports.useCallback((T,j)=>{T.preventDefault(),T.stopPropagation(),v(!0),k(j),c({x:T.clientX,y:T.clientY,rect:{...g}})},[g]),d=reactExports.useCallback(T=>{if(!f||!h||!b)return;const j=T.clientX-h.x,L=T.clientY-h.y;let w={...h.rect};switch(b){case"nw":w.x+=j,w.y+=L,w.w-=j,w.h-=L;break;case"n":w.y+=L,w.h-=L;break;case"ne":w.y+=L,w.w+=j,w.h-=L;break;case"e":w.w+=j;break;case"se":w.w+=j,w.h+=L;break;case"s":w.h+=L;break;case"sw":w.x+=j,w.w-=j,w.h+=L;break;case"w":w.x+=j,w.w-=j;break;case"move":w.x+=j,w.y+=L;break}w.x=Math.max(0,Math.min(w.x,n.width-10)),w.y=Math.max(0,Math.min(w.y,n.height-10)),w.w=Math.max(10,Math.min(w.w,n.width-w.x)),w.h=Math.max(10,Math.min(w.h,n.height-w.y));const M=canvasRectToPdfRect(w,s,n);a(M)},[f,h,b,n,s,a]),m=reactExports.useCallback(()=>{v(!1),k(null),c(null)},[]);reactExports.useEffect(()=>{if(f)return document.addEventListener("mousemove",d),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",m)}},[f,d,m]);const S=T=>`crop-handle absolute ${{nw:"cursor-nw-resize",n:"cursor-n-resize",ne:"cursor-ne-resize",e:"cursor-e-resize",se:"cursor-se-resize",s:"cursor-s-resize",sw:"cursor-sw-resize",w:"cursor-w-resize",move:"cursor-move"}[T]}`,x=T=>{switch(T){case"nw":return{top:-6,left:-6};case"n":return{top:-6,left:g.w/2-6};case"ne":return{top:-6,right:-6};case"e":return{top:g.h/2-6,right:-6};case"se":return{bottom:-6,right:-6};case"s":return{bottom:-6,left:g.w/2-6};case"sw":return{bottom:-6,left:-6};case"w":return{top:g.h/2-6,left:-6};default:return{}}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{ref:p,className:"crop-overlay",style:{left:g.x,top:g.y,width:g.w,height:g.h},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 cursor-move",onMouseDown:T=>y(T,"move")}),["nw","n","ne","e","se","s","sw","w"].map(T=>jsxRuntimeExports.jsx("div",{className:S(T),style:{...x(T),width:12,height:12},onMouseDown:j=>y(j,T)},T)),jsxRuntimeExports.jsxs("div",{className:"absolute -top-10 left-0 bg-white rounded shadow-lg p-1 flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:l,className:"btn btn-ghost btn-sm text-xs",title:"清除裁剪",children:jsxRuntimeExports.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-600",children:[Math.round(o.width)," × ",Math.round(o.height)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute bg-black bg-opacity-20",style:{top:0,left:0,width:"100%",height:g.y}}),jsxRuntimeExports.jsx("div",{className:"absolute bg-black bg-opacity-20",style:{top:g.y+g.h,left:0,width:"100%",height:n.height-(g.y+g.h)}}),jsxRuntimeExports.jsx("div",{className:"absolute bg-black bg-opacity-20",style:{top:g.y,left:0,width:g.x,height:g.h}}),jsxRuntimeExports.jsx("div",{className:"absolute bg-black bg-opacity-20",style:{top:g.y,left:g.x+g.w,width:n.width-(g.x+g.w),height:g.h}})]})]})}function CanvasViewer(){const{setCurrentPage:o,setCropDraft:s,clearCropDraft:n}=useProjectStore(),a=useCurrentPage(),l=usePages(),f=useRenderScale(),v=useArrayBuffer(),b=useCropDraft(),[k,h]=reactExports.useState(null),[c,p]=reactExports.useState(!1),[g,y]=reactExports.useState(null),[d,m]=reactExports.useState(null),[S,x]=reactExports.useState(!1),[T,j]=reactExports.useState(null),[L,w]=reactExports.useState(null),M=reactExports.useRef(null),z=reactExports.useRef(null),$=a!==null?l[a]:null;reactExports.useEffect(()=>{if(!v||a===null||!$){h(null);return}let te=!1;return(async()=>{try{p(!0),y(null);const de=await workerManager.renderPage(v,a,f);te||(h(de),p(!1))}catch(de){te||(y(de instanceof Error?de.message:"页面加载失败"),p(!1))}})(),()=>{te=!0,k&&k.close()}},[v,a,f,$]),reactExports.useEffect(()=>{if(!$||!M.current)return;const te=M.current,se=calculateViewport($,te.clientWidth,te.clientHeight,40);m(se)},[$,f]),reactExports.useEffect(()=>{if(!k||!z.current||!d)return;const te=z.current,se=te.getContext("2d");se&&(te.width=d.width,te.height=d.height,se.clearRect(0,0,te.width,te.height),se.drawImage(k,0,0,te.width,te.height))},[k,d]);const V=reactExports.useCallback(te=>{if(!z.current||!d)return;const se=z.current.getBoundingClientRect(),de=te.clientX-se.left,pe=te.clientY-se.top;x(!0),j({x:de,y:pe}),w({x:de,y:pe,w:0,h:0}),n()},[d,n]),K=reactExports.useCallback(te=>{if(!S||!T||!z.current)return;const se=z.current.getBoundingClientRect(),de=te.clientX-se.left,pe=te.clientY-se.top,ie={x:T.x,y:T.y,w:de-T.x,h:pe-T.y};w(ie)},[S,T]),J=reactExports.useCallback(()=>{if(!S||!L||!$||!d||a===null)return;const te=normalizeRect(L);if(te.w<10||te.h<10){x(!1),j(null),w(null);return}const se=canvasRectToPdfRect(te,$,d);s({page:a,rect:se}),x(!1),j(null),w(null)},[S,L,$,d,a,s]);return reactExports.useEffect(()=>{const te=se=>{if(!(!l.length||a===null))switch(se.key){case"ArrowLeft":case"ArrowUp":se.preventDefault(),a>0&&o(a-1);break;case"ArrowRight":case"ArrowDown":se.preventDefault(),a<l.length-1&&o(a+1);break;case"Escape":n();break}};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[l.length,a,o,n]),!$||a===null?jsxRuntimeExports.jsx("div",{className:"canvas-container h-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-500",children:[jsxRuntimeExports.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),jsxRuntimeExports.jsx("p",{className:"text-lg mb-2",children:"选择页面进行预览"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"在左侧缩略图列表中点击页面，或使用键盘方向键导航"})]})}):jsxRuntimeExports.jsxs("div",{ref:M,className:"canvas-container h-full",children:[jsxRuntimeExports.jsxs("div",{className:"absolute top-4 left-4 z-10 bg-white rounded-lg shadow-lg p-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>o(Math.max(0,a-1)),disabled:a===0,className:"btn btn-ghost btn-sm",title:"上一页",children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600 px-2",children:[a+1," / ",l.length]}),jsxRuntimeExports.jsx("button",{onClick:()=>o(Math.min(l.length-1,a+1)),disabled:a===l.length-1,className:"btn btn-ghost btn-sm",title:"下一页",children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),jsxRuntimeExports.jsx("div",{className:"toolbar-separator"}),jsxRuntimeExports.jsx("button",{onClick:n,disabled:!b,className:"btn btn-ghost btn-sm",title:"清除裁剪",children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 z-10 bg-white rounded-lg shadow-lg p-2",children:jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-600",children:[jsxRuntimeExports.jsx("p",{children:"💡 拖拽鼠标框选区域进行裁剪"}),jsxRuntimeExports.jsx("p",{children:"⌨️ 使用方向键导航页面"})]})}),jsxRuntimeExports.jsxs("div",{className:"h-full flex items-center justify-center p-8",children:[c&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"loading-spinner w-8 h-8 text-blue-600 mr-3"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"正在加载页面..."})]}),g&&jsxRuntimeExports.jsxs("div",{className:"text-center text-red-500",children:[jsxRuntimeExports.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("p",{className:"text-lg mb-2",children:"页面加载失败"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:g})]}),d&&k&&jsxRuntimeExports.jsxs("div",{className:"canvas-viewport relative cursor-crosshair",style:{width:d.width,height:d.height},children:[jsxRuntimeExports.jsx("canvas",{ref:z,className:"block",onMouseDown:V,onMouseMove:K,onMouseUp:J,onMouseLeave:J}),S&&L&&jsxRuntimeExports.jsx("div",{className:"crop-overlay",style:{left:Math.min(L.x,L.x+L.w),top:Math.min(L.y,L.y+L.h),width:Math.abs(L.w),height:Math.abs(L.h)}}),b&&b.page===a&&jsxRuntimeExports.jsx(CropOverlay,{cropRect:b.rect,page:$,viewport:d,onUpdate:te=>s({page:a,rect:te}),onClear:n})]})]})]})}function parsePageExpr(o,s){if(!o.trim())return[];const n=new Set,a=o.split(",").map(l=>l.trim()).filter(Boolean);for(const l of a)if(l.includes("-")){const[f,v]=l.split("-").map(h=>h.trim()),b=f?parseInt(f,10):1,k=v?parseInt(v,10):s;if(isNaN(b)||isNaN(k))continue;for(let h=Math.max(1,b);h<=Math.min(s,k);h++)n.add(h)}else{const f=parseInt(l,10);!isNaN(f)&&f>=1&&f<=s&&n.add(f)}return Array.from(n).sort((l,f)=>l-f)}function validatePageExpr(o,s){if(!o.trim())return{valid:!1,error:"页码表达式不能为空"};try{return parsePageExpr(o,s).length===0?{valid:!1,error:"没有找到有效的页码"}:{valid:!0}}catch{return{valid:!1,error:"页码表达式格式错误"}}}function formatPageRange(o){if(o.length===0)return"";const s=[...o].sort((f,v)=>f-v),n=[];let a=s[0],l=s[0];for(let f=1;f<s.length;f++)s[f]===l+1?l=s[f]:(a===l?n.push(a.toString()):l===a+1?n.push(`${a},${l}`):n.push(`${a}-${l}`),a=l=s[f]);return a===l?n.push(a.toString()):l===a+1?n.push(`${a},${l}`):n.push(`${a}-${l}`),n.join(",")}async function extractRanges(o,s){const n=await PDFDocument.load(o),a=await PDFDocument.create();for(const[l,f]of s)for(let v=l;v<=f;v++)if(v>0&&v<=n.getPageCount()){const[b]=await a.copyPages(n,[v-1]);a.addPage(b)}return await a.save()}async function setCropBox(o,s,n){const a=await PDFDocument.load(o);for(const l of s)l>0&&l<=a.getPageCount()&&a.getPage(l-1).setCropBox(n.x,n.y,n.width,n.height);return await a.save()}async function hardCropToMediaBox(o,s,n){const a=await PDFDocument.load(o);for(const l of s)if(l>0&&l<=a.getPageCount()){const f=a.getPage(l-1),{width:v,height:b}=f.getSize(),k={x:Math.max(0,Math.min(n.x,v)),y:Math.max(0,Math.min(n.y,b)),width:Math.min(n.width,v-Math.max(0,n.x)),height:Math.min(n.height,b-Math.max(0,n.y))};f.setMediaBox(k.x,k.y,k.width,k.height),f.setCropBox(k.x,k.y,k.width,k.height)}return await a.save()}const toArrayBuffer=o=>o instanceof Uint8Array?o.slice().buffer:new Uint8Array(o).slice().buffer;function ExportModal({onClose:o}){const s=useArrayBuffer(),n=usePages(),a=usePageOrder(),l=useSelection(),f=useCropDraft(),[v,b]=reactExports.useState({format:"png",dpi:200,quality:85,pages:l.size>0?Array.from(l):a,hardCrop:!1}),[k,h]=reactExports.useState(()=>{const T=l.size>0?Array.from(l).sort((j,L)=>j-L):a;return formatPageRange(T.map(j=>j+1))}),[c,p]=reactExports.useState(!1),[g,y]=reactExports.useState(0),[d,m]=reactExports.useState(null),S=validatePageExpr(k,n.length),x=reactExports.useCallback(async()=>{if(!(!s||!S.valid))try{p(!0),y(0),m(null);const T=parsePageExpr(k,n.length),j=T.map(w=>w-1),L=v.format;if(L==="pdf"){let w=s;if(f){const z=T.filter($=>$-1===f.page);if(z.length>0){const $=toArrayBuffer(w);v.hardCrop?w=await hardCropToMediaBox($,z,f.rect):w=await setCropBox($,z,f.rect)}}const M=generateFilename("exported","pdf");downloadFiles([{data:w,filename:M,mimeType:"application/pdf"}]),y(100)}else{const w=L,M=w==="svg"?1:(v.dpi??200)/72,z=w==="jpeg"?v.quality??85:void 0,$=j.map(J=>({id:`export_${J}`,type:"export",page:J,scale:M,format:w,quality:z})),V=await workerManager.exportPages(s,$),K=await Promise.all(V.map(async(J,te)=>{const se=T[te],de=w==="svg"?"svg":w,pe=`page-${se.toString().padStart(4,"0")}.${de}`,ie=n[j[te]];let Y,I;if(w==="svg")Y=J,I="image/svg+xml";else{const R=J,P=v.hardCrop&&f&&f.page===j[te];let D=0,B=0,W=R.width,G=R.height;if(P&&ie){const F={width:R.width,height:R.height,scale:M,offsetX:0,offsetY:0},_=pdfRectToCanvasRect(f.rect,ie,F),N=(ge,me,ve)=>Math.max(me,Math.min(ve,ge)),X=R.width,Z=R.height,ne=Math.floor(N(_.x,0,X)),ye=Math.floor(N(_.y,0,Z)),oe=X-ne,he=Z-ye;if(oe>1&&he>1){const ge=Math.floor(N(_.w,1,oe)),me=Math.floor(N(_.h,1,he));ge>0&&me>0&&(D=ne,B=ye,W=ge,G=me)}}const H=new OffscreenCanvas(W,G);H.getContext("2d").drawImage(R,D,B,W,G,0,0,W,G),R.close(),Y=await(await H.convertToBlob({type:`image/${w}`,quality:w==="jpeg"&&z!==void 0?z/100:void 0})).arrayBuffer(),I=`image/${w}`}return{data:Y,filename:pe,mimeType:I}}));downloadFiles(K),y(100)}setTimeout(()=>{o()},1e3)}catch(T){m(T instanceof Error?T.message:"导出失败")}finally{p(!1)}},[s,k,v,n,f,S.valid,o]);return jsxRuntimeExports.jsx("div",{className:"modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"modal max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:"导出文件"}),jsxRuntimeExports.jsx("button",{onClick:o,className:"btn btn-ghost btn-sm ml-auto",disabled:c,children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports.jsxs("div",{className:"modal-body space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"导出格式"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"png",label:"PNG图片",desc:"高质量无损"},{value:"jpeg",label:"JPEG图片",desc:"小文件有损"},{value:"svg",label:"SVG矢量",desc:"可缩放矢量"},{value:"pdf",label:"PDF文档",desc:"原格式保持"}].map(T=>jsxRuntimeExports.jsxs("label",{className:`
                    p-3 border rounded-lg cursor-pointer transition-colors
                    ${v.format===T.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}
                  `,children:[jsxRuntimeExports.jsx("input",{type:"radio",className:"sr-only",checked:v.format===T.value,onChange:()=>b(j=>({...j,format:T.value}))}),jsxRuntimeExports.jsx("div",{className:"font-medium text-sm",children:T.label}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:T.desc})]},T.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"页面范围"}),jsxRuntimeExports.jsx("input",{type:"text",className:`input w-full ${S.valid?"":"input-error"}`,value:k,onChange:T=>h(T.target.value),placeholder:"例如: 1,3,5-8,10-",disabled:c}),!S.valid&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600 mt-1",children:S.error}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"支持格式：单页(1,3)、范围(5-8)、开放范围(10-)"})]}),["png","jpeg"].includes(v.format)&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"分辨率 (DPI)"}),jsxRuntimeExports.jsxs("select",{className:"input w-full",value:v.dpi,onChange:T=>b(j=>({...j,dpi:Number(T.target.value)})),disabled:c,children:[jsxRuntimeExports.jsx("option",{value:72,children:"72 DPI (网页)"}),jsxRuntimeExports.jsx("option",{value:150,children:"150 DPI (标准)"}),jsxRuntimeExports.jsx("option",{value:200,children:"200 DPI (推荐)"}),jsxRuntimeExports.jsx("option",{value:300,children:"300 DPI (高质量)"}),jsxRuntimeExports.jsx("option",{value:600,children:"600 DPI (超高质量)"})]})]}),v.format==="jpeg"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["压缩质量: ",v.quality,"%"]}),jsxRuntimeExports.jsx("input",{type:"range",min:"10",max:"100",step:"5",className:"w-full",value:v.quality,onChange:T=>b(j=>({...j,quality:Number(T.target.value)})),disabled:c})]}),f&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"mr-2",checked:v.hardCrop,onChange:T=>b(j=>({...j,hardCrop:T.target.checked})),disabled:c}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"硬裁剪 (永久移除裁剪区域外的内容)"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"不勾选时使用软裁剪，可以恢复"})]}),c&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"progress",children:jsxRuntimeExports.jsx("div",{className:"progress-bar",style:{width:`${g}%`}})}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-1 text-center",children:["导出中... ",Math.round(g),"%"]})]}),d&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-700",children:d})})]}),jsxRuntimeExports.jsxs("div",{className:"modal-footer",children:[jsxRuntimeExports.jsx("button",{onClick:o,className:"btn btn-secondary",disabled:c,children:"取消"}),jsxRuntimeExports.jsx("button",{onClick:x,className:"btn btn-primary",disabled:!S.valid||c,children:c?"导出中...":"开始导出"})]})]})})}function SplitModal({onClose:o}){const s=useArrayBuffer(),n=usePages(),a=useFileName(),[l,f]=reactExports.useState("range"),[v,b]=reactExports.useState("1-"),[k,h]=reactExports.useState(1),[c,p]=reactExports.useState(["1-5","6-10"]),[g,y]=reactExports.useState(!1),[d,m]=reactExports.useState(0),[S,x]=reactExports.useState(null),T=l==="range"?validatePageExpr(v,n.length):{valid:!0},j=l==="preset"?c.every($=>validatePageExpr($,n.length).valid):!0,L=reactExports.useCallback(async()=>{if(!(!s||!T.valid||!j))try{y(!0),m(0),x(null);let $=[];if(l==="range"){const K=parsePageExpr(v,n.length);K.length>0&&($=[[K[0],K[K.length-1]]])}else if(l==="each")for(let K=0;K<n.length;K+=k){const J=K+1,te=Math.min(K+k,n.length);$.push([J,te])}else if(l==="preset"){const K=[];c.forEach(J=>{const te=parsePageExpr(J,n.length);if(te.length<1)return;const se=te[0],de=te[te.length-1];K.push([se,de])}),$=K}const V=[];for(let K=0;K<$.length;K++){const[J,te]=$[K];m(K/$.length*100);const se=await extractRanges(s,[[J,te]]),de=a.replace(/\.pdf$/i,""),pe=generateFilename(`${de}_part${K+1}_pages${J}-${te}`,"pdf",!1);V.push({data:se,filename:pe,mimeType:"application/pdf"})}m(100),V.forEach((K,J)=>{setTimeout(()=>{downloadFile(K.data,K.filename,K.mimeType)},J*100)}),setTimeout(()=>{o()},1e3)}catch($){x($ instanceof Error?$.message:"拆分失败")}finally{y(!1)}},[s,l,v,k,c,n.length,a,T.valid,j,o]),w=reactExports.useCallback(()=>{p($=>[...$,""])},[]),M=reactExports.useCallback(($,V)=>{p(K=>K.map((J,te)=>te===$?V:J))},[]),z=reactExports.useCallback($=>{p(V=>V.filter((K,J)=>J!==$))},[]);return jsxRuntimeExports.jsx("div",{className:"modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"modal max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:"拆分PDF"}),jsxRuntimeExports.jsx("button",{onClick:o,className:"btn btn-ghost btn-sm ml-auto",disabled:g,children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports.jsxs("div",{className:"modal-body space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"拆分模式"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"radio",className:"mr-2",checked:l==="range",onChange:()=>f("range"),disabled:g}),jsxRuntimeExports.jsx("span",{children:"按页面范围拆分"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"radio",className:"mr-2",checked:l==="each",onChange:()=>f("each"),disabled:g}),jsxRuntimeExports.jsx("span",{children:"按固定页数拆分"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"radio",className:"mr-2",checked:l==="preset",onChange:()=>f("preset"),disabled:g}),jsxRuntimeExports.jsx("span",{children:"自定义多个范围"})]})]})]}),l==="range"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"页面范围"}),jsxRuntimeExports.jsx("input",{type:"text",className:`input w-full ${T.valid?"":"input-error"}`,value:v,onChange:$=>b($.target.value),placeholder:"例如: 1-10",disabled:g}),!T.valid&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600 mt-1",children:T.error}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"指定要提取的页面范围"})]}),l==="each"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"每个文件的页数"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",max:n.length,className:"input w-full",value:k,onChange:$=>h(Number($.target.value)),disabled:g}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["将PDF按指定页数平均拆分，共 ",n.length," 页， 将拆分为 ",Math.ceil(n.length/k)," 个文件"]})]}),l==="preset"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700",children:"自定义范围"}),jsxRuntimeExports.jsxs("button",{onClick:w,className:"btn btn-ghost btn-sm",disabled:g,children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"添加范围"]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-40 overflow-auto",children:c.map(($,V)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",className:"input flex-1",value:$,onChange:K=>M(V,K.target.value),placeholder:`范围 ${V+1}`,disabled:g}),jsxRuntimeExports.jsx("button",{onClick:()=>z(V),className:"btn btn-ghost btn-sm text-red-600",disabled:g||c.length<=1,children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},V))}),!j&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600",children:"有无效的页面范围"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"例如: 1-5, 6-10, 15-20"})]}),g&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"progress",children:jsxRuntimeExports.jsx("div",{className:"progress-bar",style:{width:`${d}%`}})}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-1 text-center",children:["拆分中... ",Math.round(d),"%"]})]}),S&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-700",children:S})}),!g&&!S&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-700",children:[jsxRuntimeExports.jsx("strong",{children:"预览："}),l==="range"&&T.valid&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["将提取页面范围 ",v]}),l==="each"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["将拆分为 ",Math.ceil(n.length/k)," 个文件，每个 ",k," 页"]}),l==="preset"&&j&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["将拆分为 ",c.filter($=>$.trim()).length," 个文件"]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"modal-footer",children:[jsxRuntimeExports.jsx("button",{onClick:o,className:"btn btn-secondary",disabled:g,children:"取消"}),jsxRuntimeExports.jsx("button",{onClick:L,className:"btn btn-primary",disabled:!T.valid||!j||g,children:g?"拆分中...":"开始拆分"})]})]})})}function Toolbar({onFileSelect:o}){const{closeFile:s,deletePages:n,clearSelection:a,selectAllPages:l}=useProjectStore(),f=useHasFile(),v=useFileName(),b=useFileSize(),k=useSelection(),h=useCanDelete(),c=usePageCount(),p=useArrayBuffer(),[g,y]=reactExports.useState(!1),[d,m]=reactExports.useState(!1),S=reactExports.useCallback(async w=>{const M=w.target.files?.[0];M&&await o(M),w.target.value=""},[o]),x=reactExports.useCallback(()=>{if(h&&k.size>0){const w=Array.from(k);n(w),a()}},[h,k,n,a]),T=reactExports.useCallback(()=>{l()},[l]),j=reactExports.useCallback(()=>{a()},[a]),L=reactExports.useCallback(()=>{p&&v&&downloadFile(p,v,"application/pdf")},[p,v]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"toolbar",children:[jsxRuntimeExports.jsxs("div",{className:"toolbar-group",children:[jsxRuntimeExports.jsxs("label",{className:"btn btn-primary cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf,.pdf",onChange:S,className:"sr-only"}),jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),f?"更换文件":"打开文件"]}),f&&jsxRuntimeExports.jsx("button",{onClick:s,className:"btn btn-ghost",title:"关闭文件",children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"toolbar-separator"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:v}),jsxRuntimeExports.jsxs("span",{className:"ml-2 text-gray-400",children:["(",formatFileSize(b),")"]}),jsxRuntimeExports.jsxs("span",{className:"ml-2 text-gray-400",children:[c," 页"]})]}),jsxRuntimeExports.jsx("div",{className:"toolbar-separator"}),jsxRuntimeExports.jsxs("div",{className:"toolbar-group",children:[jsxRuntimeExports.jsx("button",{onClick:T,className:"btn btn-ghost btn-sm",disabled:k.size===c,children:"全选"}),jsxRuntimeExports.jsx("button",{onClick:j,className:"btn btn-ghost btn-sm",disabled:k.size===0,children:"清除选择"}),k.size>0&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["已选择 ",k.size," 页"]})]}),jsxRuntimeExports.jsx("div",{className:"toolbar-separator"}),jsxRuntimeExports.jsxs("div",{className:"toolbar-group",children:[jsxRuntimeExports.jsxs("button",{onClick:x,className:"btn btn-danger btn-sm",disabled:!h,title:h?"删除选中的页面":"无法删除所有页面",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"删除"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>m(!0),className:"btn btn-secondary btn-sm",disabled:c===0,children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})}),"拆分"]})]}),jsxRuntimeExports.jsx("div",{className:"toolbar-separator"}),jsxRuntimeExports.jsxs("div",{className:"toolbar-group",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>y(!0),className:"btn btn-primary btn-sm",disabled:c===0,children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"导出"]}),jsxRuntimeExports.jsxs("button",{onClick:L,className:"btn btn-ghost btn-sm",title:"下载原始PDF文件",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"下载原文件"]})]}),jsxRuntimeExports.jsxs("div",{className:"ml-auto flex items-center text-sm text-gray-500",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-1 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"本地处理，数据安全"]})]})]}),g&&jsxRuntimeExports.jsx(ExportModal,{onClose:()=>y(!1)}),d&&jsxRuntimeExports.jsx(SplitModal,{onClose:()=>m(!1)})]})}function FileDropZone({onFileSelect:o,className:s=""}){const[n,a]=reactExports.useState(!1),[l,f]=reactExports.useState(null),v=reactExports.useCallback(y=>{const d=validatePdfFile(y);if(!d.valid){f(d.error||"文件无效");return}f(null),o(y)},[o]),b=reactExports.useCallback(y=>{y.preventDefault(),y.stopPropagation(),a(!0),f(null)},[]),k=reactExports.useCallback(y=>{y.preventDefault(),y.stopPropagation(),y.currentTarget.contains(y.relatedTarget)||a(!1)},[]),h=reactExports.useCallback(y=>{y.preventDefault(),y.stopPropagation()},[]),c=reactExports.useCallback(y=>{y.preventDefault(),y.stopPropagation(),a(!1);const d=Array.from(y.dataTransfer.files),m=d.find(S=>S.type==="application/pdf"||S.name.toLowerCase().endsWith(".pdf"));if(!m){f("请拖拽PDF文件");return}if(d.length>1){f("一次只能处理一个PDF文件");return}v(m)},[v]),p=reactExports.useCallback(y=>{const d=y.target.files?.[0];d&&v(d),y.target.value=""},[v]),g=reactExports.useCallback(async()=>{try{const y=await openFileWithFSA();y&&v(y)}catch(y){f(y instanceof Error?y.message:"文件选择失败")}},[v]);return jsxRuntimeExports.jsx("div",{className:s,children:jsxRuntimeExports.jsxs("div",{className:`
          border-2 border-dashed rounded-lg p-12 text-center transition-all duration-200
          ${n?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}
        `,onDragEnter:b,onDragLeave:k,onDragOver:h,onDrop:c,children:[jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx("svg",{className:`mx-auto h-16 w-16 ${n?"text-blue-500":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"选择或拖拽PDF文件"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"支持最大100MB的PDF文件"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center items-center",children:[jsxRuntimeExports.jsxs("label",{className:"btn btn-primary cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf,.pdf",onChange:p,className:"sr-only"}),"选择文件"]}),supportsFileSystemAccess()&&jsxRuntimeExports.jsx("button",{onClick:g,className:"btn btn-secondary",children:"浏览文件"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 text-sm text-gray-500",children:[jsxRuntimeExports.jsx("p",{children:"支持的格式：PDF"}),jsxRuntimeExports.jsx("p",{children:"文件大小限制：100MB"})]}),l&&jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("span",{className:"text-sm text-red-700",children:l})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"功能特性"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"页面删除和重排"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"区域裁剪"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"导出图片"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"导出SVG"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"纯前端处理"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"无需上传"]})]})]})]})})}class ErrorBoundary extends reactExports.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("ErrorBoundary caught an error:",s,n),this.setState({error:s,errorInfo:n})}handleReload=()=>{window.location.reload()};handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"应用程序出错"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"很抱歉，应用程序遇到了意外错误"})]})]}),this.state.error&&jsxRuntimeExports.jsxs("div",{className:"mb-4 p-3 bg-gray-100 rounded-md",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"错误信息："}),jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600 font-mono break-all",children:this.state.error.message})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:this.handleReset,className:"btn btn-primary flex-1",children:"重新尝试"}),jsxRuntimeExports.jsx("button",{onClick:this.handleReload,className:"btn btn-secondary flex-1",children:"刷新页面"})]}),!1]})}):this.props.children}}function LoadingOverlay({message:o="正在处理...",progress:s,onCancel:n}){return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-sm w-full mx-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx("div",{className:"loading-spinner w-8 h-8 text-blue-600"})}),jsxRuntimeExports.jsxs("div",{className:"text-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:o}),typeof s=="number"&&jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("div",{className:"progress",children:jsxRuntimeExports.jsx("div",{className:"progress-bar",style:{width:`${Math.max(0,Math.min(100,s))}%`}})}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Math.round(s),"%"]})]})]}),n&&jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("button",{onClick:n,className:"btn btn-secondary btn-sm",children:"取消"})})]})})}function App(){const{openFile:o,clearError:s}=useProjectStore(),n=useHasFile(),a=useIsLoading(),l=useError(),f=reactExports.useCallback(async v=>{await o(v)},[o]);return jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(DndProvider,{backend:HTML5Backend,children:jsxRuntimeExports.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[jsxRuntimeExports.jsx("header",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx(Toolbar,{onFileSelect:f})}),jsxRuntimeExports.jsx("main",{className:"flex-1 flex min-h-0",children:n?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("aside",{className:"w-80 flex-shrink-0 border-r border-gray-200 bg-white",children:jsxRuntimeExports.jsx(ThumbnailList,{})}),jsxRuntimeExports.jsx("section",{className:"flex-1 relative",children:jsxRuntimeExports.jsx(CanvasViewer,{})})]}):jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center",children:jsxRuntimeExports.jsx(FileDropZone,{onFileSelect:f,className:"w-full max-w-2xl mx-8"})})}),l&&jsxRuntimeExports.jsx("div",{className:"fixed top-4 right-4 z-50",children:jsxRuntimeExports.jsxs("div",{className:"toast toast-error flex items-center gap-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("span",{children:l}),jsxRuntimeExports.jsx("button",{onClick:s,className:"ml-2 text-white hover:text-gray-200",children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a&&jsxRuntimeExports.jsx(LoadingOverlay,{})]})})})}window.addEventListener("unhandledrejection",o=>{console.error("未处理的 Promise 拒绝:",o.reason)});window.addEventListener("error",o=>{console.error("全局错误:",o.error)});ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
